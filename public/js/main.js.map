{"version":3,"sources":["summernote.js","bootstrap-datepicker.ru.js","dt.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACl5OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/**\n * Super simple wysiwyg editor v0.8.11\n * https://summernote.org\n *\n * Copyright 2013- Alan Hong. and other contributors\n * summernote may be freely distributed under the MIT license.\n *\n * Date: 2018-11-24T12:13Z\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? factory(require('jquery')) :\n  typeof define === 'function' && define.amd ? define(['jquery'], factory) :\n  (factory(global.jQuery));\n}(this, (function ($$1) { 'use strict';\n\n  $$1 = $$1 && $$1.hasOwnProperty('default') ? $$1['default'] : $$1;\n\n  var Renderer = /** @class */ (function () {\n      function Renderer(markup, children, options, callback) {\n          this.markup = markup;\n          this.children = children;\n          this.options = options;\n          this.callback = callback;\n      }\n      Renderer.prototype.render = function ($parent) {\n          var $node = $$1(this.markup);\n          if (this.options && this.options.contents) {\n              $node.html(this.options.contents);\n          }\n          if (this.options && this.options.className) {\n              $node.addClass(this.options.className);\n          }\n          if (this.options && this.options.data) {\n              $$1.each(this.options.data, function (k, v) {\n                  $node.attr('data-' + k, v);\n              });\n          }\n          if (this.options && this.options.click) {\n              $node.on('click', this.options.click);\n          }\n          if (this.children) {\n              var $container_1 = $node.find('.note-children-container');\n              this.children.forEach(function (child) {\n                  child.render($container_1.length ? $container_1 : $node);\n              });\n          }\n          if (this.callback) {\n              this.callback($node, this.options);\n          }\n          if (this.options && this.options.callback) {\n              this.options.callback($node);\n          }\n          if ($parent) {\n              $parent.append($node);\n          }\n          return $node;\n      };\n      return Renderer;\n  }());\n  var renderer = {\n      create: function (markup, callback) {\n          return function () {\n              var options = typeof arguments[1] === 'object' ? arguments[1] : arguments[0];\n              var children = $$1.isArray(arguments[0]) ? arguments[0] : [];\n              if (options && options.children) {\n                  children = options.children;\n              }\n              return new Renderer(markup, children, options, callback);\n          };\n      }\n  };\n\n  var editor = renderer.create('<div class=\"note-editor note-frame panel panel-default\"/>');\n  var toolbar = renderer.create('<div class=\"note-toolbar panel-heading\" role=\"toolbar\"></div></div>');\n  var editingArea = renderer.create('<div class=\"note-editing-area\"/>');\n  var codable = renderer.create('<textarea class=\"note-codable\" role=\"textbox\" aria-multiline=\"true\"/>');\n  var editable = renderer.create('<div class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>');\n  var statusbar = renderer.create([\n      '<output class=\"note-status-output\" aria-live=\"polite\"/>',\n      '<div class=\"note-statusbar\" role=\"status\">',\n      '  <div class=\"note-resizebar\" role=\"seperator\" aria-orientation=\"horizontal\" aria-label=\"Resize\">',\n      '    <div class=\"note-icon-bar\"/>',\n      '    <div class=\"note-icon-bar\"/>',\n      '    <div class=\"note-icon-bar\"/>',\n      '  </div>',\n      '</div>'\n  ].join(''));\n  var airEditor = renderer.create('<div class=\"note-editor\"/>');\n  var airEditable = renderer.create([\n      '<div class=\"note-editable\" contentEditable=\"true\" role=\"textbox\" aria-multiline=\"true\"/>',\n      '<output class=\"note-status-output\" aria-live=\"polite\"/>'\n  ].join(''));\n  var buttonGroup = renderer.create('<div class=\"note-btn-group btn-group\">');\n  var dropdown = renderer.create('<ul class=\"dropdown-menu\" role=\"list\">', function ($node, options) {\n      var markup = $$1.isArray(options.items) ? options.items.map(function (item) {\n          var value = (typeof item === 'string') ? item : (item.value || '');\n          var content = options.template ? options.template(item) : item;\n          var option = (typeof item === 'object') ? item.option : undefined;\n          var dataValue = 'data-value=\"' + value + '\"';\n          var dataOption = (option !== undefined) ? ' data-option=\"' + option + '\"' : '';\n          return '<li role=\"listitem\" aria-label=\"' + item + '\"><a href=\"#\" ' + (dataValue + dataOption) + '>' + content + '</a></li>';\n      }).join('') : options.items;\n      $node.html(markup).attr({ 'aria-label': options.title });\n  });\n  var dropdownButtonContents = function (contents, options) {\n      return contents + ' ' + icon(options.icons.caret, 'span');\n  };\n  var dropdownCheck = renderer.create('<ul class=\"dropdown-menu note-check\" role=\"list\">', function ($node, options) {\n      var markup = $$1.isArray(options.items) ? options.items.map(function (item) {\n          var value = (typeof item === 'string') ? item : (item.value || '');\n          var content = options.template ? options.template(item) : item;\n          return '<li role=\"listitem\" aria-label=\"' + item + '\"><a href=\"#\" data-value=\"' + value + '\">' + icon(options.checkClassName) + ' ' + content + '</a></li>';\n      }).join('') : options.items;\n      $node.html(markup).attr({ 'aria-label': options.title });\n  });\n  var palette = renderer.create('<div class=\"note-color-palette\"/>', function ($node, options) {\n      var contents = [];\n      for (var row = 0, rowSize = options.colors.length; row < rowSize; row++) {\n          var eventName = options.eventName;\n          var colors = options.colors[row];\n          var colorsName = options.colorsName[row];\n          var buttons = [];\n          for (var col = 0, colSize = colors.length; col < colSize; col++) {\n              var color = colors[col];\n              var colorName = colorsName[col];\n              buttons.push([\n                  '<button type=\"button\" class=\"note-color-btn\"',\n                  'style=\"background-color:', color, '\" ',\n                  'data-event=\"', eventName, '\" ',\n                  'data-value=\"', color, '\" ',\n                  'title=\"', colorName, '\" ',\n                  'aria-label=\"', colorName, '\" ',\n                  'data-toggle=\"button\" tabindex=\"-1\"></button>'\n              ].join(''));\n          }\n          contents.push('<div class=\"note-color-row\">' + buttons.join('') + '</div>');\n      }\n      $node.html(contents.join(''));\n      if (options.tooltip) {\n          $node.find('.note-color-btn').tooltip({\n              container: options.container,\n              trigger: 'hover',\n              placement: 'bottom'\n          });\n      }\n  });\n  var dialog = renderer.create('<div class=\"modal\" aria-hidden=\"false\" tabindex=\"-1\" role=\"dialog\"/>', function ($node, options) {\n      if (options.fade) {\n          $node.addClass('fade');\n      }\n      $node.attr({\n          'aria-label': options.title\n      });\n      $node.html([\n          '<div class=\"modal-dialog\">',\n          '  <div class=\"modal-content\">',\n          (options.title\n              ? '    <div class=\"modal-header\">' +\n                  '      <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" aria-hidden=\"true\">&times;</button>' +\n                  '      <h4 class=\"modal-title\">' + options.title + '</h4>' +\n                  '    </div>' : ''),\n          '    <div class=\"modal-body\">' + options.body + '</div>',\n          (options.footer\n              ? '    <div class=\"modal-footer\">' + options.footer + '</div>' : ''),\n          '  </div>',\n          '</div>'\n      ].join(''));\n  });\n  var popover = renderer.create([\n      '<div class=\"note-popover popover in\">',\n      '  <div class=\"arrow\"/>',\n      '  <div class=\"popover-content note-children-container\"/>',\n      '</div>'\n  ].join(''), function ($node, options) {\n      var direction = typeof options.direction !== 'undefined' ? options.direction : 'bottom';\n      $node.addClass(direction);\n      if (options.hideArrow) {\n          $node.find('.arrow').hide();\n      }\n  });\n  var checkbox = renderer.create('<div class=\"checkbox\"></div>', function ($node, options) {\n      $node.html([\n          '<label' + (options.id ? ' for=\"' + options.id + '\"' : '') + '>',\n          ' <input role=\"checkbox\" type=\"checkbox\"' + (options.id ? ' id=\"' + options.id + '\"' : ''),\n          (options.checked ? ' checked' : ''),\n          ' aria-checked=\"' + (options.checked ? 'true' : 'false') + '\"/>',\n          (options.text ? options.text : ''),\n          '</label>'\n      ].join(''));\n  });\n  var icon = function (iconClassName, tagName) {\n      tagName = tagName || 'i';\n      return '<' + tagName + ' class=\"' + iconClassName + '\"/>';\n  };\n  var ui = {\n      editor: editor,\n      toolbar: toolbar,\n      editingArea: editingArea,\n      codable: codable,\n      editable: editable,\n      statusbar: statusbar,\n      airEditor: airEditor,\n      airEditable: airEditable,\n      buttonGroup: buttonGroup,\n      dropdown: dropdown,\n      dropdownButtonContents: dropdownButtonContents,\n      dropdownCheck: dropdownCheck,\n      palette: palette,\n      dialog: dialog,\n      popover: popover,\n      checkbox: checkbox,\n      icon: icon,\n      options: {},\n      button: function ($node, options) {\n          return renderer.create('<button type=\"button\" class=\"note-btn btn btn-default btn-sm\" role=\"button\" tabindex=\"-1\">', function ($node, options) {\n              if (options && options.tooltip) {\n                  $node.attr({\n                      title: options.tooltip,\n                      'aria-label': options.tooltip\n                  }).tooltip({\n                      container: (options.container !== undefined) ? options.container : 'body',\n                      trigger: 'hover',\n                      placement: 'bottom'\n                  });\n              }\n          })($node, options);\n      },\n      toggleBtn: function ($btn, isEnable) {\n          $btn.toggleClass('disabled', !isEnable);\n          $btn.attr('disabled', !isEnable);\n      },\n      toggleBtnActive: function ($btn, isActive) {\n          $btn.toggleClass('active', isActive);\n      },\n      onDialogShown: function ($dialog, handler) {\n          $dialog.one('shown.bs.modal', handler);\n      },\n      onDialogHidden: function ($dialog, handler) {\n          $dialog.one('hidden.bs.modal', handler);\n      },\n      showDialog: function ($dialog) {\n          $dialog.modal('show');\n      },\n      hideDialog: function ($dialog) {\n          $dialog.modal('hide');\n      },\n      createLayout: function ($note, options) {\n          var $editor = (options.airMode ? ui.airEditor([\n              ui.editingArea([\n                  ui.airEditable()\n              ])\n          ]) : ui.editor([\n              ui.toolbar(),\n              ui.editingArea([\n                  ui.codable(),\n                  ui.editable()\n              ]),\n              ui.statusbar()\n          ])).render();\n          $editor.insertAfter($note);\n          return {\n              note: $note,\n              editor: $editor,\n              toolbar: $editor.find('.note-toolbar'),\n              editingArea: $editor.find('.note-editing-area'),\n              editable: $editor.find('.note-editable'),\n              codable: $editor.find('.note-codable'),\n              statusbar: $editor.find('.note-statusbar')\n          };\n      },\n      removeLayout: function ($note, layoutInfo) {\n          $note.html(layoutInfo.editable.html());\n          layoutInfo.editor.remove();\n          $note.show();\n      }\n  };\n\n  /**\n   * @class core.func\n   *\n   * func utils (for high-order func's arg)\n   *\n   * @singleton\n   * @alternateClassName func\n   */\n  function eq(itemA) {\n      return function (itemB) {\n          return itemA === itemB;\n      };\n  }\n  function eq2(itemA, itemB) {\n      return itemA === itemB;\n  }\n  function peq2(propName) {\n      return function (itemA, itemB) {\n          return itemA[propName] === itemB[propName];\n      };\n  }\n  function ok() {\n      return true;\n  }\n  function fail() {\n      return false;\n  }\n  function not(f) {\n      return function () {\n          return !f.apply(f, arguments);\n      };\n  }\n  function and(fA, fB) {\n      return function (item) {\n          return fA(item) && fB(item);\n      };\n  }\n  function self(a) {\n      return a;\n  }\n  function invoke(obj, method) {\n      return function () {\n          return obj[method].apply(obj, arguments);\n      };\n  }\n  var idCounter = 0;\n  /**\n   * generate a globally-unique id\n   *\n   * @param {String} [prefix]\n   */\n  function uniqueId(prefix) {\n      var id = ++idCounter + '';\n      return prefix ? prefix + id : id;\n  }\n  /**\n   * returns bnd (bounds) from rect\n   *\n   * - IE Compatibility Issue: http://goo.gl/sRLOAo\n   * - Scroll Issue: http://goo.gl/sNjUc\n   *\n   * @param {Rect} rect\n   * @return {Object} bounds\n   * @return {Number} bounds.top\n   * @return {Number} bounds.left\n   * @return {Number} bounds.width\n   * @return {Number} bounds.height\n   */\n  function rect2bnd(rect) {\n      var $document = $(document);\n      return {\n          top: rect.top + $document.scrollTop(),\n          left: rect.left + $document.scrollLeft(),\n          width: rect.right - rect.left,\n          height: rect.bottom - rect.top\n      };\n  }\n  /**\n   * returns a copy of the object where the keys have become the values and the values the keys.\n   * @param {Object} obj\n   * @return {Object}\n   */\n  function invertObject(obj) {\n      var inverted = {};\n      for (var key in obj) {\n          if (obj.hasOwnProperty(key)) {\n              inverted[obj[key]] = key;\n          }\n      }\n      return inverted;\n  }\n  /**\n   * @param {String} namespace\n   * @param {String} [prefix]\n   * @return {String}\n   */\n  function namespaceToCamel(namespace, prefix) {\n      prefix = prefix || '';\n      return prefix + namespace.split('.').map(function (name) {\n          return name.substring(0, 1).toUpperCase() + name.substring(1);\n      }).join('');\n  }\n  /**\n   * Returns a function, that, as long as it continues to be invoked, will not\n   * be triggered. The function will be called after it stops being called for\n   * N milliseconds. If `immediate` is passed, trigger the function on the\n   * leading edge, instead of the trailing.\n   * @param {Function} func\n   * @param {Number} wait\n   * @param {Boolean} immediate\n   * @return {Function}\n   */\n  function debounce(func, wait, immediate) {\n      var timeout;\n      return function () {\n          var context = this;\n          var args = arguments;\n          var later = function () {\n              timeout = null;\n              if (!immediate) {\n                  func.apply(context, args);\n              }\n          };\n          var callNow = immediate && !timeout;\n          clearTimeout(timeout);\n          timeout = setTimeout(later, wait);\n          if (callNow) {\n              func.apply(context, args);\n          }\n      };\n  }\n  var func = {\n      eq: eq,\n      eq2: eq2,\n      peq2: peq2,\n      ok: ok,\n      fail: fail,\n      self: self,\n      not: not,\n      and: and,\n      invoke: invoke,\n      uniqueId: uniqueId,\n      rect2bnd: rect2bnd,\n      invertObject: invertObject,\n      namespaceToCamel: namespaceToCamel,\n      debounce: debounce\n  };\n\n  /**\n   * returns the first item of an array.\n   *\n   * @param {Array} array\n   */\n  function head(array) {\n      return array[0];\n  }\n  /**\n   * returns the last item of an array.\n   *\n   * @param {Array} array\n   */\n  function last(array) {\n      return array[array.length - 1];\n  }\n  /**\n   * returns everything but the last entry of the array.\n   *\n   * @param {Array} array\n   */\n  function initial(array) {\n      return array.slice(0, array.length - 1);\n  }\n  /**\n   * returns the rest of the items in an array.\n   *\n   * @param {Array} array\n   */\n  function tail(array) {\n      return array.slice(1);\n  }\n  /**\n   * returns item of array\n   */\n  function find(array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n          var item = array[idx];\n          if (pred(item)) {\n              return item;\n          }\n      }\n  }\n  /**\n   * returns true if all of the values in the array pass the predicate truth test.\n   */\n  function all(array, pred) {\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n          if (!pred(array[idx])) {\n              return false;\n          }\n      }\n      return true;\n  }\n  /**\n   * returns index of item\n   */\n  function indexOf(array, item) {\n      return $$1.inArray(item, array);\n  }\n  /**\n   * returns true if the value is present in the list.\n   */\n  function contains(array, item) {\n      return indexOf(array, item) !== -1;\n  }\n  /**\n   * get sum from a list\n   *\n   * @param {Array} array - array\n   * @param {Function} fn - iterator\n   */\n  function sum(array, fn) {\n      fn = fn || func.self;\n      return array.reduce(function (memo, v) {\n          return memo + fn(v);\n      }, 0);\n  }\n  /**\n   * returns a copy of the collection with array type.\n   * @param {Collection} collection - collection eg) node.childNodes, ...\n   */\n  function from(collection) {\n      var result = [];\n      var length = collection.length;\n      var idx = -1;\n      while (++idx < length) {\n          result[idx] = collection[idx];\n      }\n      return result;\n  }\n  /**\n   * returns whether list is empty or not\n   */\n  function isEmpty(array) {\n      return !array || !array.length;\n  }\n  /**\n   * cluster elements by predicate function.\n   *\n   * @param {Array} array - array\n   * @param {Function} fn - predicate function for cluster rule\n   * @param {Array[]}\n   */\n  function clusterBy(array, fn) {\n      if (!array.length) {\n          return [];\n      }\n      var aTail = tail(array);\n      return aTail.reduce(function (memo, v) {\n          var aLast = last(memo);\n          if (fn(last(aLast), v)) {\n              aLast[aLast.length] = v;\n          }\n          else {\n              memo[memo.length] = [v];\n          }\n          return memo;\n      }, [[head(array)]]);\n  }\n  /**\n   * returns a copy of the array with all false values removed\n   *\n   * @param {Array} array - array\n   * @param {Function} fn - predicate function for cluster rule\n   */\n  function compact(array) {\n      var aResult = [];\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n          if (array[idx]) {\n              aResult.push(array[idx]);\n          }\n      }\n      return aResult;\n  }\n  /**\n   * produces a duplicate-free version of the array\n   *\n   * @param {Array} array\n   */\n  function unique(array) {\n      var results = [];\n      for (var idx = 0, len = array.length; idx < len; idx++) {\n          if (!contains(results, array[idx])) {\n              results.push(array[idx]);\n          }\n      }\n      return results;\n  }\n  /**\n   * returns next item.\n   * @param {Array} array\n   */\n  function next(array, item) {\n      var idx = indexOf(array, item);\n      if (idx === -1) {\n          return null;\n      }\n      return array[idx + 1];\n  }\n  /**\n   * returns prev item.\n   * @param {Array} array\n   */\n  function prev(array, item) {\n      var idx = indexOf(array, item);\n      if (idx === -1) {\n          return null;\n      }\n      return array[idx - 1];\n  }\n  /**\n   * @class core.list\n   *\n   * list utils\n   *\n   * @singleton\n   * @alternateClassName list\n   */\n  var lists = {\n      head: head,\n      last: last,\n      initial: initial,\n      tail: tail,\n      prev: prev,\n      next: next,\n      find: find,\n      contains: contains,\n      all: all,\n      sum: sum,\n      from: from,\n      isEmpty: isEmpty,\n      clusterBy: clusterBy,\n      compact: compact,\n      unique: unique\n  };\n\n  var isSupportAmd = typeof define === 'function' && define.amd; // eslint-disable-line\n  /**\n   * returns whether font is installed or not.\n   *\n   * @param {String} fontName\n   * @return {Boolean}\n   */\n  function isFontInstalled(fontName) {\n      var testFontName = fontName === 'Comic Sans MS' ? 'Courier New' : 'Comic Sans MS';\n      var $tester = $$1('<div>').css({\n          position: 'absolute',\n          left: '-9999px',\n          top: '-9999px',\n          fontSize: '200px'\n      }).text('mmmmmmmmmwwwwwww').appendTo(document.body);\n      var originalWidth = $tester.css('fontFamily', testFontName).width();\n      var width = $tester.css('fontFamily', fontName + ',' + testFontName).width();\n      $tester.remove();\n      return originalWidth !== width;\n  }\n  var userAgent = navigator.userAgent;\n  var isMSIE = /MSIE|Trident/i.test(userAgent);\n  var browserVersion;\n  if (isMSIE) {\n      var matches = /MSIE (\\d+[.]\\d+)/.exec(userAgent);\n      if (matches) {\n          browserVersion = parseFloat(matches[1]);\n      }\n      matches = /Trident\\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(userAgent);\n      if (matches) {\n          browserVersion = parseFloat(matches[1]);\n      }\n  }\n  var isEdge = /Edge\\/\\d+/.test(userAgent);\n  var hasCodeMirror = !!window.CodeMirror;\n  if (!hasCodeMirror && isSupportAmd) {\n      // Webpack\n      if (typeof __webpack_require__ === 'function') { // eslint-disable-line\n          try {\n              // If CodeMirror can't be resolved, `require.resolve` will throw an\n              // exception and `hasCodeMirror` won't be set to `true`.\n              require.resolve('codemirror');\n              hasCodeMirror = true;\n          }\n          catch (e) {\n              // do nothing\n          }\n      }\n      else if (typeof require !== 'undefined') {\n          // Browserify\n          if (typeof require.resolve !== 'undefined') {\n              try {\n                  // If CodeMirror can't be resolved, `require.resolve` will throw an\n                  // exception and `hasCodeMirror` won't be set to `true`.\n                  require.resolve('codemirror');\n                  hasCodeMirror = true;\n              }\n              catch (e) {\n                  // do nothing\n              }\n              // Almond/Require\n          }\n          else if (typeof require.specified !== 'undefined') {\n              hasCodeMirror = require.specified('codemirror');\n          }\n      }\n  }\n  var isSupportTouch = (('ontouchstart' in window) ||\n      (navigator.MaxTouchPoints > 0) ||\n      (navigator.msMaxTouchPoints > 0));\n  // [workaround] IE doesn't have input events for contentEditable\n  // - see: https://goo.gl/4bfIvA\n  var inputEventName = (isMSIE || isEdge) ? 'DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted' : 'input';\n  /**\n   * @class core.env\n   *\n   * Object which check platform and agent\n   *\n   * @singleton\n   * @alternateClassName env\n   */\n  var env = {\n      isMac: navigator.appVersion.indexOf('Mac') > -1,\n      isMSIE: isMSIE,\n      isEdge: isEdge,\n      isFF: !isEdge && /firefox/i.test(userAgent),\n      isPhantom: /PhantomJS/i.test(userAgent),\n      isWebkit: !isEdge && /webkit/i.test(userAgent),\n      isChrome: !isEdge && /chrome/i.test(userAgent),\n      isSafari: !isEdge && /safari/i.test(userAgent),\n      browserVersion: browserVersion,\n      jqueryVersion: parseFloat($$1.fn.jquery),\n      isSupportAmd: isSupportAmd,\n      isSupportTouch: isSupportTouch,\n      hasCodeMirror: hasCodeMirror,\n      isFontInstalled: isFontInstalled,\n      isW3CRangeSupport: !!document.createRange,\n      inputEventName: inputEventName\n  };\n\n  var NBSP_CHAR = String.fromCharCode(160);\n  var ZERO_WIDTH_NBSP_CHAR = '\\ufeff';\n  /**\n   * @method isEditable\n   *\n   * returns whether node is `note-editable` or not.\n   *\n   * @param {Node} node\n   * @return {Boolean}\n   */\n  function isEditable(node) {\n      return node && $$1(node).hasClass('note-editable');\n  }\n  /**\n   * @method isControlSizing\n   *\n   * returns whether node is `note-control-sizing` or not.\n   *\n   * @param {Node} node\n   * @return {Boolean}\n   */\n  function isControlSizing(node) {\n      return node && $$1(node).hasClass('note-control-sizing');\n  }\n  /**\n   * @method makePredByNodeName\n   *\n   * returns predicate which judge whether nodeName is same\n   *\n   * @param {String} nodeName\n   * @return {Function}\n   */\n  function makePredByNodeName(nodeName) {\n      nodeName = nodeName.toUpperCase();\n      return function (node) {\n          return node && node.nodeName.toUpperCase() === nodeName;\n      };\n  }\n  /**\n   * @method isText\n   *\n   *\n   *\n   * @param {Node} node\n   * @return {Boolean} true if node's type is text(3)\n   */\n  function isText(node) {\n      return node && node.nodeType === 3;\n  }\n  /**\n   * @method isElement\n   *\n   *\n   *\n   * @param {Node} node\n   * @return {Boolean} true if node's type is element(1)\n   */\n  function isElement(node) {\n      return node && node.nodeType === 1;\n  }\n  /**\n   * ex) br, col, embed, hr, img, input, ...\n   * @see http://www.w3.org/html/wg/drafts/html/master/syntax.html#void-elements\n   */\n  function isVoid(node) {\n      return node && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^VIDEO|^EMBED/.test(node.nodeName.toUpperCase());\n  }\n  function isPara(node) {\n      if (isEditable(node)) {\n          return false;\n      }\n      // Chrome(v31.0), FF(v25.0.1) use DIV for paragraph\n      return node && /^DIV|^P|^LI|^H[1-7]/.test(node.nodeName.toUpperCase());\n  }\n  function isHeading(node) {\n      return node && /^H[1-7]/.test(node.nodeName.toUpperCase());\n  }\n  var isPre = makePredByNodeName('PRE');\n  var isLi = makePredByNodeName('LI');\n  function isPurePara(node) {\n      return isPara(node) && !isLi(node);\n  }\n  var isTable = makePredByNodeName('TABLE');\n  var isData = makePredByNodeName('DATA');\n  function isInline(node) {\n      return !isBodyContainer(node) &&\n          !isList(node) &&\n          !isHr(node) &&\n          !isPara(node) &&\n          !isTable(node) &&\n          !isBlockquote(node) &&\n          !isData(node);\n  }\n  function isList(node) {\n      return node && /^UL|^OL/.test(node.nodeName.toUpperCase());\n  }\n  var isHr = makePredByNodeName('HR');\n  function isCell(node) {\n      return node && /^TD|^TH/.test(node.nodeName.toUpperCase());\n  }\n  var isBlockquote = makePredByNodeName('BLOCKQUOTE');\n  function isBodyContainer(node) {\n      return isCell(node) || isBlockquote(node) || isEditable(node);\n  }\n  var isAnchor = makePredByNodeName('A');\n  function isParaInline(node) {\n      return isInline(node) && !!ancestor(node, isPara);\n  }\n  function isBodyInline(node) {\n      return isInline(node) && !ancestor(node, isPara);\n  }\n  var isBody = makePredByNodeName('BODY');\n  /**\n   * returns whether nodeB is closest sibling of nodeA\n   *\n   * @param {Node} nodeA\n   * @param {Node} nodeB\n   * @return {Boolean}\n   */\n  function isClosestSibling(nodeA, nodeB) {\n      return nodeA.nextSibling === nodeB ||\n          nodeA.previousSibling === nodeB;\n  }\n  /**\n   * returns array of closest siblings with node\n   *\n   * @param {Node} node\n   * @param {function} [pred] - predicate function\n   * @return {Node[]}\n   */\n  function withClosestSiblings(node, pred) {\n      pred = pred || func.ok;\n      var siblings = [];\n      if (node.previousSibling && pred(node.previousSibling)) {\n          siblings.push(node.previousSibling);\n      }\n      siblings.push(node);\n      if (node.nextSibling && pred(node.nextSibling)) {\n          siblings.push(node.nextSibling);\n      }\n      return siblings;\n  }\n  /**\n   * blank HTML for cursor position\n   * - [workaround] old IE only works with &nbsp;\n   * - [workaround] IE11 and other browser works with bogus br\n   */\n  var blankHTML = env.isMSIE && env.browserVersion < 11 ? '&nbsp;' : '<br>';\n  /**\n   * @method nodeLength\n   *\n   * returns #text's text size or element's childNodes size\n   *\n   * @param {Node} node\n   */\n  function nodeLength(node) {\n      if (isText(node)) {\n          return node.nodeValue.length;\n      }\n      if (node) {\n          return node.childNodes.length;\n      }\n      return 0;\n  }\n  /**\n   * returns whether node is empty or not.\n   *\n   * @param {Node} node\n   * @return {Boolean}\n   */\n  function isEmpty$1(node) {\n      var len = nodeLength(node);\n      if (len === 0) {\n          return true;\n      }\n      else if (!isText(node) && len === 1 && node.innerHTML === blankHTML) {\n          // ex) <p><br></p>, <span><br></span>\n          return true;\n      }\n      else if (lists.all(node.childNodes, isText) && node.innerHTML === '') {\n          // ex) <p></p>, <span></span>\n          return true;\n      }\n      return false;\n  }\n  /**\n   * padding blankHTML if node is empty (for cursor position)\n   */\n  function paddingBlankHTML(node) {\n      if (!isVoid(node) && !nodeLength(node)) {\n          node.innerHTML = blankHTML;\n      }\n  }\n  /**\n   * find nearest ancestor predicate hit\n   *\n   * @param {Node} node\n   * @param {Function} pred - predicate function\n   */\n  function ancestor(node, pred) {\n      while (node) {\n          if (pred(node)) {\n              return node;\n          }\n          if (isEditable(node)) {\n              break;\n          }\n          node = node.parentNode;\n      }\n      return null;\n  }\n  /**\n   * find nearest ancestor only single child blood line and predicate hit\n   *\n   * @param {Node} node\n   * @param {Function} pred - predicate function\n   */\n  function singleChildAncestor(node, pred) {\n      node = node.parentNode;\n      while (node) {\n          if (nodeLength(node) !== 1) {\n              break;\n          }\n          if (pred(node)) {\n              return node;\n          }\n          if (isEditable(node)) {\n              break;\n          }\n          node = node.parentNode;\n      }\n      return null;\n  }\n  /**\n   * returns new array of ancestor nodes (until predicate hit).\n   *\n   * @param {Node} node\n   * @param {Function} [optional] pred - predicate function\n   */\n  function listAncestor(node, pred) {\n      pred = pred || func.fail;\n      var ancestors = [];\n      ancestor(node, function (el) {\n          if (!isEditable(el)) {\n              ancestors.push(el);\n          }\n          return pred(el);\n      });\n      return ancestors;\n  }\n  /**\n   * find farthest ancestor predicate hit\n   */\n  function lastAncestor(node, pred) {\n      var ancestors = listAncestor(node);\n      return lists.last(ancestors.filter(pred));\n  }\n  /**\n   * returns common ancestor node between two nodes.\n   *\n   * @param {Node} nodeA\n   * @param {Node} nodeB\n   */\n  function commonAncestor(nodeA, nodeB) {\n      var ancestors = listAncestor(nodeA);\n      for (var n = nodeB; n; n = n.parentNode) {\n          if ($$1.inArray(n, ancestors) > -1) {\n              return n;\n          }\n      }\n      return null; // difference document area\n  }\n  /**\n   * listing all previous siblings (until predicate hit).\n   *\n   * @param {Node} node\n   * @param {Function} [optional] pred - predicate function\n   */\n  function listPrev(node, pred) {\n      pred = pred || func.fail;\n      var nodes = [];\n      while (node) {\n          if (pred(node)) {\n              break;\n          }\n          nodes.push(node);\n          node = node.previousSibling;\n      }\n      return nodes;\n  }\n  /**\n   * listing next siblings (until predicate hit).\n   *\n   * @param {Node} node\n   * @param {Function} [pred] - predicate function\n   */\n  function listNext(node, pred) {\n      pred = pred || func.fail;\n      var nodes = [];\n      while (node) {\n          if (pred(node)) {\n              break;\n          }\n          nodes.push(node);\n          node = node.nextSibling;\n      }\n      return nodes;\n  }\n  /**\n   * listing descendant nodes\n   *\n   * @param {Node} node\n   * @param {Function} [pred] - predicate function\n   */\n  function listDescendant(node, pred) {\n      var descendants = [];\n      pred = pred || func.ok;\n      // start DFS(depth first search) with node\n      (function fnWalk(current) {\n          if (node !== current && pred(current)) {\n              descendants.push(current);\n          }\n          for (var idx = 0, len = current.childNodes.length; idx < len; idx++) {\n              fnWalk(current.childNodes[idx]);\n          }\n      })(node);\n      return descendants;\n  }\n  /**\n   * wrap node with new tag.\n   *\n   * @param {Node} node\n   * @param {Node} tagName of wrapper\n   * @return {Node} - wrapper\n   */\n  function wrap(node, wrapperName) {\n      var parent = node.parentNode;\n      var wrapper = $$1('<' + wrapperName + '>')[0];\n      parent.insertBefore(wrapper, node);\n      wrapper.appendChild(node);\n      return wrapper;\n  }\n  /**\n   * insert node after preceding\n   *\n   * @param {Node} node\n   * @param {Node} preceding - predicate function\n   */\n  function insertAfter(node, preceding) {\n      var next = preceding.nextSibling;\n      var parent = preceding.parentNode;\n      if (next) {\n          parent.insertBefore(node, next);\n      }\n      else {\n          parent.appendChild(node);\n      }\n      return node;\n  }\n  /**\n   * append elements.\n   *\n   * @param {Node} node\n   * @param {Collection} aChild\n   */\n  function appendChildNodes(node, aChild) {\n      $$1.each(aChild, function (idx, child) {\n          node.appendChild(child);\n      });\n      return node;\n  }\n  /**\n   * returns whether boundaryPoint is left edge or not.\n   *\n   * @param {BoundaryPoint} point\n   * @return {Boolean}\n   */\n  function isLeftEdgePoint(point) {\n      return point.offset === 0;\n  }\n  /**\n   * returns whether boundaryPoint is right edge or not.\n   *\n   * @param {BoundaryPoint} point\n   * @return {Boolean}\n   */\n  function isRightEdgePoint(point) {\n      return point.offset === nodeLength(point.node);\n  }\n  /**\n   * returns whether boundaryPoint is edge or not.\n   *\n   * @param {BoundaryPoint} point\n   * @return {Boolean}\n   */\n  function isEdgePoint(point) {\n      return isLeftEdgePoint(point) || isRightEdgePoint(point);\n  }\n  /**\n   * returns whether node is left edge of ancestor or not.\n   *\n   * @param {Node} node\n   * @param {Node} ancestor\n   * @return {Boolean}\n   */\n  function isLeftEdgeOf(node, ancestor) {\n      while (node && node !== ancestor) {\n          if (position(node) !== 0) {\n              return false;\n          }\n          node = node.parentNode;\n      }\n      return true;\n  }\n  /**\n   * returns whether node is right edge of ancestor or not.\n   *\n   * @param {Node} node\n   * @param {Node} ancestor\n   * @return {Boolean}\n   */\n  function isRightEdgeOf(node, ancestor) {\n      if (!ancestor) {\n          return false;\n      }\n      while (node && node !== ancestor) {\n          if (position(node) !== nodeLength(node.parentNode) - 1) {\n              return false;\n          }\n          node = node.parentNode;\n      }\n      return true;\n  }\n  /**\n   * returns whether point is left edge of ancestor or not.\n   * @param {BoundaryPoint} point\n   * @param {Node} ancestor\n   * @return {Boolean}\n   */\n  function isLeftEdgePointOf(point, ancestor) {\n      return isLeftEdgePoint(point) && isLeftEdgeOf(point.node, ancestor);\n  }\n  /**\n   * returns whether point is right edge of ancestor or not.\n   * @param {BoundaryPoint} point\n   * @param {Node} ancestor\n   * @return {Boolean}\n   */\n  function isRightEdgePointOf(point, ancestor) {\n      return isRightEdgePoint(point) && isRightEdgeOf(point.node, ancestor);\n  }\n  /**\n   * returns offset from parent.\n   *\n   * @param {Node} node\n   */\n  function position(node) {\n      var offset = 0;\n      while ((node = node.previousSibling)) {\n          offset += 1;\n      }\n      return offset;\n  }\n  function hasChildren(node) {\n      return !!(node && node.childNodes && node.childNodes.length);\n  }\n  /**\n   * returns previous boundaryPoint\n   *\n   * @param {BoundaryPoint} point\n   * @param {Boolean} isSkipInnerOffset\n   * @return {BoundaryPoint}\n   */\n  function prevPoint(point, isSkipInnerOffset) {\n      var node;\n      var offset;\n      if (point.offset === 0) {\n          if (isEditable(point.node)) {\n              return null;\n          }\n          node = point.node.parentNode;\n          offset = position(point.node);\n      }\n      else if (hasChildren(point.node)) {\n          node = point.node.childNodes[point.offset - 1];\n          offset = nodeLength(node);\n      }\n      else {\n          node = point.node;\n          offset = isSkipInnerOffset ? 0 : point.offset - 1;\n      }\n      return {\n          node: node,\n          offset: offset\n      };\n  }\n  /**\n   * returns next boundaryPoint\n   *\n   * @param {BoundaryPoint} point\n   * @param {Boolean} isSkipInnerOffset\n   * @return {BoundaryPoint}\n   */\n  function nextPoint(point, isSkipInnerOffset) {\n      var node, offset;\n      if (nodeLength(point.node) === point.offset) {\n          if (isEditable(point.node)) {\n              return null;\n          }\n          node = point.node.parentNode;\n          offset = position(point.node) + 1;\n      }\n      else if (hasChildren(point.node)) {\n          node = point.node.childNodes[point.offset];\n          offset = 0;\n      }\n      else {\n          node = point.node;\n          offset = isSkipInnerOffset ? nodeLength(point.node) : point.offset + 1;\n      }\n      return {\n          node: node,\n          offset: offset\n      };\n  }\n  /**\n   * returns whether pointA and pointB is same or not.\n   *\n   * @param {BoundaryPoint} pointA\n   * @param {BoundaryPoint} pointB\n   * @return {Boolean}\n   */\n  function isSamePoint(pointA, pointB) {\n      return pointA.node === pointB.node && pointA.offset === pointB.offset;\n  }\n  /**\n   * returns whether point is visible (can set cursor) or not.\n   *\n   * @param {BoundaryPoint} point\n   * @return {Boolean}\n   */\n  function isVisiblePoint(point) {\n      if (isText(point.node) || !hasChildren(point.node) || isEmpty$1(point.node)) {\n          return true;\n      }\n      var leftNode = point.node.childNodes[point.offset - 1];\n      var rightNode = point.node.childNodes[point.offset];\n      if ((!leftNode || isVoid(leftNode)) && (!rightNode || isVoid(rightNode))) {\n          return true;\n      }\n      return false;\n  }\n  /**\n   * @method prevPointUtil\n   *\n   * @param {BoundaryPoint} point\n   * @param {Function} pred\n   * @return {BoundaryPoint}\n   */\n  function prevPointUntil(point, pred) {\n      while (point) {\n          if (pred(point)) {\n              return point;\n          }\n          point = prevPoint(point);\n      }\n      return null;\n  }\n  /**\n   * @method nextPointUntil\n   *\n   * @param {BoundaryPoint} point\n   * @param {Function} pred\n   * @return {BoundaryPoint}\n   */\n  function nextPointUntil(point, pred) {\n      while (point) {\n          if (pred(point)) {\n              return point;\n          }\n          point = nextPoint(point);\n      }\n      return null;\n  }\n  /**\n   * returns whether point has character or not.\n   *\n   * @param {Point} point\n   * @return {Boolean}\n   */\n  function isCharPoint(point) {\n      if (!isText(point.node)) {\n          return false;\n      }\n      var ch = point.node.nodeValue.charAt(point.offset - 1);\n      return ch && (ch !== ' ' && ch !== NBSP_CHAR);\n  }\n  /**\n   * @method walkPoint\n   *\n   * @param {BoundaryPoint} startPoint\n   * @param {BoundaryPoint} endPoint\n   * @param {Function} handler\n   * @param {Boolean} isSkipInnerOffset\n   */\n  function walkPoint(startPoint, endPoint, handler, isSkipInnerOffset) {\n      var point = startPoint;\n      while (point) {\n          handler(point);\n          if (isSamePoint(point, endPoint)) {\n              break;\n          }\n          var isSkipOffset = isSkipInnerOffset &&\n              startPoint.node !== point.node &&\n              endPoint.node !== point.node;\n          point = nextPoint(point, isSkipOffset);\n      }\n  }\n  /**\n   * @method makeOffsetPath\n   *\n   * return offsetPath(array of offset) from ancestor\n   *\n   * @param {Node} ancestor - ancestor node\n   * @param {Node} node\n   */\n  function makeOffsetPath(ancestor, node) {\n      var ancestors = listAncestor(node, func.eq(ancestor));\n      return ancestors.map(position).reverse();\n  }\n  /**\n   * @method fromOffsetPath\n   *\n   * return element from offsetPath(array of offset)\n   *\n   * @param {Node} ancestor - ancestor node\n   * @param {array} offsets - offsetPath\n   */\n  function fromOffsetPath(ancestor, offsets) {\n      var current = ancestor;\n      for (var i = 0, len = offsets.length; i < len; i++) {\n          if (current.childNodes.length <= offsets[i]) {\n              current = current.childNodes[current.childNodes.length - 1];\n          }\n          else {\n              current = current.childNodes[offsets[i]];\n          }\n      }\n      return current;\n  }\n  /**\n   * @method splitNode\n   *\n   * split element or #text\n   *\n   * @param {BoundaryPoint} point\n   * @param {Object} [options]\n   * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n   * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n   * @param {Boolean} [options.isDiscardEmptySplits] - default: false\n   * @return {Node} right node of boundaryPoint\n   */\n  function splitNode(point, options) {\n      var isSkipPaddingBlankHTML = options && options.isSkipPaddingBlankHTML;\n      var isNotSplitEdgePoint = options && options.isNotSplitEdgePoint;\n      var isDiscardEmptySplits = options && options.isDiscardEmptySplits;\n      if (isDiscardEmptySplits) {\n          isSkipPaddingBlankHTML = true;\n      }\n      // edge case\n      if (isEdgePoint(point) && (isText(point.node) || isNotSplitEdgePoint)) {\n          if (isLeftEdgePoint(point)) {\n              return point.node;\n          }\n          else if (isRightEdgePoint(point)) {\n              return point.node.nextSibling;\n          }\n      }\n      // split #text\n      if (isText(point.node)) {\n          return point.node.splitText(point.offset);\n      }\n      else {\n          var childNode = point.node.childNodes[point.offset];\n          var clone = insertAfter(point.node.cloneNode(false), point.node);\n          appendChildNodes(clone, listNext(childNode));\n          if (!isSkipPaddingBlankHTML) {\n              paddingBlankHTML(point.node);\n              paddingBlankHTML(clone);\n          }\n          if (isDiscardEmptySplits) {\n              if (isEmpty$1(point.node)) {\n                  remove(point.node);\n              }\n              if (isEmpty$1(clone)) {\n                  remove(clone);\n                  return point.node.nextSibling;\n              }\n          }\n          return clone;\n      }\n  }\n  /**\n   * @method splitTree\n   *\n   * split tree by point\n   *\n   * @param {Node} root - split root\n   * @param {BoundaryPoint} point\n   * @param {Object} [options]\n   * @param {Boolean} [options.isSkipPaddingBlankHTML] - default: false\n   * @param {Boolean} [options.isNotSplitEdgePoint] - default: false\n   * @return {Node} right node of boundaryPoint\n   */\n  function splitTree(root, point, options) {\n      // ex) [#text, <span>, <p>]\n      var ancestors = listAncestor(point.node, func.eq(root));\n      if (!ancestors.length) {\n          return null;\n      }\n      else if (ancestors.length === 1) {\n          return splitNode(point, options);\n      }\n      return ancestors.reduce(function (node, parent) {\n          if (node === point.node) {\n              node = splitNode(point, options);\n          }\n          return splitNode({\n              node: parent,\n              offset: node ? position(node) : nodeLength(parent)\n          }, options);\n      });\n  }\n  /**\n   * split point\n   *\n   * @param {Point} point\n   * @param {Boolean} isInline\n   * @return {Object}\n   */\n  function splitPoint(point, isInline) {\n      // find splitRoot, container\n      //  - inline: splitRoot is a child of paragraph\n      //  - block: splitRoot is a child of bodyContainer\n      var pred = isInline ? isPara : isBodyContainer;\n      var ancestors = listAncestor(point.node, pred);\n      var topAncestor = lists.last(ancestors) || point.node;\n      var splitRoot, container;\n      if (pred(topAncestor)) {\n          splitRoot = ancestors[ancestors.length - 2];\n          container = topAncestor;\n      }\n      else {\n          splitRoot = topAncestor;\n          container = splitRoot.parentNode;\n      }\n      // if splitRoot is exists, split with splitTree\n      var pivot = splitRoot && splitTree(splitRoot, point, {\n          isSkipPaddingBlankHTML: isInline,\n          isNotSplitEdgePoint: isInline\n      });\n      // if container is point.node, find pivot with point.offset\n      if (!pivot && container === point.node) {\n          pivot = point.node.childNodes[point.offset];\n      }\n      return {\n          rightNode: pivot,\n          container: container\n      };\n  }\n  function create(nodeName) {\n      return document.createElement(nodeName);\n  }\n  function createText(text) {\n      return document.createTextNode(text);\n  }\n  /**\n   * @method remove\n   *\n   * remove node, (isRemoveChild: remove child or not)\n   *\n   * @param {Node} node\n   * @param {Boolean} isRemoveChild\n   */\n  function remove(node, isRemoveChild) {\n      if (!node || !node.parentNode) {\n          return;\n      }\n      if (node.removeNode) {\n          return node.removeNode(isRemoveChild);\n      }\n      var parent = node.parentNode;\n      if (!isRemoveChild) {\n          var nodes = [];\n          for (var i = 0, len = node.childNodes.length; i < len; i++) {\n              nodes.push(node.childNodes[i]);\n          }\n          for (var i = 0, len = nodes.length; i < len; i++) {\n              parent.insertBefore(nodes[i], node);\n          }\n      }\n      parent.removeChild(node);\n  }\n  /**\n   * @method removeWhile\n   *\n   * @param {Node} node\n   * @param {Function} pred\n   */\n  function removeWhile(node, pred) {\n      while (node) {\n          if (isEditable(node) || !pred(node)) {\n              break;\n          }\n          var parent = node.parentNode;\n          remove(node);\n          node = parent;\n      }\n  }\n  /**\n   * @method replace\n   *\n   * replace node with provided nodeName\n   *\n   * @param {Node} node\n   * @param {String} nodeName\n   * @return {Node} - new node\n   */\n  function replace(node, nodeName) {\n      if (node.nodeName.toUpperCase() === nodeName.toUpperCase()) {\n          return node;\n      }\n      var newNode = create(nodeName);\n      if (node.style.cssText) {\n          newNode.style.cssText = node.style.cssText;\n      }\n      appendChildNodes(newNode, lists.from(node.childNodes));\n      insertAfter(newNode, node);\n      remove(node);\n      return newNode;\n  }\n  var isTextarea = makePredByNodeName('TEXTAREA');\n  /**\n   * @param {jQuery} $node\n   * @param {Boolean} [stripLinebreaks] - default: false\n   */\n  function value($node, stripLinebreaks) {\n      var val = isTextarea($node[0]) ? $node.val() : $node.html();\n      if (stripLinebreaks) {\n          return val.replace(/[\\n\\r]/g, '');\n      }\n      return val;\n  }\n  /**\n   * @method html\n   *\n   * get the HTML contents of node\n   *\n   * @param {jQuery} $node\n   * @param {Boolean} [isNewlineOnBlock]\n   */\n  function html($node, isNewlineOnBlock) {\n      var markup = value($node);\n      if (isNewlineOnBlock) {\n          var regexTag = /<(\\/?)(\\b(?!!)[^>\\s]*)(.*?)(\\s*\\/?>)/g;\n          markup = markup.replace(regexTag, function (match, endSlash, name) {\n              name = name.toUpperCase();\n              var isEndOfInlineContainer = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(name) &&\n                  !!endSlash;\n              var isBlockNode = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(name);\n              return match + ((isEndOfInlineContainer || isBlockNode) ? '\\n' : '');\n          });\n          markup = $$1.trim(markup);\n      }\n      return markup;\n  }\n  function posFromPlaceholder(placeholder) {\n      var $placeholder = $$1(placeholder);\n      var pos = $placeholder.offset();\n      var height = $placeholder.outerHeight(true); // include margin\n      return {\n          left: pos.left,\n          top: pos.top + height\n      };\n  }\n  function attachEvents($node, events) {\n      Object.keys(events).forEach(function (key) {\n          $node.on(key, events[key]);\n      });\n  }\n  function detachEvents($node, events) {\n      Object.keys(events).forEach(function (key) {\n          $node.off(key, events[key]);\n      });\n  }\n  /**\n   * @method isCustomStyleTag\n   *\n   * assert if a node contains a \"note-styletag\" class,\n   * which implies that's a custom-made style tag node\n   *\n   * @param {Node} an HTML DOM node\n   */\n  function isCustomStyleTag(node) {\n      return node && !isText(node) && lists.contains(node.classList, 'note-styletag');\n  }\n  var dom = {\n      /** @property {String} NBSP_CHAR */\n      NBSP_CHAR: NBSP_CHAR,\n      /** @property {String} ZERO_WIDTH_NBSP_CHAR */\n      ZERO_WIDTH_NBSP_CHAR: ZERO_WIDTH_NBSP_CHAR,\n      /** @property {String} blank */\n      blank: blankHTML,\n      /** @property {String} emptyPara */\n      emptyPara: \"<p>\" + blankHTML + \"</p>\",\n      makePredByNodeName: makePredByNodeName,\n      isEditable: isEditable,\n      isControlSizing: isControlSizing,\n      isText: isText,\n      isElement: isElement,\n      isVoid: isVoid,\n      isPara: isPara,\n      isPurePara: isPurePara,\n      isHeading: isHeading,\n      isInline: isInline,\n      isBlock: func.not(isInline),\n      isBodyInline: isBodyInline,\n      isBody: isBody,\n      isParaInline: isParaInline,\n      isPre: isPre,\n      isList: isList,\n      isTable: isTable,\n      isData: isData,\n      isCell: isCell,\n      isBlockquote: isBlockquote,\n      isBodyContainer: isBodyContainer,\n      isAnchor: isAnchor,\n      isDiv: makePredByNodeName('DIV'),\n      isLi: isLi,\n      isBR: makePredByNodeName('BR'),\n      isSpan: makePredByNodeName('SPAN'),\n      isB: makePredByNodeName('B'),\n      isU: makePredByNodeName('U'),\n      isS: makePredByNodeName('S'),\n      isI: makePredByNodeName('I'),\n      isImg: makePredByNodeName('IMG'),\n      isTextarea: isTextarea,\n      isEmpty: isEmpty$1,\n      isEmptyAnchor: func.and(isAnchor, isEmpty$1),\n      isClosestSibling: isClosestSibling,\n      withClosestSiblings: withClosestSiblings,\n      nodeLength: nodeLength,\n      isLeftEdgePoint: isLeftEdgePoint,\n      isRightEdgePoint: isRightEdgePoint,\n      isEdgePoint: isEdgePoint,\n      isLeftEdgeOf: isLeftEdgeOf,\n      isRightEdgeOf: isRightEdgeOf,\n      isLeftEdgePointOf: isLeftEdgePointOf,\n      isRightEdgePointOf: isRightEdgePointOf,\n      prevPoint: prevPoint,\n      nextPoint: nextPoint,\n      isSamePoint: isSamePoint,\n      isVisiblePoint: isVisiblePoint,\n      prevPointUntil: prevPointUntil,\n      nextPointUntil: nextPointUntil,\n      isCharPoint: isCharPoint,\n      walkPoint: walkPoint,\n      ancestor: ancestor,\n      singleChildAncestor: singleChildAncestor,\n      listAncestor: listAncestor,\n      lastAncestor: lastAncestor,\n      listNext: listNext,\n      listPrev: listPrev,\n      listDescendant: listDescendant,\n      commonAncestor: commonAncestor,\n      wrap: wrap,\n      insertAfter: insertAfter,\n      appendChildNodes: appendChildNodes,\n      position: position,\n      hasChildren: hasChildren,\n      makeOffsetPath: makeOffsetPath,\n      fromOffsetPath: fromOffsetPath,\n      splitTree: splitTree,\n      splitPoint: splitPoint,\n      create: create,\n      createText: createText,\n      remove: remove,\n      removeWhile: removeWhile,\n      replace: replace,\n      html: html,\n      value: value,\n      posFromPlaceholder: posFromPlaceholder,\n      attachEvents: attachEvents,\n      detachEvents: detachEvents,\n      isCustomStyleTag: isCustomStyleTag\n  };\n\n  /**\n   * return boundaryPoint from TextRange, inspired by Andy Na's HuskyRange.js\n   *\n   * @param {TextRange} textRange\n   * @param {Boolean} isStart\n   * @return {BoundaryPoint}\n   *\n   * @see http://msdn.microsoft.com/en-us/library/ie/ms535872(v=vs.85).aspx\n   */\n  function textRangeToPoint(textRange, isStart) {\n      var container = textRange.parentElement();\n      var offset;\n      var tester = document.body.createTextRange();\n      var prevContainer;\n      var childNodes = lists.from(container.childNodes);\n      for (offset = 0; offset < childNodes.length; offset++) {\n          if (dom.isText(childNodes[offset])) {\n              continue;\n          }\n          tester.moveToElementText(childNodes[offset]);\n          if (tester.compareEndPoints('StartToStart', textRange) >= 0) {\n              break;\n          }\n          prevContainer = childNodes[offset];\n      }\n      if (offset !== 0 && dom.isText(childNodes[offset - 1])) {\n          var textRangeStart = document.body.createTextRange();\n          var curTextNode = null;\n          textRangeStart.moveToElementText(prevContainer || container);\n          textRangeStart.collapse(!prevContainer);\n          curTextNode = prevContainer ? prevContainer.nextSibling : container.firstChild;\n          var pointTester = textRange.duplicate();\n          pointTester.setEndPoint('StartToStart', textRangeStart);\n          var textCount = pointTester.text.replace(/[\\r\\n]/g, '').length;\n          while (textCount > curTextNode.nodeValue.length && curTextNode.nextSibling) {\n              textCount -= curTextNode.nodeValue.length;\n              curTextNode = curTextNode.nextSibling;\n          }\n          // [workaround] enforce IE to re-reference curTextNode, hack\n          var dummy = curTextNode.nodeValue; // eslint-disable-line\n          if (isStart && curTextNode.nextSibling && dom.isText(curTextNode.nextSibling) &&\n              textCount === curTextNode.nodeValue.length) {\n              textCount -= curTextNode.nodeValue.length;\n              curTextNode = curTextNode.nextSibling;\n          }\n          container = curTextNode;\n          offset = textCount;\n      }\n      return {\n          cont: container,\n          offset: offset\n      };\n  }\n  /**\n   * return TextRange from boundary point (inspired by google closure-library)\n   * @param {BoundaryPoint} point\n   * @return {TextRange}\n   */\n  function pointToTextRange(point) {\n      var textRangeInfo = function (container, offset) {\n          var node, isCollapseToStart;\n          if (dom.isText(container)) {\n              var prevTextNodes = dom.listPrev(container, func.not(dom.isText));\n              var prevContainer = lists.last(prevTextNodes).previousSibling;\n              node = prevContainer || container.parentNode;\n              offset += lists.sum(lists.tail(prevTextNodes), dom.nodeLength);\n              isCollapseToStart = !prevContainer;\n          }\n          else {\n              node = container.childNodes[offset] || container;\n              if (dom.isText(node)) {\n                  return textRangeInfo(node, 0);\n              }\n              offset = 0;\n              isCollapseToStart = false;\n          }\n          return {\n              node: node,\n              collapseToStart: isCollapseToStart,\n              offset: offset\n          };\n      };\n      var textRange = document.body.createTextRange();\n      var info = textRangeInfo(point.node, point.offset);\n      textRange.moveToElementText(info.node);\n      textRange.collapse(info.collapseToStart);\n      textRange.moveStart('character', info.offset);\n      return textRange;\n  }\n  /**\n     * Wrapped Range\n     *\n     * @constructor\n     * @param {Node} sc - start container\n     * @param {Number} so - start offset\n     * @param {Node} ec - end container\n     * @param {Number} eo - end offset\n     */\n  var WrappedRange = /** @class */ (function () {\n      function WrappedRange(sc, so, ec, eo) {\n          this.sc = sc;\n          this.so = so;\n          this.ec = ec;\n          this.eo = eo;\n          // isOnEditable: judge whether range is on editable or not\n          this.isOnEditable = this.makeIsOn(dom.isEditable);\n          // isOnList: judge whether range is on list node or not\n          this.isOnList = this.makeIsOn(dom.isList);\n          // isOnAnchor: judge whether range is on anchor node or not\n          this.isOnAnchor = this.makeIsOn(dom.isAnchor);\n          // isOnCell: judge whether range is on cell node or not\n          this.isOnCell = this.makeIsOn(dom.isCell);\n          // isOnData: judge whether range is on data node or not\n          this.isOnData = this.makeIsOn(dom.isData);\n      }\n      // nativeRange: get nativeRange from sc, so, ec, eo\n      WrappedRange.prototype.nativeRange = function () {\n          if (env.isW3CRangeSupport) {\n              var w3cRange = document.createRange();\n              w3cRange.setStart(this.sc, this.so);\n              w3cRange.setEnd(this.ec, this.eo);\n              return w3cRange;\n          }\n          else {\n              var textRange = pointToTextRange({\n                  node: this.sc,\n                  offset: this.so\n              });\n              textRange.setEndPoint('EndToEnd', pointToTextRange({\n                  node: this.ec,\n                  offset: this.eo\n              }));\n              return textRange;\n          }\n      };\n      WrappedRange.prototype.getPoints = function () {\n          return {\n              sc: this.sc,\n              so: this.so,\n              ec: this.ec,\n              eo: this.eo\n          };\n      };\n      WrappedRange.prototype.getStartPoint = function () {\n          return {\n              node: this.sc,\n              offset: this.so\n          };\n      };\n      WrappedRange.prototype.getEndPoint = function () {\n          return {\n              node: this.ec,\n              offset: this.eo\n          };\n      };\n      /**\n       * select update visible range\n       */\n      WrappedRange.prototype.select = function () {\n          var nativeRng = this.nativeRange();\n          if (env.isW3CRangeSupport) {\n              var selection = document.getSelection();\n              if (selection.rangeCount > 0) {\n                  selection.removeAllRanges();\n              }\n              selection.addRange(nativeRng);\n          }\n          else {\n              nativeRng.select();\n          }\n          return this;\n      };\n      /**\n       * Moves the scrollbar to start container(sc) of current range\n       *\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.scrollIntoView = function (container) {\n          var height = $$1(container).height();\n          if (container.scrollTop + height < this.sc.offsetTop) {\n              container.scrollTop += Math.abs(container.scrollTop + height - this.sc.offsetTop);\n          }\n          return this;\n      };\n      /**\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.normalize = function () {\n          /**\n           * @param {BoundaryPoint} point\n           * @param {Boolean} isLeftToRight\n           * @return {BoundaryPoint}\n           */\n          var getVisiblePoint = function (point, isLeftToRight) {\n              if ((dom.isVisiblePoint(point) && !dom.isEdgePoint(point)) ||\n                  (dom.isVisiblePoint(point) && dom.isRightEdgePoint(point) && !isLeftToRight) ||\n                  (dom.isVisiblePoint(point) && dom.isLeftEdgePoint(point) && isLeftToRight) ||\n                  (dom.isVisiblePoint(point) && dom.isBlock(point.node) && dom.isEmpty(point.node))) {\n                  return point;\n              }\n              // point on block's edge\n              var block = dom.ancestor(point.node, dom.isBlock);\n              if (((dom.isLeftEdgePointOf(point, block) || dom.isVoid(dom.prevPoint(point).node)) && !isLeftToRight) ||\n                  ((dom.isRightEdgePointOf(point, block) || dom.isVoid(dom.nextPoint(point).node)) && isLeftToRight)) {\n                  // returns point already on visible point\n                  if (dom.isVisiblePoint(point)) {\n                      return point;\n                  }\n                  // reverse direction\n                  isLeftToRight = !isLeftToRight;\n              }\n              var nextPoint = isLeftToRight ? dom.nextPointUntil(dom.nextPoint(point), dom.isVisiblePoint)\n                  : dom.prevPointUntil(dom.prevPoint(point), dom.isVisiblePoint);\n              return nextPoint || point;\n          };\n          var endPoint = getVisiblePoint(this.getEndPoint(), false);\n          var startPoint = this.isCollapsed() ? endPoint : getVisiblePoint(this.getStartPoint(), true);\n          return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node, endPoint.offset);\n      };\n      /**\n       * returns matched nodes on range\n       *\n       * @param {Function} [pred] - predicate function\n       * @param {Object} [options]\n       * @param {Boolean} [options.includeAncestor]\n       * @param {Boolean} [options.fullyContains]\n       * @return {Node[]}\n       */\n      WrappedRange.prototype.nodes = function (pred, options) {\n          pred = pred || func.ok;\n          var includeAncestor = options && options.includeAncestor;\n          var fullyContains = options && options.fullyContains;\n          // TODO compare points and sort\n          var startPoint = this.getStartPoint();\n          var endPoint = this.getEndPoint();\n          var nodes = [];\n          var leftEdgeNodes = [];\n          dom.walkPoint(startPoint, endPoint, function (point) {\n              if (dom.isEditable(point.node)) {\n                  return;\n              }\n              var node;\n              if (fullyContains) {\n                  if (dom.isLeftEdgePoint(point)) {\n                      leftEdgeNodes.push(point.node);\n                  }\n                  if (dom.isRightEdgePoint(point) && lists.contains(leftEdgeNodes, point.node)) {\n                      node = point.node;\n                  }\n              }\n              else if (includeAncestor) {\n                  node = dom.ancestor(point.node, pred);\n              }\n              else {\n                  node = point.node;\n              }\n              if (node && pred(node)) {\n                  nodes.push(node);\n              }\n          }, true);\n          return lists.unique(nodes);\n      };\n      /**\n       * returns commonAncestor of range\n       * @return {Element} - commonAncestor\n       */\n      WrappedRange.prototype.commonAncestor = function () {\n          return dom.commonAncestor(this.sc, this.ec);\n      };\n      /**\n       * returns expanded range by pred\n       *\n       * @param {Function} pred - predicate function\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.expand = function (pred) {\n          var startAncestor = dom.ancestor(this.sc, pred);\n          var endAncestor = dom.ancestor(this.ec, pred);\n          if (!startAncestor && !endAncestor) {\n              return new WrappedRange(this.sc, this.so, this.ec, this.eo);\n          }\n          var boundaryPoints = this.getPoints();\n          if (startAncestor) {\n              boundaryPoints.sc = startAncestor;\n              boundaryPoints.so = 0;\n          }\n          if (endAncestor) {\n              boundaryPoints.ec = endAncestor;\n              boundaryPoints.eo = dom.nodeLength(endAncestor);\n          }\n          return new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n      };\n      /**\n       * @param {Boolean} isCollapseToStart\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.collapse = function (isCollapseToStart) {\n          if (isCollapseToStart) {\n              return new WrappedRange(this.sc, this.so, this.sc, this.so);\n          }\n          else {\n              return new WrappedRange(this.ec, this.eo, this.ec, this.eo);\n          }\n      };\n      /**\n       * splitText on range\n       */\n      WrappedRange.prototype.splitText = function () {\n          var isSameContainer = this.sc === this.ec;\n          var boundaryPoints = this.getPoints();\n          if (dom.isText(this.ec) && !dom.isEdgePoint(this.getEndPoint())) {\n              this.ec.splitText(this.eo);\n          }\n          if (dom.isText(this.sc) && !dom.isEdgePoint(this.getStartPoint())) {\n              boundaryPoints.sc = this.sc.splitText(this.so);\n              boundaryPoints.so = 0;\n              if (isSameContainer) {\n                  boundaryPoints.ec = boundaryPoints.sc;\n                  boundaryPoints.eo = this.eo - this.so;\n              }\n          }\n          return new WrappedRange(boundaryPoints.sc, boundaryPoints.so, boundaryPoints.ec, boundaryPoints.eo);\n      };\n      /**\n       * delete contents on range\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.deleteContents = function () {\n          if (this.isCollapsed()) {\n              return this;\n          }\n          var rng = this.splitText();\n          var nodes = rng.nodes(null, {\n              fullyContains: true\n          });\n          // find new cursor point\n          var point = dom.prevPointUntil(rng.getStartPoint(), function (point) {\n              return !lists.contains(nodes, point.node);\n          });\n          var emptyParents = [];\n          $$1.each(nodes, function (idx, node) {\n              // find empty parents\n              var parent = node.parentNode;\n              if (point.node !== parent && dom.nodeLength(parent) === 1) {\n                  emptyParents.push(parent);\n              }\n              dom.remove(node, false);\n          });\n          // remove empty parents\n          $$1.each(emptyParents, function (idx, node) {\n              dom.remove(node, false);\n          });\n          return new WrappedRange(point.node, point.offset, point.node, point.offset).normalize();\n      };\n      /**\n       * makeIsOn: return isOn(pred) function\n       */\n      WrappedRange.prototype.makeIsOn = function (pred) {\n          return function () {\n              var ancestor = dom.ancestor(this.sc, pred);\n              return !!ancestor && (ancestor === dom.ancestor(this.ec, pred));\n          };\n      };\n      /**\n       * @param {Function} pred\n       * @return {Boolean}\n       */\n      WrappedRange.prototype.isLeftEdgeOf = function (pred) {\n          if (!dom.isLeftEdgePoint(this.getStartPoint())) {\n              return false;\n          }\n          var node = dom.ancestor(this.sc, pred);\n          return node && dom.isLeftEdgeOf(this.sc, node);\n      };\n      /**\n       * returns whether range was collapsed or not\n       */\n      WrappedRange.prototype.isCollapsed = function () {\n          return this.sc === this.ec && this.so === this.eo;\n      };\n      /**\n       * wrap inline nodes which children of body with paragraph\n       *\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.wrapBodyInlineWithPara = function () {\n          if (dom.isBodyContainer(this.sc) && dom.isEmpty(this.sc)) {\n              this.sc.innerHTML = dom.emptyPara;\n              return new WrappedRange(this.sc.firstChild, 0, this.sc.firstChild, 0);\n          }\n          /**\n           * [workaround] firefox often create range on not visible point. so normalize here.\n           *  - firefox: |<p>text</p>|\n           *  - chrome: <p>|text|</p>\n           */\n          var rng = this.normalize();\n          if (dom.isParaInline(this.sc) || dom.isPara(this.sc)) {\n              return rng;\n          }\n          // find inline top ancestor\n          var topAncestor;\n          if (dom.isInline(rng.sc)) {\n              var ancestors = dom.listAncestor(rng.sc, func.not(dom.isInline));\n              topAncestor = lists.last(ancestors);\n              if (!dom.isInline(topAncestor)) {\n                  topAncestor = ancestors[ancestors.length - 2] || rng.sc.childNodes[rng.so];\n              }\n          }\n          else {\n              topAncestor = rng.sc.childNodes[rng.so > 0 ? rng.so - 1 : 0];\n          }\n          // siblings not in paragraph\n          var inlineSiblings = dom.listPrev(topAncestor, dom.isParaInline).reverse();\n          inlineSiblings = inlineSiblings.concat(dom.listNext(topAncestor.nextSibling, dom.isParaInline));\n          // wrap with paragraph\n          if (inlineSiblings.length) {\n              var para = dom.wrap(lists.head(inlineSiblings), 'p');\n              dom.appendChildNodes(para, lists.tail(inlineSiblings));\n          }\n          return this.normalize();\n      };\n      /**\n       * insert node at current cursor\n       *\n       * @param {Node} node\n       * @return {Node}\n       */\n      WrappedRange.prototype.insertNode = function (node) {\n          var rng = this.wrapBodyInlineWithPara().deleteContents();\n          var info = dom.splitPoint(rng.getStartPoint(), dom.isInline(node));\n          if (info.rightNode) {\n              info.rightNode.parentNode.insertBefore(node, info.rightNode);\n          }\n          else {\n              info.container.appendChild(node);\n          }\n          return node;\n      };\n      /**\n       * insert html at current cursor\n       */\n      WrappedRange.prototype.pasteHTML = function (markup) {\n          var contentsContainer = $$1('<div></div>').html(markup)[0];\n          var childNodes = lists.from(contentsContainer.childNodes);\n          var rng = this.wrapBodyInlineWithPara().deleteContents();\n          if (rng.so > 0) {\n              childNodes = childNodes.reverse();\n          }\n          childNodes = childNodes.map(function (childNode) {\n              return rng.insertNode(childNode);\n          });\n          if (rng.so > 0) {\n              childNodes = childNodes.reverse();\n          }\n          return childNodes;\n      };\n      /**\n       * returns text in range\n       *\n       * @return {String}\n       */\n      WrappedRange.prototype.toString = function () {\n          var nativeRng = this.nativeRange();\n          return env.isW3CRangeSupport ? nativeRng.toString() : nativeRng.text;\n      };\n      /**\n       * returns range for word before cursor\n       *\n       * @param {Boolean} [findAfter] - find after cursor, default: false\n       * @return {WrappedRange}\n       */\n      WrappedRange.prototype.getWordRange = function (findAfter) {\n          var endPoint = this.getEndPoint();\n          if (!dom.isCharPoint(endPoint)) {\n              return this;\n          }\n          var startPoint = dom.prevPointUntil(endPoint, function (point) {\n              return !dom.isCharPoint(point);\n          });\n          if (findAfter) {\n              endPoint = dom.nextPointUntil(endPoint, function (point) {\n                  return !dom.isCharPoint(point);\n              });\n          }\n          return new WrappedRange(startPoint.node, startPoint.offset, endPoint.node, endPoint.offset);\n      };\n      /**\n       * create offsetPath bookmark\n       *\n       * @param {Node} editable\n       */\n      WrappedRange.prototype.bookmark = function (editable) {\n          return {\n              s: {\n                  path: dom.makeOffsetPath(editable, this.sc),\n                  offset: this.so\n              },\n              e: {\n                  path: dom.makeOffsetPath(editable, this.ec),\n                  offset: this.eo\n              }\n          };\n      };\n      /**\n       * create offsetPath bookmark base on paragraph\n       *\n       * @param {Node[]} paras\n       */\n      WrappedRange.prototype.paraBookmark = function (paras) {\n          return {\n              s: {\n                  path: lists.tail(dom.makeOffsetPath(lists.head(paras), this.sc)),\n                  offset: this.so\n              },\n              e: {\n                  path: lists.tail(dom.makeOffsetPath(lists.last(paras), this.ec)),\n                  offset: this.eo\n              }\n          };\n      };\n      /**\n       * getClientRects\n       * @return {Rect[]}\n       */\n      WrappedRange.prototype.getClientRects = function () {\n          var nativeRng = this.nativeRange();\n          return nativeRng.getClientRects();\n      };\n      return WrappedRange;\n  }());\n  /**\n   * Data structure\n   *  * BoundaryPoint: a point of dom tree\n   *  * BoundaryPoints: two boundaryPoints corresponding to the start and the end of the Range\n   *\n   * See to http://www.w3.org/TR/DOM-Level-2-Traversal-Range/ranges.html#Level-2-Range-Position\n   */\n  var range = {\n      /**\n       * create Range Object From arguments or Browser Selection\n       *\n       * @param {Node} sc - start container\n       * @param {Number} so - start offset\n       * @param {Node} ec - end container\n       * @param {Number} eo - end offset\n       * @return {WrappedRange}\n       */\n      create: function (sc, so, ec, eo) {\n          if (arguments.length === 4) {\n              return new WrappedRange(sc, so, ec, eo);\n          }\n          else if (arguments.length === 2) { // collapsed\n              ec = sc;\n              eo = so;\n              return new WrappedRange(sc, so, ec, eo);\n          }\n          else {\n              var wrappedRange = this.createFromSelection();\n              if (!wrappedRange && arguments.length === 1) {\n                  wrappedRange = this.createFromNode(arguments[0]);\n                  return wrappedRange.collapse(dom.emptyPara === arguments[0].innerHTML);\n              }\n              return wrappedRange;\n          }\n      },\n      createFromSelection: function () {\n          var sc, so, ec, eo;\n          if (env.isW3CRangeSupport) {\n              var selection = document.getSelection();\n              if (!selection || selection.rangeCount === 0) {\n                  return null;\n              }\n              else if (dom.isBody(selection.anchorNode)) {\n                  // Firefox: returns entire body as range on initialization.\n                  // We won't never need it.\n                  return null;\n              }\n              var nativeRng = selection.getRangeAt(0);\n              sc = nativeRng.startContainer;\n              so = nativeRng.startOffset;\n              ec = nativeRng.endContainer;\n              eo = nativeRng.endOffset;\n          }\n          else { // IE8: TextRange\n              var textRange = document.selection.createRange();\n              var textRangeEnd = textRange.duplicate();\n              textRangeEnd.collapse(false);\n              var textRangeStart = textRange;\n              textRangeStart.collapse(true);\n              var startPoint = textRangeToPoint(textRangeStart, true);\n              var endPoint = textRangeToPoint(textRangeEnd, false);\n              // same visible point case: range was collapsed.\n              if (dom.isText(startPoint.node) && dom.isLeftEdgePoint(startPoint) &&\n                  dom.isTextNode(endPoint.node) && dom.isRightEdgePoint(endPoint) &&\n                  endPoint.node.nextSibling === startPoint.node) {\n                  startPoint = endPoint;\n              }\n              sc = startPoint.cont;\n              so = startPoint.offset;\n              ec = endPoint.cont;\n              eo = endPoint.offset;\n          }\n          return new WrappedRange(sc, so, ec, eo);\n      },\n      /**\n       * @method\n       *\n       * create WrappedRange from node\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNode: function (node) {\n          var sc = node;\n          var so = 0;\n          var ec = node;\n          var eo = dom.nodeLength(ec);\n          // browsers can't target a picture or void node\n          if (dom.isVoid(sc)) {\n              so = dom.listPrev(sc).length - 1;\n              sc = sc.parentNode;\n          }\n          if (dom.isBR(ec)) {\n              eo = dom.listPrev(ec).length - 1;\n              ec = ec.parentNode;\n          }\n          else if (dom.isVoid(ec)) {\n              eo = dom.listPrev(ec).length;\n              ec = ec.parentNode;\n          }\n          return this.create(sc, so, ec, eo);\n      },\n      /**\n       * create WrappedRange from node after position\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNodeBefore: function (node) {\n          return this.createFromNode(node).collapse(true);\n      },\n      /**\n       * create WrappedRange from node after position\n       *\n       * @param {Node} node\n       * @return {WrappedRange}\n       */\n      createFromNodeAfter: function (node) {\n          return this.createFromNode(node).collapse();\n      },\n      /**\n       * @method\n       *\n       * create WrappedRange from bookmark\n       *\n       * @param {Node} editable\n       * @param {Object} bookmark\n       * @return {WrappedRange}\n       */\n      createFromBookmark: function (editable, bookmark) {\n          var sc = dom.fromOffsetPath(editable, bookmark.s.path);\n          var so = bookmark.s.offset;\n          var ec = dom.fromOffsetPath(editable, bookmark.e.path);\n          var eo = bookmark.e.offset;\n          return new WrappedRange(sc, so, ec, eo);\n      },\n      /**\n       * @method\n       *\n       * create WrappedRange from paraBookmark\n       *\n       * @param {Object} bookmark\n       * @param {Node[]} paras\n       * @return {WrappedRange}\n       */\n      createFromParaBookmark: function (bookmark, paras) {\n          var so = bookmark.s.offset;\n          var eo = bookmark.e.offset;\n          var sc = dom.fromOffsetPath(lists.head(paras), bookmark.s.path);\n          var ec = dom.fromOffsetPath(lists.last(paras), bookmark.e.path);\n          return new WrappedRange(sc, so, ec, eo);\n      }\n  };\n\n  $$1.summernote = $$1.summernote || {\n      lang: {}\n  };\n  $$1.extend($$1.summernote.lang, {\n      'en-US': {\n          font: {\n              bold: 'Bold',\n              italic: 'Italic',\n              underline: 'Underline',\n              clear: 'Remove Font Style',\n              height: 'Line Height',\n              name: 'Font Family',\n              strikethrough: 'Strikethrough',\n              subscript: 'Subscript',\n              superscript: 'Superscript',\n              size: 'Font Size'\n          },\n          image: {\n              image: 'Picture',\n              insert: 'Insert Image',\n              resizeFull: 'Resize Full',\n              resizeHalf: 'Resize Half',\n              resizeQuarter: 'Resize Quarter',\n              floatLeft: 'Float Left',\n              floatRight: 'Float Right',\n              floatNone: 'Float None',\n              shapeRounded: 'Shape: Rounded',\n              shapeCircle: 'Shape: Circle',\n              shapeThumbnail: 'Shape: Thumbnail',\n              shapeNone: 'Shape: None',\n              dragImageHere: 'Drag image or text here',\n              dropImage: 'Drop image or Text',\n              selectFromFiles: 'Select from files',\n              maximumFileSize: 'Maximum file size',\n              maximumFileSizeError: 'Maximum file size exceeded.',\n              url: 'Image URL',\n              remove: 'Remove Image',\n              original: 'Original'\n          },\n          video: {\n              video: 'Video',\n              videoLink: 'Video Link',\n              insert: 'Insert Video',\n              url: 'Video URL',\n              providers: '(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)'\n          },\n          link: {\n              link: 'Link',\n              insert: 'Insert Link',\n              unlink: 'Unlink',\n              edit: 'Edit',\n              textToDisplay: 'Text to display',\n              url: 'To what URL should this link go?',\n              openInNewWindow: 'Open in new window'\n          },\n          table: {\n              table: 'Table',\n              addRowAbove: 'Add row above',\n              addRowBelow: 'Add row below',\n              addColLeft: 'Add column left',\n              addColRight: 'Add column right',\n              delRow: 'Delete row',\n              delCol: 'Delete column',\n              delTable: 'Delete table'\n          },\n          hr: {\n              insert: 'Insert Horizontal Rule'\n          },\n          style: {\n              style: 'Style',\n              p: 'Normal',\n              blockquote: 'Quote',\n              pre: 'Code',\n              h1: 'Header 1',\n              h2: 'Header 2',\n              h3: 'Header 3',\n              h4: 'Header 4',\n              h5: 'Header 5',\n              h6: 'Header 6'\n          },\n          lists: {\n              unordered: 'Unordered list',\n              ordered: 'Ordered list'\n          },\n          options: {\n              help: 'Help',\n              fullscreen: 'Full Screen',\n              codeview: 'Code View'\n          },\n          paragraph: {\n              paragraph: 'Paragraph',\n              outdent: 'Outdent',\n              indent: 'Indent',\n              left: 'Align left',\n              center: 'Align center',\n              right: 'Align right',\n              justify: 'Justify full'\n          },\n          color: {\n              recent: 'Recent Color',\n              more: 'More Color',\n              background: 'Background Color',\n              foreground: 'Foreground Color',\n              transparent: 'Transparent',\n              setTransparent: 'Set transparent',\n              reset: 'Reset',\n              resetToDefault: 'Reset to default',\n              cpSelect: 'Select'\n          },\n          shortcut: {\n              shortcuts: 'Keyboard shortcuts',\n              close: 'Close',\n              textFormatting: 'Text formatting',\n              action: 'Action',\n              paragraphFormatting: 'Paragraph formatting',\n              documentStyle: 'Document Style',\n              extraKeys: 'Extra keys'\n          },\n          help: {\n              'insertParagraph': 'Insert Paragraph',\n              'undo': 'Undoes the last command',\n              'redo': 'Redoes the last command',\n              'tab': 'Tab',\n              'untab': 'Untab',\n              'bold': 'Set a bold style',\n              'italic': 'Set a italic style',\n              'underline': 'Set a underline style',\n              'strikethrough': 'Set a strikethrough style',\n              'removeFormat': 'Clean a style',\n              'justifyLeft': 'Set left align',\n              'justifyCenter': 'Set center align',\n              'justifyRight': 'Set right align',\n              'justifyFull': 'Set full align',\n              'insertUnorderedList': 'Toggle unordered list',\n              'insertOrderedList': 'Toggle ordered list',\n              'outdent': 'Outdent on current paragraph',\n              'indent': 'Indent on current paragraph',\n              'formatPara': 'Change current block\\'s format as a paragraph(P tag)',\n              'formatH1': 'Change current block\\'s format as H1',\n              'formatH2': 'Change current block\\'s format as H2',\n              'formatH3': 'Change current block\\'s format as H3',\n              'formatH4': 'Change current block\\'s format as H4',\n              'formatH5': 'Change current block\\'s format as H5',\n              'formatH6': 'Change current block\\'s format as H6',\n              'insertHorizontalRule': 'Insert horizontal rule',\n              'linkDialog.show': 'Show Link Dialog'\n          },\n          history: {\n              undo: 'Undo',\n              redo: 'Redo'\n          },\n          specialChar: {\n              specialChar: 'SPECIAL CHARACTERS',\n              select: 'Select Special characters'\n          }\n      }\n  });\n\n  var KEY_MAP = {\n      'BACKSPACE': 8,\n      'TAB': 9,\n      'ENTER': 13,\n      'SPACE': 32,\n      'DELETE': 46,\n      // Arrow\n      'LEFT': 37,\n      'UP': 38,\n      'RIGHT': 39,\n      'DOWN': 40,\n      // Number: 0-9\n      'NUM0': 48,\n      'NUM1': 49,\n      'NUM2': 50,\n      'NUM3': 51,\n      'NUM4': 52,\n      'NUM5': 53,\n      'NUM6': 54,\n      'NUM7': 55,\n      'NUM8': 56,\n      // Alphabet: a-z\n      'B': 66,\n      'E': 69,\n      'I': 73,\n      'J': 74,\n      'K': 75,\n      'L': 76,\n      'R': 82,\n      'S': 83,\n      'U': 85,\n      'V': 86,\n      'Y': 89,\n      'Z': 90,\n      'SLASH': 191,\n      'LEFTBRACKET': 219,\n      'BACKSLASH': 220,\n      'RIGHTBRACKET': 221\n  };\n  /**\n   * @class core.key\n   *\n   * Object for keycodes.\n   *\n   * @singleton\n   * @alternateClassName key\n   */\n  var key = {\n      /**\n       * @method isEdit\n       *\n       * @param {Number} keyCode\n       * @return {Boolean}\n       */\n      isEdit: function (keyCode) {\n          return lists.contains([\n              KEY_MAP.BACKSPACE,\n              KEY_MAP.TAB,\n              KEY_MAP.ENTER,\n              KEY_MAP.SPACE,\n              KEY_MAP.DELETE\n          ], keyCode);\n      },\n      /**\n       * @method isMove\n       *\n       * @param {Number} keyCode\n       * @return {Boolean}\n       */\n      isMove: function (keyCode) {\n          return lists.contains([\n              KEY_MAP.LEFT,\n              KEY_MAP.UP,\n              KEY_MAP.RIGHT,\n              KEY_MAP.DOWN\n          ], keyCode);\n      },\n      /**\n       * @property {Object} nameFromCode\n       * @property {String} nameFromCode.8 \"BACKSPACE\"\n       */\n      nameFromCode: func.invertObject(KEY_MAP),\n      code: KEY_MAP\n  };\n\n  /**\n   * @method readFileAsDataURL\n   *\n   * read contents of file as representing URL\n   *\n   * @param {File} file\n   * @return {Promise} - then: dataUrl\n   */\n  function readFileAsDataURL(file) {\n      return $$1.Deferred(function (deferred) {\n          $$1.extend(new FileReader(), {\n              onload: function (e) {\n                  var dataURL = e.target.result;\n                  deferred.resolve(dataURL);\n              },\n              onerror: function (err) {\n                  deferred.reject(err);\n              }\n          }).readAsDataURL(file);\n      }).promise();\n  }\n  /**\n   * @method createImage\n   *\n   * create `<image>` from url string\n   *\n   * @param {String} url\n   * @return {Promise} - then: $image\n   */\n  function createImage(url) {\n      return $$1.Deferred(function (deferred) {\n          var $img = $$1('<img>');\n          $img.one('load', function () {\n              $img.off('error abort');\n              deferred.resolve($img);\n          }).one('error abort', function () {\n              $img.off('load').detach();\n              deferred.reject($img);\n          }).css({\n              display: 'none'\n          }).appendTo(document.body).attr('src', url);\n      }).promise();\n  }\n\n  var History = /** @class */ (function () {\n      function History($editable) {\n          this.stack = [];\n          this.stackOffset = -1;\n          this.$editable = $editable;\n          this.editable = $editable[0];\n      }\n      History.prototype.makeSnapshot = function () {\n          var rng = range.create(this.editable);\n          var emptyBookmark = { s: { path: [], offset: 0 }, e: { path: [], offset: 0 } };\n          return {\n              contents: this.$editable.html(),\n              bookmark: (rng ? rng.bookmark(this.editable) : emptyBookmark)\n          };\n      };\n      History.prototype.applySnapshot = function (snapshot) {\n          if (snapshot.contents !== null) {\n              this.$editable.html(snapshot.contents);\n          }\n          if (snapshot.bookmark !== null) {\n              range.createFromBookmark(this.editable, snapshot.bookmark).select();\n          }\n      };\n      /**\n      * @method rewind\n      * Rewinds the history stack back to the first snapshot taken.\n      * Leaves the stack intact, so that \"Redo\" can still be used.\n      */\n      History.prototype.rewind = function () {\n          // Create snap shot if not yet recorded\n          if (this.$editable.html() !== this.stack[this.stackOffset].contents) {\n              this.recordUndo();\n          }\n          // Return to the first available snapshot.\n          this.stackOffset = 0;\n          // Apply that snapshot.\n          this.applySnapshot(this.stack[this.stackOffset]);\n      };\n      /**\n      *  @method commit\n      *  Resets history stack, but keeps current editor's content.\n      */\n      History.prototype.commit = function () {\n          // Clear the stack.\n          this.stack = [];\n          // Restore stackOffset to its original value.\n          this.stackOffset = -1;\n          // Record our first snapshot (of nothing).\n          this.recordUndo();\n      };\n      /**\n      * @method reset\n      * Resets the history stack completely; reverting to an empty editor.\n      */\n      History.prototype.reset = function () {\n          // Clear the stack.\n          this.stack = [];\n          // Restore stackOffset to its original value.\n          this.stackOffset = -1;\n          // Clear the editable area.\n          this.$editable.html('');\n          // Record our first snapshot (of nothing).\n          this.recordUndo();\n      };\n      /**\n       * undo\n       */\n      History.prototype.undo = function () {\n          // Create snap shot if not yet recorded\n          if (this.$editable.html() !== this.stack[this.stackOffset].contents) {\n              this.recordUndo();\n          }\n          if (this.stackOffset > 0) {\n              this.stackOffset--;\n              this.applySnapshot(this.stack[this.stackOffset]);\n          }\n      };\n      /**\n       * redo\n       */\n      History.prototype.redo = function () {\n          if (this.stack.length - 1 > this.stackOffset) {\n              this.stackOffset++;\n              this.applySnapshot(this.stack[this.stackOffset]);\n          }\n      };\n      /**\n       * recorded undo\n       */\n      History.prototype.recordUndo = function () {\n          this.stackOffset++;\n          // Wash out stack after stackOffset\n          if (this.stack.length > this.stackOffset) {\n              this.stack = this.stack.slice(0, this.stackOffset);\n          }\n          // Create new snapshot and push it to the end\n          this.stack.push(this.makeSnapshot());\n      };\n      return History;\n  }());\n\n  var Style = /** @class */ (function () {\n      function Style() {\n      }\n      /**\n       * @method jQueryCSS\n       *\n       * [workaround] for old jQuery\n       * passing an array of style properties to .css()\n       * will result in an object of property-value pairs.\n       * (compability with version < 1.9)\n       *\n       * @private\n       * @param  {jQuery} $obj\n       * @param  {Array} propertyNames - An array of one or more CSS properties.\n       * @return {Object}\n       */\n      Style.prototype.jQueryCSS = function ($obj, propertyNames) {\n          if (env.jqueryVersion < 1.9) {\n              var result_1 = {};\n              $$1.each(propertyNames, function (idx, propertyName) {\n                  result_1[propertyName] = $obj.css(propertyName);\n              });\n              return result_1;\n          }\n          return $obj.css(propertyNames);\n      };\n      /**\n       * returns style object from node\n       *\n       * @param {jQuery} $node\n       * @return {Object}\n       */\n      Style.prototype.fromNode = function ($node) {\n          var properties = ['font-family', 'font-size', 'text-align', 'list-style-type', 'line-height'];\n          var styleInfo = this.jQueryCSS($node, properties) || {};\n          styleInfo['font-size'] = parseInt(styleInfo['font-size'], 10);\n          return styleInfo;\n      };\n      /**\n       * paragraph level style\n       *\n       * @param {WrappedRange} rng\n       * @param {Object} styleInfo\n       */\n      Style.prototype.stylePara = function (rng, styleInfo) {\n          $$1.each(rng.nodes(dom.isPara, {\n              includeAncestor: true\n          }), function (idx, para) {\n              $$1(para).css(styleInfo);\n          });\n      };\n      /**\n       * insert and returns styleNodes on range.\n       *\n       * @param {WrappedRange} rng\n       * @param {Object} [options] - options for styleNodes\n       * @param {String} [options.nodeName] - default: `SPAN`\n       * @param {Boolean} [options.expandClosestSibling] - default: `false`\n       * @param {Boolean} [options.onlyPartialContains] - default: `false`\n       * @return {Node[]}\n       */\n      Style.prototype.styleNodes = function (rng, options) {\n          rng = rng.splitText();\n          var nodeName = (options && options.nodeName) || 'SPAN';\n          var expandClosestSibling = !!(options && options.expandClosestSibling);\n          var onlyPartialContains = !!(options && options.onlyPartialContains);\n          if (rng.isCollapsed()) {\n              return [rng.insertNode(dom.create(nodeName))];\n          }\n          var pred = dom.makePredByNodeName(nodeName);\n          var nodes = rng.nodes(dom.isText, {\n              fullyContains: true\n          }).map(function (text) {\n              return dom.singleChildAncestor(text, pred) || dom.wrap(text, nodeName);\n          });\n          if (expandClosestSibling) {\n              if (onlyPartialContains) {\n                  var nodesInRange_1 = rng.nodes();\n                  // compose with partial contains predication\n                  pred = func.and(pred, function (node) {\n                      return lists.contains(nodesInRange_1, node);\n                  });\n              }\n              return nodes.map(function (node) {\n                  var siblings = dom.withClosestSiblings(node, pred);\n                  var head = lists.head(siblings);\n                  var tails = lists.tail(siblings);\n                  $$1.each(tails, function (idx, elem) {\n                      dom.appendChildNodes(head, elem.childNodes);\n                      dom.remove(elem);\n                  });\n                  return lists.head(siblings);\n              });\n          }\n          else {\n              return nodes;\n          }\n      };\n      /**\n       * get current style on cursor\n       *\n       * @param {WrappedRange} rng\n       * @return {Object} - object contains style properties.\n       */\n      Style.prototype.current = function (rng) {\n          var $cont = $$1(!dom.isElement(rng.sc) ? rng.sc.parentNode : rng.sc);\n          var styleInfo = this.fromNode($cont);\n          // document.queryCommandState for toggle state\n          // [workaround] prevent Firefox nsresult: \"0x80004005 (NS_ERROR_FAILURE)\"\n          try {\n              styleInfo = $$1.extend(styleInfo, {\n                  'font-bold': document.queryCommandState('bold') ? 'bold' : 'normal',\n                  'font-italic': document.queryCommandState('italic') ? 'italic' : 'normal',\n                  'font-underline': document.queryCommandState('underline') ? 'underline' : 'normal',\n                  'font-subscript': document.queryCommandState('subscript') ? 'subscript' : 'normal',\n                  'font-superscript': document.queryCommandState('superscript') ? 'superscript' : 'normal',\n                  'font-strikethrough': document.queryCommandState('strikethrough') ? 'strikethrough' : 'normal',\n                  'font-family': document.queryCommandValue('fontname') || styleInfo['font-family']\n              });\n          }\n          catch (e) { }\n          // list-style-type to list-style(unordered, ordered)\n          if (!rng.isOnList()) {\n              styleInfo['list-style'] = 'none';\n          }\n          else {\n              var orderedTypes = ['circle', 'disc', 'disc-leading-zero', 'square'];\n              var isUnordered = $$1.inArray(styleInfo['list-style-type'], orderedTypes) > -1;\n              styleInfo['list-style'] = isUnordered ? 'unordered' : 'ordered';\n          }\n          var para = dom.ancestor(rng.sc, dom.isPara);\n          if (para && para.style['line-height']) {\n              styleInfo['line-height'] = para.style.lineHeight;\n          }\n          else {\n              var lineHeight = parseInt(styleInfo['line-height'], 10) / parseInt(styleInfo['font-size'], 10);\n              styleInfo['line-height'] = lineHeight.toFixed(1);\n          }\n          styleInfo.anchor = rng.isOnAnchor() && dom.ancestor(rng.sc, dom.isAnchor);\n          styleInfo.ancestors = dom.listAncestor(rng.sc, dom.isEditable);\n          styleInfo.range = rng;\n          return styleInfo;\n      };\n      return Style;\n  }());\n\n  var Bullet = /** @class */ (function () {\n      function Bullet() {\n      }\n      /**\n       * toggle ordered list\n       */\n      Bullet.prototype.insertOrderedList = function (editable) {\n          this.toggleList('OL', editable);\n      };\n      /**\n       * toggle unordered list\n       */\n      Bullet.prototype.insertUnorderedList = function (editable) {\n          this.toggleList('UL', editable);\n      };\n      /**\n       * indent\n       */\n      Bullet.prototype.indent = function (editable) {\n          var _this = this;\n          var rng = range.create(editable).wrapBodyInlineWithPara();\n          var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n          var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n          $$1.each(clustereds, function (idx, paras) {\n              var head = lists.head(paras);\n              if (dom.isLi(head)) {\n                  var previousList_1 = _this.findList(head.previousSibling);\n                  if (previousList_1) {\n                      paras\n                          .map(function (para) { return previousList_1.appendChild(para); });\n                  }\n                  else {\n                      _this.wrapList(paras, head.parentNode.nodeName);\n                      paras\n                          .map(function (para) { return para.parentNode; })\n                          .map(function (para) { return _this.appendToPrevious(para); });\n                  }\n              }\n              else {\n                  $$1.each(paras, function (idx, para) {\n                      $$1(para).css('marginLeft', function (idx, val) {\n                          return (parseInt(val, 10) || 0) + 25;\n                      });\n                  });\n              }\n          });\n          rng.select();\n      };\n      /**\n       * outdent\n       */\n      Bullet.prototype.outdent = function (editable) {\n          var _this = this;\n          var rng = range.create(editable).wrapBodyInlineWithPara();\n          var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n          var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n          $$1.each(clustereds, function (idx, paras) {\n              var head = lists.head(paras);\n              if (dom.isLi(head)) {\n                  _this.releaseList([paras]);\n              }\n              else {\n                  $$1.each(paras, function (idx, para) {\n                      $$1(para).css('marginLeft', function (idx, val) {\n                          val = (parseInt(val, 10) || 0);\n                          return val > 25 ? val - 25 : '';\n                      });\n                  });\n              }\n          });\n          rng.select();\n      };\n      /**\n       * toggle list\n       *\n       * @param {String} listName - OL or UL\n       */\n      Bullet.prototype.toggleList = function (listName, editable) {\n          var _this = this;\n          var rng = range.create(editable).wrapBodyInlineWithPara();\n          var paras = rng.nodes(dom.isPara, { includeAncestor: true });\n          var bookmark = rng.paraBookmark(paras);\n          var clustereds = lists.clusterBy(paras, func.peq2('parentNode'));\n          // paragraph to list\n          if (lists.find(paras, dom.isPurePara)) {\n              var wrappedParas_1 = [];\n              $$1.each(clustereds, function (idx, paras) {\n                  wrappedParas_1 = wrappedParas_1.concat(_this.wrapList(paras, listName));\n              });\n              paras = wrappedParas_1;\n              // list to paragraph or change list style\n          }\n          else {\n              var diffLists = rng.nodes(dom.isList, {\n                  includeAncestor: true\n              }).filter(function (listNode) {\n                  return !$$1.nodeName(listNode, listName);\n              });\n              if (diffLists.length) {\n                  $$1.each(diffLists, function (idx, listNode) {\n                      dom.replace(listNode, listName);\n                  });\n              }\n              else {\n                  paras = this.releaseList(clustereds, true);\n              }\n          }\n          range.createFromParaBookmark(bookmark, paras).select();\n      };\n      /**\n       * @param {Node[]} paras\n       * @param {String} listName\n       * @return {Node[]}\n       */\n      Bullet.prototype.wrapList = function (paras, listName) {\n          var head = lists.head(paras);\n          var last = lists.last(paras);\n          var prevList = dom.isList(head.previousSibling) && head.previousSibling;\n          var nextList = dom.isList(last.nextSibling) && last.nextSibling;\n          var listNode = prevList || dom.insertAfter(dom.create(listName || 'UL'), last);\n          // P to LI\n          paras = paras.map(function (para) {\n              return dom.isPurePara(para) ? dom.replace(para, 'LI') : para;\n          });\n          // append to list(<ul>, <ol>)\n          dom.appendChildNodes(listNode, paras);\n          if (nextList) {\n              dom.appendChildNodes(listNode, lists.from(nextList.childNodes));\n              dom.remove(nextList);\n          }\n          return paras;\n      };\n      /**\n       * @method releaseList\n       *\n       * @param {Array[]} clustereds\n       * @param {Boolean} isEscapseToBody\n       * @return {Node[]}\n       */\n      Bullet.prototype.releaseList = function (clustereds, isEscapseToBody) {\n          var _this = this;\n          var releasedParas = [];\n          $$1.each(clustereds, function (idx, paras) {\n              var head = lists.head(paras);\n              var last = lists.last(paras);\n              var headList = isEscapseToBody ? dom.lastAncestor(head, dom.isList) : head.parentNode;\n              var parentItem = headList.parentNode;\n              if (headList.parentNode.nodeName === 'LI') {\n                  paras.map(function (para) {\n                      var newList = _this.findNextSiblings(para);\n                      if (parentItem.nextSibling) {\n                          parentItem.parentNode.insertBefore(para, parentItem.nextSibling);\n                      }\n                      else {\n                          parentItem.parentNode.appendChild(para);\n                      }\n                      if (newList.length) {\n                          _this.wrapList(newList, headList.nodeName);\n                          para.appendChild(newList[0].parentNode);\n                      }\n                  });\n                  if (headList.children.length === 0) {\n                      parentItem.removeChild(headList);\n                  }\n                  if (parentItem.childNodes.length === 0) {\n                      parentItem.parentNode.removeChild(parentItem);\n                  }\n              }\n              else {\n                  var lastList = headList.childNodes.length > 1 ? dom.splitTree(headList, {\n                      node: last.parentNode,\n                      offset: dom.position(last) + 1\n                  }, {\n                      isSkipPaddingBlankHTML: true\n                  }) : null;\n                  var middleList = dom.splitTree(headList, {\n                      node: head.parentNode,\n                      offset: dom.position(head)\n                  }, {\n                      isSkipPaddingBlankHTML: true\n                  });\n                  paras = isEscapseToBody ? dom.listDescendant(middleList, dom.isLi)\n                      : lists.from(middleList.childNodes).filter(dom.isLi);\n                  // LI to P\n                  if (isEscapseToBody || !dom.isList(headList.parentNode)) {\n                      paras = paras.map(function (para) {\n                          return dom.replace(para, 'P');\n                      });\n                  }\n                  $$1.each(lists.from(paras).reverse(), function (idx, para) {\n                      dom.insertAfter(para, headList);\n                  });\n                  // remove empty lists\n                  var rootLists = lists.compact([headList, middleList, lastList]);\n                  $$1.each(rootLists, function (idx, rootList) {\n                      var listNodes = [rootList].concat(dom.listDescendant(rootList, dom.isList));\n                      $$1.each(listNodes.reverse(), function (idx, listNode) {\n                          if (!dom.nodeLength(listNode)) {\n                              dom.remove(listNode, true);\n                          }\n                      });\n                  });\n              }\n              releasedParas = releasedParas.concat(paras);\n          });\n          return releasedParas;\n      };\n      /**\n       * @method appendToPrevious\n       *\n       * Appends list to previous list item, if\n       * none exist it wraps the list in a new list item.\n       *\n       * @param {HTMLNode} ListItem\n       * @return {HTMLNode}\n       */\n      Bullet.prototype.appendToPrevious = function (node) {\n          return node.previousSibling\n              ? dom.appendChildNodes(node.previousSibling, [node])\n              : this.wrapList([node], 'LI');\n      };\n      /**\n       * @method findList\n       *\n       * Finds an existing list in list item\n       *\n       * @param {HTMLNode} ListItem\n       * @return {Array[]}\n       */\n      Bullet.prototype.findList = function (node) {\n          return node\n              ? lists.find(node.children, function (child) { return ['OL', 'UL'].indexOf(child.nodeName) > -1; })\n              : null;\n      };\n      /**\n       * @method findNextSiblings\n       *\n       * Finds all list item siblings that follow it\n       *\n       * @param {HTMLNode} ListItem\n       * @return {HTMLNode}\n       */\n      Bullet.prototype.findNextSiblings = function (node) {\n          var siblings = [];\n          while (node.nextSibling) {\n              siblings.push(node.nextSibling);\n              node = node.nextSibling;\n          }\n          return siblings;\n      };\n      return Bullet;\n  }());\n\n  /**\n   * @class editing.Typing\n   *\n   * Typing\n   *\n   */\n  var Typing = /** @class */ (function () {\n      function Typing(context) {\n          // a Bullet instance to toggle lists off\n          this.bullet = new Bullet();\n          this.options = context.options;\n      }\n      /**\n       * insert tab\n       *\n       * @param {WrappedRange} rng\n       * @param {Number} tabsize\n       */\n      Typing.prototype.insertTab = function (rng, tabsize) {\n          var tab = dom.createText(new Array(tabsize + 1).join(dom.NBSP_CHAR));\n          rng = rng.deleteContents();\n          rng.insertNode(tab, true);\n          rng = range.create(tab, tabsize);\n          rng.select();\n      };\n      /**\n       * insert paragraph\n       *\n       * @param {jQuery} $editable\n       * @param {WrappedRange} rng Can be used in unit tests to \"mock\" the range\n       *\n       * blockquoteBreakingLevel\n       *   0 - No break, the new paragraph remains inside the quote\n       *   1 - Break the first blockquote in the ancestors list\n       *   2 - Break all blockquotes, so that the new paragraph is not quoted (this is the default)\n       */\n      Typing.prototype.insertParagraph = function (editable, rng) {\n          rng = rng || range.create(editable);\n          // deleteContents on range.\n          rng = rng.deleteContents();\n          // Wrap range if it needs to be wrapped by paragraph\n          rng = rng.wrapBodyInlineWithPara();\n          // finding paragraph\n          var splitRoot = dom.ancestor(rng.sc, dom.isPara);\n          var nextPara;\n          // on paragraph: split paragraph\n          if (splitRoot) {\n              // if it is an empty line with li\n              if (dom.isEmpty(splitRoot) && dom.isLi(splitRoot)) {\n                  // toogle UL/OL and escape\n                  this.bullet.toggleList(splitRoot.parentNode.nodeName);\n                  return;\n              }\n              else {\n                  var blockquote = null;\n                  if (this.options.blockquoteBreakingLevel === 1) {\n                      blockquote = dom.ancestor(splitRoot, dom.isBlockquote);\n                  }\n                  else if (this.options.blockquoteBreakingLevel === 2) {\n                      blockquote = dom.lastAncestor(splitRoot, dom.isBlockquote);\n                  }\n                  if (blockquote) {\n                      // We're inside a blockquote and options ask us to break it\n                      nextPara = $$1(dom.emptyPara)[0];\n                      // If the split is right before a <br>, remove it so that there's no \"empty line\"\n                      // after the split in the new blockquote created\n                      if (dom.isRightEdgePoint(rng.getStartPoint()) && dom.isBR(rng.sc.nextSibling)) {\n                          $$1(rng.sc.nextSibling).remove();\n                      }\n                      var split = dom.splitTree(blockquote, rng.getStartPoint(), { isDiscardEmptySplits: true });\n                      if (split) {\n                          split.parentNode.insertBefore(nextPara, split);\n                      }\n                      else {\n                          dom.insertAfter(nextPara, blockquote); // There's no split if we were at the end of the blockquote\n                      }\n                  }\n                  else {\n                      nextPara = dom.splitTree(splitRoot, rng.getStartPoint());\n                      // not a blockquote, just insert the paragraph\n                      var emptyAnchors = dom.listDescendant(splitRoot, dom.isEmptyAnchor);\n                      emptyAnchors = emptyAnchors.concat(dom.listDescendant(nextPara, dom.isEmptyAnchor));\n                      $$1.each(emptyAnchors, function (idx, anchor) {\n                          dom.remove(anchor);\n                      });\n                      // replace empty heading, pre or custom-made styleTag with P tag\n                      if ((dom.isHeading(nextPara) || dom.isPre(nextPara) || dom.isCustomStyleTag(nextPara)) && dom.isEmpty(nextPara)) {\n                          nextPara = dom.replace(nextPara, 'p');\n                      }\n                  }\n              }\n              // no paragraph: insert empty paragraph\n          }\n          else {\n              var next = rng.sc.childNodes[rng.so];\n              nextPara = $$1(dom.emptyPara)[0];\n              if (next) {\n                  rng.sc.insertBefore(nextPara, next);\n              }\n              else {\n                  rng.sc.appendChild(nextPara);\n              }\n          }\n          range.create(nextPara, 0).normalize().select().scrollIntoView(editable);\n      };\n      return Typing;\n  }());\n\n  /**\n   * @class Create a virtual table to create what actions to do in change.\n   * @param {object} startPoint Cell selected to apply change.\n   * @param {enum} where  Where change will be applied Row or Col. Use enum: TableResultAction.where\n   * @param {enum} action Action to be applied. Use enum: TableResultAction.requestAction\n   * @param {object} domTable Dom element of table to make changes.\n   */\n  var TableResultAction = function (startPoint, where, action, domTable) {\n      var _startPoint = { 'colPos': 0, 'rowPos': 0 };\n      var _virtualTable = [];\n      var _actionCellList = [];\n      /// ///////////////////////////////////////////\n      // Private functions\n      /// ///////////////////////////////////////////\n      /**\n       * Set the startPoint of action.\n       */\n      function setStartPoint() {\n          if (!startPoint || !startPoint.tagName || (startPoint.tagName.toLowerCase() !== 'td' && startPoint.tagName.toLowerCase() !== 'th')) {\n              console.error('Impossible to identify start Cell point.', startPoint);\n              return;\n          }\n          _startPoint.colPos = startPoint.cellIndex;\n          if (!startPoint.parentElement || !startPoint.parentElement.tagName || startPoint.parentElement.tagName.toLowerCase() !== 'tr') {\n              console.error('Impossible to identify start Row point.', startPoint);\n              return;\n          }\n          _startPoint.rowPos = startPoint.parentElement.rowIndex;\n      }\n      /**\n       * Define virtual table position info object.\n       *\n       * @param {int} rowIndex Index position in line of virtual table.\n       * @param {int} cellIndex Index position in column of virtual table.\n       * @param {object} baseRow Row affected by this position.\n       * @param {object} baseCell Cell affected by this position.\n       * @param {bool} isSpan Inform if it is an span cell/row.\n       */\n      function setVirtualTablePosition(rowIndex, cellIndex, baseRow, baseCell, isRowSpan, isColSpan, isVirtualCell) {\n          var objPosition = {\n              'baseRow': baseRow,\n              'baseCell': baseCell,\n              'isRowSpan': isRowSpan,\n              'isColSpan': isColSpan,\n              'isVirtual': isVirtualCell\n          };\n          if (!_virtualTable[rowIndex]) {\n              _virtualTable[rowIndex] = [];\n          }\n          _virtualTable[rowIndex][cellIndex] = objPosition;\n      }\n      /**\n       * Create action cell object.\n       *\n       * @param {object} virtualTableCellObj Object of specific position on virtual table.\n       * @param {enum} resultAction Action to be applied in that item.\n       */\n      function getActionCell(virtualTableCellObj, resultAction, virtualRowPosition, virtualColPosition) {\n          return {\n              'baseCell': virtualTableCellObj.baseCell,\n              'action': resultAction,\n              'virtualTable': {\n                  'rowIndex': virtualRowPosition,\n                  'cellIndex': virtualColPosition\n              }\n          };\n      }\n      /**\n       * Recover free index of row to append Cell.\n       *\n       * @param {int} rowIndex Index of row to find free space.\n       * @param {int} cellIndex Index of cell to find free space in table.\n       */\n      function recoverCellIndex(rowIndex, cellIndex) {\n          if (!_virtualTable[rowIndex]) {\n              return cellIndex;\n          }\n          if (!_virtualTable[rowIndex][cellIndex]) {\n              return cellIndex;\n          }\n          var newCellIndex = cellIndex;\n          while (_virtualTable[rowIndex][newCellIndex]) {\n              newCellIndex++;\n              if (!_virtualTable[rowIndex][newCellIndex]) {\n                  return newCellIndex;\n              }\n          }\n      }\n      /**\n       * Recover info about row and cell and add information to virtual table.\n       *\n       * @param {object} row Row to recover information.\n       * @param {object} cell Cell to recover information.\n       */\n      function addCellInfoToVirtual(row, cell) {\n          var cellIndex = recoverCellIndex(row.rowIndex, cell.cellIndex);\n          var cellHasColspan = (cell.colSpan > 1);\n          var cellHasRowspan = (cell.rowSpan > 1);\n          var isThisSelectedCell = (row.rowIndex === _startPoint.rowPos && cell.cellIndex === _startPoint.colPos);\n          setVirtualTablePosition(row.rowIndex, cellIndex, row, cell, cellHasRowspan, cellHasColspan, false);\n          // Add span rows to virtual Table.\n          var rowspanNumber = cell.attributes.rowSpan ? parseInt(cell.attributes.rowSpan.value, 10) : 0;\n          if (rowspanNumber > 1) {\n              for (var rp = 1; rp < rowspanNumber; rp++) {\n                  var rowspanIndex = row.rowIndex + rp;\n                  adjustStartPoint(rowspanIndex, cellIndex, cell, isThisSelectedCell);\n                  setVirtualTablePosition(rowspanIndex, cellIndex, row, cell, true, cellHasColspan, true);\n              }\n          }\n          // Add span cols to virtual table.\n          var colspanNumber = cell.attributes.colSpan ? parseInt(cell.attributes.colSpan.value, 10) : 0;\n          if (colspanNumber > 1) {\n              for (var cp = 1; cp < colspanNumber; cp++) {\n                  var cellspanIndex = recoverCellIndex(row.rowIndex, (cellIndex + cp));\n                  adjustStartPoint(row.rowIndex, cellspanIndex, cell, isThisSelectedCell);\n                  setVirtualTablePosition(row.rowIndex, cellspanIndex, row, cell, cellHasRowspan, true, true);\n              }\n          }\n      }\n      /**\n       * Process validation and adjust of start point if needed\n       *\n       * @param {int} rowIndex\n       * @param {int} cellIndex\n       * @param {object} cell\n       * @param {bool} isSelectedCell\n       */\n      function adjustStartPoint(rowIndex, cellIndex, cell, isSelectedCell) {\n          if (rowIndex === _startPoint.rowPos && _startPoint.colPos >= cell.cellIndex && cell.cellIndex <= cellIndex && !isSelectedCell) {\n              _startPoint.colPos++;\n          }\n      }\n      /**\n       * Create virtual table of cells with all cells, including span cells.\n       */\n      function createVirtualTable() {\n          var rows = domTable.rows;\n          for (var rowIndex = 0; rowIndex < rows.length; rowIndex++) {\n              var cells = rows[rowIndex].cells;\n              for (var cellIndex = 0; cellIndex < cells.length; cellIndex++) {\n                  addCellInfoToVirtual(rows[rowIndex], cells[cellIndex]);\n              }\n          }\n      }\n      /**\n       * Get action to be applied on the cell.\n       *\n       * @param {object} cell virtual table cell to apply action\n       */\n      function getDeleteResultActionToCell(cell) {\n          switch (where) {\n              case TableResultAction.where.Column:\n                  if (cell.isColSpan) {\n                      return TableResultAction.resultAction.SubtractSpanCount;\n                  }\n                  break;\n              case TableResultAction.where.Row:\n                  if (!cell.isVirtual && cell.isRowSpan) {\n                      return TableResultAction.resultAction.AddCell;\n                  }\n                  else if (cell.isRowSpan) {\n                      return TableResultAction.resultAction.SubtractSpanCount;\n                  }\n                  break;\n          }\n          return TableResultAction.resultAction.RemoveCell;\n      }\n      /**\n       * Get action to be applied on the cell.\n       *\n       * @param {object} cell virtual table cell to apply action\n       */\n      function getAddResultActionToCell(cell) {\n          switch (where) {\n              case TableResultAction.where.Column:\n                  if (cell.isColSpan) {\n                      return TableResultAction.resultAction.SumSpanCount;\n                  }\n                  else if (cell.isRowSpan && cell.isVirtual) {\n                      return TableResultAction.resultAction.Ignore;\n                  }\n                  break;\n              case TableResultAction.where.Row:\n                  if (cell.isRowSpan) {\n                      return TableResultAction.resultAction.SumSpanCount;\n                  }\n                  else if (cell.isColSpan && cell.isVirtual) {\n                      return TableResultAction.resultAction.Ignore;\n                  }\n                  break;\n          }\n          return TableResultAction.resultAction.AddCell;\n      }\n      function init() {\n          setStartPoint();\n          createVirtualTable();\n      }\n      /// ///////////////////////////////////////////\n      // Public functions\n      /// ///////////////////////////////////////////\n      /**\n       * Recover array os what to do in table.\n       */\n      this.getActionList = function () {\n          var fixedRow = (where === TableResultAction.where.Row) ? _startPoint.rowPos : -1;\n          var fixedCol = (where === TableResultAction.where.Column) ? _startPoint.colPos : -1;\n          var actualPosition = 0;\n          var canContinue = true;\n          while (canContinue) {\n              var rowPosition = (fixedRow >= 0) ? fixedRow : actualPosition;\n              var colPosition = (fixedCol >= 0) ? fixedCol : actualPosition;\n              var row = _virtualTable[rowPosition];\n              if (!row) {\n                  canContinue = false;\n                  return _actionCellList;\n              }\n              var cell = row[colPosition];\n              if (!cell) {\n                  canContinue = false;\n                  return _actionCellList;\n              }\n              // Define action to be applied in this cell\n              var resultAction = TableResultAction.resultAction.Ignore;\n              switch (action) {\n                  case TableResultAction.requestAction.Add:\n                      resultAction = getAddResultActionToCell(cell);\n                      break;\n                  case TableResultAction.requestAction.Delete:\n                      resultAction = getDeleteResultActionToCell(cell);\n                      break;\n              }\n              _actionCellList.push(getActionCell(cell, resultAction, rowPosition, colPosition));\n              actualPosition++;\n          }\n          return _actionCellList;\n      };\n      init();\n  };\n  /**\n  *\n  * Where action occours enum.\n  */\n  TableResultAction.where = { 'Row': 0, 'Column': 1 };\n  /**\n  *\n  * Requested action to apply enum.\n  */\n  TableResultAction.requestAction = { 'Add': 0, 'Delete': 1 };\n  /**\n  *\n  * Result action to be executed enum.\n  */\n  TableResultAction.resultAction = { 'Ignore': 0, 'SubtractSpanCount': 1, 'RemoveCell': 2, 'AddCell': 3, 'SumSpanCount': 4 };\n  /**\n   *\n   * @class editing.Table\n   *\n   * Table\n   *\n   */\n  var Table = /** @class */ (function () {\n      function Table() {\n      }\n      /**\n       * handle tab key\n       *\n       * @param {WrappedRange} rng\n       * @param {Boolean} isShift\n       */\n      Table.prototype.tab = function (rng, isShift) {\n          var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n          var table = dom.ancestor(cell, dom.isTable);\n          var cells = dom.listDescendant(table, dom.isCell);\n          var nextCell = lists[isShift ? 'prev' : 'next'](cells, cell);\n          if (nextCell) {\n              range.create(nextCell, 0).select();\n          }\n      };\n      /**\n       * Add a new row\n       *\n       * @param {WrappedRange} rng\n       * @param {String} position (top/bottom)\n       * @return {Node}\n       */\n      Table.prototype.addRow = function (rng, position) {\n          var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n          var currentTr = $$1(cell).closest('tr');\n          var trAttributes = this.recoverAttributes(currentTr);\n          var html = $$1('<tr' + trAttributes + '></tr>');\n          var vTable = new TableResultAction(cell, TableResultAction.where.Row, TableResultAction.requestAction.Add, $$1(currentTr).closest('table')[0]);\n          var actions = vTable.getActionList();\n          for (var idCell = 0; idCell < actions.length; idCell++) {\n              var currentCell = actions[idCell];\n              var tdAttributes = this.recoverAttributes(currentCell.baseCell);\n              switch (currentCell.action) {\n                  case TableResultAction.resultAction.AddCell:\n                      html.append('<td' + tdAttributes + '>' + dom.blank + '</td>');\n                      break;\n                  case TableResultAction.resultAction.SumSpanCount:\n                      if (position === 'top') {\n                          var baseCellTr = currentCell.baseCell.parent;\n                          var isTopFromRowSpan = (!baseCellTr ? 0 : currentCell.baseCell.closest('tr').rowIndex) <= currentTr[0].rowIndex;\n                          if (isTopFromRowSpan) {\n                              var newTd = $$1('<div></div>').append($$1('<td' + tdAttributes + '>' + dom.blank + '</td>').removeAttr('rowspan')).html();\n                              html.append(newTd);\n                              break;\n                          }\n                      }\n                      var rowspanNumber = parseInt(currentCell.baseCell.rowSpan, 10);\n                      rowspanNumber++;\n                      currentCell.baseCell.setAttribute('rowSpan', rowspanNumber);\n                      break;\n              }\n          }\n          if (position === 'top') {\n              currentTr.before(html);\n          }\n          else {\n              var cellHasRowspan = (cell.rowSpan > 1);\n              if (cellHasRowspan) {\n                  var lastTrIndex = currentTr[0].rowIndex + (cell.rowSpan - 2);\n                  $$1($$1(currentTr).parent().find('tr')[lastTrIndex]).after($$1(html));\n                  return;\n              }\n              currentTr.after(html);\n          }\n      };\n      /**\n       * Add a new col\n       *\n       * @param {WrappedRange} rng\n       * @param {String} position (left/right)\n       * @return {Node}\n       */\n      Table.prototype.addCol = function (rng, position) {\n          var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n          var row = $$1(cell).closest('tr');\n          var rowsGroup = $$1(row).siblings();\n          rowsGroup.push(row);\n          var vTable = new TableResultAction(cell, TableResultAction.where.Column, TableResultAction.requestAction.Add, $$1(row).closest('table')[0]);\n          var actions = vTable.getActionList();\n          for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n              var currentCell = actions[actionIndex];\n              var tdAttributes = this.recoverAttributes(currentCell.baseCell);\n              switch (currentCell.action) {\n                  case TableResultAction.resultAction.AddCell:\n                      if (position === 'right') {\n                          $$1(currentCell.baseCell).after('<td' + tdAttributes + '>' + dom.blank + '</td>');\n                      }\n                      else {\n                          $$1(currentCell.baseCell).before('<td' + tdAttributes + '>' + dom.blank + '</td>');\n                      }\n                      break;\n                  case TableResultAction.resultAction.SumSpanCount:\n                      if (position === 'right') {\n                          var colspanNumber = parseInt(currentCell.baseCell.colSpan, 10);\n                          colspanNumber++;\n                          currentCell.baseCell.setAttribute('colSpan', colspanNumber);\n                      }\n                      else {\n                          $$1(currentCell.baseCell).before('<td' + tdAttributes + '>' + dom.blank + '</td>');\n                      }\n                      break;\n              }\n          }\n      };\n      /*\n      * Copy attributes from element.\n      *\n      * @param {object} Element to recover attributes.\n      * @return {string} Copied string elements.\n      */\n      Table.prototype.recoverAttributes = function (el) {\n          var resultStr = '';\n          if (!el) {\n              return resultStr;\n          }\n          var attrList = el.attributes || [];\n          for (var i = 0; i < attrList.length; i++) {\n              if (attrList[i].name.toLowerCase() === 'id') {\n                  continue;\n              }\n              if (attrList[i].specified) {\n                  resultStr += ' ' + attrList[i].name + '=\\'' + attrList[i].value + '\\'';\n              }\n          }\n          return resultStr;\n      };\n      /**\n       * Delete current row\n       *\n       * @param {WrappedRange} rng\n       * @return {Node}\n       */\n      Table.prototype.deleteRow = function (rng) {\n          var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n          var row = $$1(cell).closest('tr');\n          var cellPos = row.children('td, th').index($$1(cell));\n          var rowPos = row[0].rowIndex;\n          var vTable = new TableResultAction(cell, TableResultAction.where.Row, TableResultAction.requestAction.Delete, $$1(row).closest('table')[0]);\n          var actions = vTable.getActionList();\n          for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n              if (!actions[actionIndex]) {\n                  continue;\n              }\n              var baseCell = actions[actionIndex].baseCell;\n              var virtualPosition = actions[actionIndex].virtualTable;\n              var hasRowspan = (baseCell.rowSpan && baseCell.rowSpan > 1);\n              var rowspanNumber = (hasRowspan) ? parseInt(baseCell.rowSpan, 10) : 0;\n              switch (actions[actionIndex].action) {\n                  case TableResultAction.resultAction.Ignore:\n                      continue;\n                  case TableResultAction.resultAction.AddCell:\n                      var nextRow = row.next('tr')[0];\n                      if (!nextRow) {\n                          continue;\n                      }\n                      var cloneRow = row[0].cells[cellPos];\n                      if (hasRowspan) {\n                          if (rowspanNumber > 2) {\n                              rowspanNumber--;\n                              nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\n                              nextRow.cells[cellPos].setAttribute('rowSpan', rowspanNumber);\n                              nextRow.cells[cellPos].innerHTML = '';\n                          }\n                          else if (rowspanNumber === 2) {\n                              nextRow.insertBefore(cloneRow, nextRow.cells[cellPos]);\n                              nextRow.cells[cellPos].removeAttribute('rowSpan');\n                              nextRow.cells[cellPos].innerHTML = '';\n                          }\n                      }\n                      continue;\n                  case TableResultAction.resultAction.SubtractSpanCount:\n                      if (hasRowspan) {\n                          if (rowspanNumber > 2) {\n                              rowspanNumber--;\n                              baseCell.setAttribute('rowSpan', rowspanNumber);\n                              if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) {\n                                  baseCell.innerHTML = '';\n                              }\n                          }\n                          else if (rowspanNumber === 2) {\n                              baseCell.removeAttribute('rowSpan');\n                              if (virtualPosition.rowIndex !== rowPos && baseCell.cellIndex === cellPos) {\n                                  baseCell.innerHTML = '';\n                              }\n                          }\n                      }\n                      continue;\n                  case TableResultAction.resultAction.RemoveCell:\n                      // Do not need remove cell because row will be deleted.\n                      continue;\n              }\n          }\n          row.remove();\n      };\n      /**\n       * Delete current col\n       *\n       * @param {WrappedRange} rng\n       * @return {Node}\n       */\n      Table.prototype.deleteCol = function (rng) {\n          var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n          var row = $$1(cell).closest('tr');\n          var cellPos = row.children('td, th').index($$1(cell));\n          var vTable = new TableResultAction(cell, TableResultAction.where.Column, TableResultAction.requestAction.Delete, $$1(row).closest('table')[0]);\n          var actions = vTable.getActionList();\n          for (var actionIndex = 0; actionIndex < actions.length; actionIndex++) {\n              if (!actions[actionIndex]) {\n                  continue;\n              }\n              switch (actions[actionIndex].action) {\n                  case TableResultAction.resultAction.Ignore:\n                      continue;\n                  case TableResultAction.resultAction.SubtractSpanCount:\n                      var baseCell = actions[actionIndex].baseCell;\n                      var hasColspan = (baseCell.colSpan && baseCell.colSpan > 1);\n                      if (hasColspan) {\n                          var colspanNumber = (baseCell.colSpan) ? parseInt(baseCell.colSpan, 10) : 0;\n                          if (colspanNumber > 2) {\n                              colspanNumber--;\n                              baseCell.setAttribute('colSpan', colspanNumber);\n                              if (baseCell.cellIndex === cellPos) {\n                                  baseCell.innerHTML = '';\n                              }\n                          }\n                          else if (colspanNumber === 2) {\n                              baseCell.removeAttribute('colSpan');\n                              if (baseCell.cellIndex === cellPos) {\n                                  baseCell.innerHTML = '';\n                              }\n                          }\n                      }\n                      continue;\n                  case TableResultAction.resultAction.RemoveCell:\n                      dom.remove(actions[actionIndex].baseCell, true);\n                      continue;\n              }\n          }\n      };\n      /**\n       * create empty table element\n       *\n       * @param {Number} rowCount\n       * @param {Number} colCount\n       * @return {Node}\n       */\n      Table.prototype.createTable = function (colCount, rowCount, options) {\n          var tds = [];\n          var tdHTML;\n          for (var idxCol = 0; idxCol < colCount; idxCol++) {\n              tds.push('<td>' + dom.blank + '</td>');\n          }\n          tdHTML = tds.join('');\n          var trs = [];\n          var trHTML;\n          for (var idxRow = 0; idxRow < rowCount; idxRow++) {\n              trs.push('<tr>' + tdHTML + '</tr>');\n          }\n          trHTML = trs.join('');\n          var $table = $$1('<table>' + trHTML + '</table>');\n          if (options && options.tableClassName) {\n              $table.addClass(options.tableClassName);\n          }\n          return $table[0];\n      };\n      /**\n       * Delete current table\n       *\n       * @param {WrappedRange} rng\n       * @return {Node}\n       */\n      Table.prototype.deleteTable = function (rng) {\n          var cell = dom.ancestor(rng.commonAncestor(), dom.isCell);\n          $$1(cell).closest('table').remove();\n      };\n      return Table;\n  }());\n\n  var KEY_BOGUS = 'bogus';\n  /**\n   * @class Editor\n   */\n  var Editor = /** @class */ (function () {\n      function Editor(context) {\n          var _this = this;\n          this.context = context;\n          this.$note = context.layoutInfo.note;\n          this.$editor = context.layoutInfo.editor;\n          this.$editable = context.layoutInfo.editable;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n          this.editable = this.$editable[0];\n          this.lastRange = null;\n          this.style = new Style();\n          this.table = new Table();\n          this.typing = new Typing(context);\n          this.bullet = new Bullet();\n          this.history = new History(this.$editable);\n          this.context.memo('help.undo', this.lang.help.undo);\n          this.context.memo('help.redo', this.lang.help.redo);\n          this.context.memo('help.tab', this.lang.help.tab);\n          this.context.memo('help.untab', this.lang.help.untab);\n          this.context.memo('help.insertParagraph', this.lang.help.insertParagraph);\n          this.context.memo('help.insertOrderedList', this.lang.help.insertOrderedList);\n          this.context.memo('help.insertUnorderedList', this.lang.help.insertUnorderedList);\n          this.context.memo('help.indent', this.lang.help.indent);\n          this.context.memo('help.outdent', this.lang.help.outdent);\n          this.context.memo('help.formatPara', this.lang.help.formatPara);\n          this.context.memo('help.insertHorizontalRule', this.lang.help.insertHorizontalRule);\n          this.context.memo('help.fontName', this.lang.help.fontName);\n          // native commands(with execCommand), generate function for execCommand\n          var commands = [\n              'bold', 'italic', 'underline', 'strikethrough', 'superscript', 'subscript',\n              'justifyLeft', 'justifyCenter', 'justifyRight', 'justifyFull',\n              'formatBlock', 'removeFormat', 'backColor'\n          ];\n          for (var idx = 0, len = commands.length; idx < len; idx++) {\n              this[commands[idx]] = (function (sCmd) {\n                  return function (value) {\n                      _this.beforeCommand();\n                      document.execCommand(sCmd, false, value);\n                      _this.afterCommand(true);\n                  };\n              })(commands[idx]);\n              this.context.memo('help.' + commands[idx], this.lang.help[commands[idx]]);\n          }\n          this.fontName = this.wrapCommand(function (value) {\n              return _this.fontStyling('font-family', \"\\'\" + value + \"\\'\");\n          });\n          this.fontSize = this.wrapCommand(function (value) {\n              return _this.fontStyling('font-size', value + 'px');\n          });\n          for (var idx = 1; idx <= 6; idx++) {\n              this['formatH' + idx] = (function (idx) {\n                  return function () {\n                      _this.formatBlock('H' + idx);\n                  };\n              })(idx);\n              this.context.memo('help.formatH' + idx, this.lang.help['formatH' + idx]);\n          }\n          this.insertParagraph = this.wrapCommand(function () {\n              _this.typing.insertParagraph(_this.editable);\n          });\n          this.insertOrderedList = this.wrapCommand(function () {\n              _this.bullet.insertOrderedList(_this.editable);\n          });\n          this.insertUnorderedList = this.wrapCommand(function () {\n              _this.bullet.insertUnorderedList(_this.editable);\n          });\n          this.indent = this.wrapCommand(function () {\n              _this.bullet.indent(_this.editable);\n          });\n          this.outdent = this.wrapCommand(function () {\n              _this.bullet.outdent(_this.editable);\n          });\n          /**\n           * insertNode\n           * insert node\n           * @param {Node} node\n           */\n          this.insertNode = this.wrapCommand(function (node) {\n              if (_this.isLimited($$1(node).text().length)) {\n                  return;\n              }\n              var rng = _this.createRange();\n              rng.insertNode(node);\n              range.createFromNodeAfter(node).select();\n          });\n          /**\n           * insert text\n           * @param {String} text\n           */\n          this.insertText = this.wrapCommand(function (text) {\n              if (_this.isLimited(text.length)) {\n                  return;\n              }\n              var rng = _this.createRange();\n              var textNode = rng.insertNode(dom.createText(text));\n              range.create(textNode, dom.nodeLength(textNode)).select();\n          });\n          /**\n           * paste HTML\n           * @param {String} markup\n           */\n          this.pasteHTML = this.wrapCommand(function (markup) {\n              if (_this.isLimited(markup.length)) {\n                  return;\n              }\n              var contents = _this.createRange().pasteHTML(markup);\n              range.createFromNodeAfter(lists.last(contents)).select();\n          });\n          /**\n           * formatBlock\n           *\n           * @param {String} tagName\n           */\n          this.formatBlock = this.wrapCommand(function (tagName, $target) {\n              var onApplyCustomStyle = _this.options.callbacks.onApplyCustomStyle;\n              if (onApplyCustomStyle) {\n                  onApplyCustomStyle.call(_this, $target, _this.context, _this.onFormatBlock);\n              }\n              else {\n                  _this.onFormatBlock(tagName, $target);\n              }\n          });\n          /**\n           * insert horizontal rule\n           */\n          this.insertHorizontalRule = this.wrapCommand(function () {\n              var hrNode = _this.createRange().insertNode(dom.create('HR'));\n              if (hrNode.nextSibling) {\n                  range.create(hrNode.nextSibling, 0).normalize().select();\n              }\n          });\n          /**\n           * lineHeight\n           * @param {String} value\n           */\n          this.lineHeight = this.wrapCommand(function (value) {\n              _this.style.stylePara(_this.createRange(), {\n                  lineHeight: value\n              });\n          });\n          /**\n           * create link (command)\n           *\n           * @param {Object} linkInfo\n           */\n          this.createLink = this.wrapCommand(function (linkInfo) {\n              var linkUrl = linkInfo.url;\n              var linkText = linkInfo.text;\n              var isNewWindow = linkInfo.isNewWindow;\n              var rng = linkInfo.range || _this.createRange();\n              var additionalTextLength = linkText.length - rng.toString().length;\n              if (additionalTextLength > 0 && _this.isLimited(additionalTextLength)) {\n                  return;\n              }\n              var isTextChanged = rng.toString() !== linkText;\n              // handle spaced urls from input\n              if (typeof linkUrl === 'string') {\n                  linkUrl = linkUrl.trim();\n              }\n              if (_this.options.onCreateLink) {\n                  linkUrl = _this.options.onCreateLink(linkUrl);\n              }\n              else {\n                  // if url is not relative,\n                  if (!/^\\.?\\/(.*)/.test(linkUrl)) {\n                      // if url doesn't match an URL schema, set http:// as default\n                      linkUrl = /^[A-Za-z][A-Za-z0-9+-.]*\\:[\\/\\/]?/.test(linkUrl)\n                          ? linkUrl : 'http://' + linkUrl;\n                  }\n              }\n              var anchors = [];\n              if (isTextChanged) {\n                  rng = rng.deleteContents();\n                  var anchor = rng.insertNode($$1('<A>' + linkText + '</A>')[0]);\n                  anchors.push(anchor);\n              }\n              else {\n                  anchors = _this.style.styleNodes(rng, {\n                      nodeName: 'A',\n                      expandClosestSibling: true,\n                      onlyPartialContains: true\n                  });\n              }\n              $$1.each(anchors, function (idx, anchor) {\n                  $$1(anchor).attr('href', linkUrl);\n                  if (isNewWindow) {\n                      $$1(anchor).attr('target', '_blank');\n                  }\n                  else {\n                      $$1(anchor).removeAttr('target');\n                  }\n              });\n              var startRange = range.createFromNodeBefore(lists.head(anchors));\n              var startPoint = startRange.getStartPoint();\n              var endRange = range.createFromNodeAfter(lists.last(anchors));\n              var endPoint = endRange.getEndPoint();\n              range.create(startPoint.node, startPoint.offset, endPoint.node, endPoint.offset).select();\n          });\n          /**\n           * setting color\n           *\n           * @param {Object} sObjColor  color code\n           * @param {String} sObjColor.foreColor foreground color\n           * @param {String} sObjColor.backColor background color\n           */\n          this.color = this.wrapCommand(function (colorInfo) {\n              var foreColor = colorInfo.foreColor;\n              var backColor = colorInfo.backColor;\n              if (foreColor) {\n                  document.execCommand('foreColor', false, foreColor);\n              }\n              if (backColor) {\n                  document.execCommand('backColor', false, backColor);\n              }\n          });\n          /**\n           * Set foreground color\n           *\n           * @param {String} colorCode foreground color code\n           */\n          this.foreColor = this.wrapCommand(function (colorInfo) {\n              document.execCommand('styleWithCSS', false, true);\n              document.execCommand('foreColor', false, colorInfo);\n          });\n          /**\n           * insert Table\n           *\n           * @param {String} dimension of table (ex : \"5x5\")\n           */\n          this.insertTable = this.wrapCommand(function (dim) {\n              var dimension = dim.split('x');\n              var rng = _this.createRange().deleteContents();\n              rng.insertNode(_this.table.createTable(dimension[0], dimension[1], _this.options));\n          });\n          /**\n           * remove media object and Figure Elements if media object is img with Figure.\n           */\n          this.removeMedia = this.wrapCommand(function () {\n              var $target = $$1(_this.restoreTarget()).parent();\n              if ($target.parent('figure').length) {\n                  $target.parent('figure').remove();\n              }\n              else {\n                  $target = $$1(_this.restoreTarget()).detach();\n              }\n              _this.context.triggerEvent('media.delete', $target, _this.$editable);\n          });\n          /**\n           * float me\n           *\n           * @param {String} value\n           */\n          this.floatMe = this.wrapCommand(function (value) {\n              var $target = $$1(_this.restoreTarget());\n              $target.toggleClass('note-float-left', value === 'left');\n              $target.toggleClass('note-float-right', value === 'right');\n              $target.css('float', value);\n          });\n          /**\n           * resize overlay element\n           * @param {String} value\n           */\n          this.resize = this.wrapCommand(function (value) {\n              var $target = $$1(_this.restoreTarget());\n              $target.css({\n                  width: value * 100 + '%',\n                  height: ''\n              });\n          });\n      }\n      Editor.prototype.initialize = function () {\n          var _this = this;\n          // bind custom events\n          this.$editable.on('keydown', function (event) {\n              if (event.keyCode === key.code.ENTER) {\n                  _this.context.triggerEvent('enter', event);\n              }\n              _this.context.triggerEvent('keydown', event);\n              if (!event.isDefaultPrevented()) {\n                  if (_this.options.shortcuts) {\n                      _this.handleKeyMap(event);\n                  }\n                  else {\n                      _this.preventDefaultEditableShortCuts(event);\n                  }\n              }\n              if (_this.isLimited(1, event)) {\n                  return false;\n              }\n          }).on('keyup', function (event) {\n              _this.context.triggerEvent('keyup', event);\n          }).on('focus', function (event) {\n              _this.context.triggerEvent('focus', event);\n          }).on('blur', function (event) {\n              _this.context.triggerEvent('blur', event);\n          }).on('mousedown', function (event) {\n              _this.context.triggerEvent('mousedown', event);\n          }).on('mouseup', function (event) {\n              _this.context.triggerEvent('mouseup', event);\n          }).on('scroll', function (event) {\n              _this.context.triggerEvent('scroll', event);\n          }).on('paste', function (event) {\n              _this.context.triggerEvent('paste', event);\n          });\n          // init content before set event\n          this.$editable.html(dom.html(this.$note) || dom.emptyPara);\n          this.$editable.on(env.inputEventName, func.debounce(function () {\n              _this.context.triggerEvent('change', _this.$editable.html());\n          }, 10));\n          this.$editor.on('focusin', function (event) {\n              _this.context.triggerEvent('focusin', event);\n          }).on('focusout', function (event) {\n              _this.context.triggerEvent('focusout', event);\n          });\n          if (!this.options.airMode) {\n              if (this.options.width) {\n                  this.$editor.outerWidth(this.options.width);\n              }\n              if (this.options.height) {\n                  this.$editable.outerHeight(this.options.height);\n              }\n              if (this.options.maxHeight) {\n                  this.$editable.css('max-height', this.options.maxHeight);\n              }\n              if (this.options.minHeight) {\n                  this.$editable.css('min-height', this.options.minHeight);\n              }\n          }\n          this.history.recordUndo();\n      };\n      Editor.prototype.destroy = function () {\n          this.$editable.off();\n      };\n      Editor.prototype.handleKeyMap = function (event) {\n          var keyMap = this.options.keyMap[env.isMac ? 'mac' : 'pc'];\n          var keys = [];\n          if (event.metaKey) {\n              keys.push('CMD');\n          }\n          if (event.ctrlKey && !event.altKey) {\n              keys.push('CTRL');\n          }\n          if (event.shiftKey) {\n              keys.push('SHIFT');\n          }\n          var keyName = key.nameFromCode[event.keyCode];\n          if (keyName) {\n              keys.push(keyName);\n          }\n          var eventName = keyMap[keys.join('+')];\n          if (eventName) {\n              if (this.context.invoke(eventName) !== false) {\n                  event.preventDefault();\n              }\n          }\n          else if (key.isEdit(event.keyCode)) {\n              this.afterCommand();\n          }\n      };\n      Editor.prototype.preventDefaultEditableShortCuts = function (event) {\n          // B(Bold, 66) / I(Italic, 73) / U(Underline, 85)\n          if ((event.ctrlKey || event.metaKey) &&\n              lists.contains([66, 73, 85], event.keyCode)) {\n              event.preventDefault();\n          }\n      };\n      Editor.prototype.isLimited = function (pad, event) {\n          pad = pad || 0;\n          if (typeof event !== 'undefined') {\n              if (key.isMove(event.keyCode) ||\n                  (event.ctrlKey || event.metaKey) ||\n                  lists.contains([key.code.BACKSPACE, key.code.DELETE], event.keyCode)) {\n                  return false;\n              }\n          }\n          if (this.options.maxTextLength > 0) {\n              if ((this.$editable.text().length + pad) >= this.options.maxTextLength) {\n                  return true;\n              }\n          }\n          return false;\n      };\n      /**\n       * create range\n       * @return {WrappedRange}\n       */\n      Editor.prototype.createRange = function () {\n          this.focus();\n          return range.create(this.editable);\n      };\n      /**\n       * saveRange\n       *\n       * save current range\n       *\n       * @param {Boolean} [thenCollapse=false]\n       */\n      Editor.prototype.saveRange = function (thenCollapse) {\n          this.lastRange = this.createRange();\n          if (thenCollapse) {\n              this.lastRange.collapse().select();\n          }\n      };\n      /**\n       * restoreRange\n       *\n       * restore lately range\n       */\n      Editor.prototype.restoreRange = function () {\n          if (this.lastRange) {\n              this.lastRange.select();\n              this.focus();\n          }\n      };\n      Editor.prototype.saveTarget = function (node) {\n          this.$editable.data('target', node);\n      };\n      Editor.prototype.clearTarget = function () {\n          this.$editable.removeData('target');\n      };\n      Editor.prototype.restoreTarget = function () {\n          return this.$editable.data('target');\n      };\n      /**\n       * currentStyle\n       *\n       * current style\n       * @return {Object|Boolean} unfocus\n       */\n      Editor.prototype.currentStyle = function () {\n          var rng = range.create();\n          if (rng) {\n              rng = rng.normalize();\n          }\n          return rng ? this.style.current(rng) : this.style.fromNode(this.$editable);\n      };\n      /**\n       * style from node\n       *\n       * @param {jQuery} $node\n       * @return {Object}\n       */\n      Editor.prototype.styleFromNode = function ($node) {\n          return this.style.fromNode($node);\n      };\n      /**\n       * undo\n       */\n      Editor.prototype.undo = function () {\n          this.context.triggerEvent('before.command', this.$editable.html());\n          this.history.undo();\n          this.context.triggerEvent('change', this.$editable.html());\n      };\n      /*\n      * commit\n      */\n      Editor.prototype.commit = function () {\n          this.context.triggerEvent('before.command', this.$editable.html());\n          this.history.commit();\n          this.context.triggerEvent('change', this.$editable.html());\n      };\n      /**\n       * redo\n       */\n      Editor.prototype.redo = function () {\n          this.context.triggerEvent('before.command', this.$editable.html());\n          this.history.redo();\n          this.context.triggerEvent('change', this.$editable.html());\n      };\n      /**\n       * before command\n       */\n      Editor.prototype.beforeCommand = function () {\n          this.context.triggerEvent('before.command', this.$editable.html());\n          // keep focus on editable before command execution\n          this.focus();\n      };\n      /**\n       * after command\n       * @param {Boolean} isPreventTrigger\n       */\n      Editor.prototype.afterCommand = function (isPreventTrigger) {\n          this.normalizeContent();\n          this.history.recordUndo();\n          if (!isPreventTrigger) {\n              this.context.triggerEvent('change', this.$editable.html());\n          }\n      };\n      /**\n       * handle tab key\n       */\n      Editor.prototype.tab = function () {\n          var rng = this.createRange();\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.table.tab(rng);\n          }\n          else {\n              if (this.options.tabSize === 0) {\n                  return false;\n              }\n              if (!this.isLimited(this.options.tabSize)) {\n                  this.beforeCommand();\n                  this.typing.insertTab(rng, this.options.tabSize);\n                  this.afterCommand();\n              }\n          }\n      };\n      /**\n       * handle shift+tab key\n       */\n      Editor.prototype.untab = function () {\n          var rng = this.createRange();\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.table.tab(rng, true);\n          }\n          else {\n              if (this.options.tabSize === 0) {\n                  return false;\n              }\n          }\n      };\n      /**\n       * run given function between beforeCommand and afterCommand\n       */\n      Editor.prototype.wrapCommand = function (fn) {\n          return function () {\n              this.beforeCommand();\n              fn.apply(this, arguments);\n              this.afterCommand();\n          };\n      };\n      /**\n       * insert image\n       *\n       * @param {String} src\n       * @param {String|Function} param\n       * @return {Promise}\n       */\n      Editor.prototype.insertImage = function (src, param) {\n          var _this = this;\n          return createImage(src, param).then(function ($image) {\n              _this.beforeCommand();\n              if (typeof param === 'function') {\n                  param($image);\n              }\n              else {\n                  if (typeof param === 'string') {\n                      $image.attr('data-filename', param);\n                  }\n                  $image.css('width', Math.min(_this.$editable.width(), $image.width()));\n              }\n              $image.show();\n              range.create(_this.editable).insertNode($image[0]);\n              range.createFromNodeAfter($image[0]).select();\n              _this.afterCommand();\n          }).fail(function (e) {\n              _this.context.triggerEvent('image.upload.error', e);\n          });\n      };\n      /**\n       * insertImages\n       * @param {File[]} files\n       */\n      Editor.prototype.insertImagesAsDataURL = function (files) {\n          var _this = this;\n          $$1.each(files, function (idx, file) {\n              var filename = file.name;\n              if (_this.options.maximumImageFileSize && _this.options.maximumImageFileSize < file.size) {\n                  _this.context.triggerEvent('image.upload.error', _this.lang.image.maximumFileSizeError);\n              }\n              else {\n                  readFileAsDataURL(file).then(function (dataURL) {\n                      return _this.insertImage(dataURL, filename);\n                  }).fail(function () {\n                      _this.context.triggerEvent('image.upload.error');\n                  });\n              }\n          });\n      };\n      /**\n       * return selected plain text\n       * @return {String} text\n       */\n      Editor.prototype.getSelectedText = function () {\n          var rng = this.createRange();\n          // if range on anchor, expand range with anchor\n          if (rng.isOnAnchor()) {\n              rng = range.createFromNode(dom.ancestor(rng.sc, dom.isAnchor));\n          }\n          return rng.toString();\n      };\n      Editor.prototype.onFormatBlock = function (tagName, $target) {\n          // [workaround] for MSIE, IE need `<`\n          tagName = env.isMSIE ? '<' + tagName + '>' : tagName;\n          document.execCommand('FormatBlock', false, tagName);\n          // support custom class\n          if ($target && $target.length) {\n              var className = $target[0].className || '';\n              if (className) {\n                  var currentRange = this.createRange();\n                  var $parent = $$1([currentRange.sc, currentRange.ec]).closest(tagName);\n                  $parent.addClass(className);\n              }\n          }\n      };\n      Editor.prototype.formatPara = function () {\n          this.formatBlock('P');\n      };\n      Editor.prototype.fontStyling = function (target, value) {\n          var rng = this.createRange();\n          if (rng) {\n              var spans = this.style.styleNodes(rng);\n              $$1(spans).css(target, value);\n              // [workaround] added styled bogus span for style\n              //  - also bogus character needed for cursor position\n              if (rng.isCollapsed()) {\n                  var firstSpan = lists.head(spans);\n                  if (firstSpan && !dom.nodeLength(firstSpan)) {\n                      firstSpan.innerHTML = dom.ZERO_WIDTH_NBSP_CHAR;\n                      range.createFromNodeAfter(firstSpan.firstChild).select();\n                      this.$editable.data(KEY_BOGUS, firstSpan);\n                  }\n              }\n          }\n      };\n      /**\n       * unlink\n       *\n       * @type command\n       */\n      Editor.prototype.unlink = function () {\n          var rng = this.createRange();\n          if (rng.isOnAnchor()) {\n              var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n              rng = range.createFromNode(anchor);\n              rng.select();\n              this.beforeCommand();\n              document.execCommand('unlink');\n              this.afterCommand();\n          }\n      };\n      /**\n       * returns link info\n       *\n       * @return {Object}\n       * @return {WrappedRange} return.range\n       * @return {String} return.text\n       * @return {Boolean} [return.isNewWindow=true]\n       * @return {String} [return.url=\"\"]\n       */\n      Editor.prototype.getLinkInfo = function () {\n          var rng = this.createRange().expand(dom.isAnchor);\n          // Get the first anchor on range(for edit).\n          var $anchor = $$1(lists.head(rng.nodes(dom.isAnchor)));\n          var linkInfo = {\n              range: rng,\n              text: rng.toString(),\n              url: $anchor.length ? $anchor.attr('href') : ''\n          };\n          // When anchor exists,\n          if ($anchor.length) {\n              // Set isNewWindow by checking its target.\n              linkInfo.isNewWindow = $anchor.attr('target') === '_blank';\n          }\n          return linkInfo;\n      };\n      Editor.prototype.addRow = function (position) {\n          var rng = this.createRange(this.$editable);\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.beforeCommand();\n              this.table.addRow(rng, position);\n              this.afterCommand();\n          }\n      };\n      Editor.prototype.addCol = function (position) {\n          var rng = this.createRange(this.$editable);\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.beforeCommand();\n              this.table.addCol(rng, position);\n              this.afterCommand();\n          }\n      };\n      Editor.prototype.deleteRow = function () {\n          var rng = this.createRange(this.$editable);\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.beforeCommand();\n              this.table.deleteRow(rng);\n              this.afterCommand();\n          }\n      };\n      Editor.prototype.deleteCol = function () {\n          var rng = this.createRange(this.$editable);\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.beforeCommand();\n              this.table.deleteCol(rng);\n              this.afterCommand();\n          }\n      };\n      Editor.prototype.deleteTable = function () {\n          var rng = this.createRange(this.$editable);\n          if (rng.isCollapsed() && rng.isOnCell()) {\n              this.beforeCommand();\n              this.table.deleteTable(rng);\n              this.afterCommand();\n          }\n      };\n      /**\n       * @param {Position} pos\n       * @param {jQuery} $target - target element\n       * @param {Boolean} [bKeepRatio] - keep ratio\n       */\n      Editor.prototype.resizeTo = function (pos, $target, bKeepRatio) {\n          var imageSize;\n          if (bKeepRatio) {\n              var newRatio = pos.y / pos.x;\n              var ratio = $target.data('ratio');\n              imageSize = {\n                  width: ratio > newRatio ? pos.x : pos.y / ratio,\n                  height: ratio > newRatio ? pos.x * ratio : pos.y\n              };\n          }\n          else {\n              imageSize = {\n                  width: pos.x,\n                  height: pos.y\n              };\n          }\n          $target.css(imageSize);\n      };\n      /**\n       * returns whether editable area has focus or not.\n       */\n      Editor.prototype.hasFocus = function () {\n          return this.$editable.is(':focus');\n      };\n      /**\n       * set focus\n       */\n      Editor.prototype.focus = function () {\n          // [workaround] Screen will move when page is scolled in IE.\n          //  - do focus when not focused\n          if (!this.hasFocus()) {\n              this.$editable.focus();\n          }\n      };\n      /**\n       * returns whether contents is empty or not.\n       * @return {Boolean}\n       */\n      Editor.prototype.isEmpty = function () {\n          return dom.isEmpty(this.$editable[0]) || dom.emptyPara === this.$editable.html();\n      };\n      /**\n       * Removes all contents and restores the editable instance to an _emptyPara_.\n       */\n      Editor.prototype.empty = function () {\n          this.context.invoke('code', dom.emptyPara);\n      };\n      /**\n       * normalize content\n       */\n      Editor.prototype.normalizeContent = function () {\n          this.$editable[0].normalize();\n      };\n      return Editor;\n  }());\n\n  var Clipboard = /** @class */ (function () {\n      function Clipboard(context) {\n          this.context = context;\n          this.$editable = context.layoutInfo.editable;\n      }\n      Clipboard.prototype.initialize = function () {\n          this.$editable.on('paste', this.pasteByEvent.bind(this));\n      };\n      /**\n       * paste by clipboard event\n       *\n       * @param {Event} event\n       */\n      Clipboard.prototype.pasteByEvent = function (event) {\n          var clipboardData = event.originalEvent.clipboardData;\n          if (clipboardData && clipboardData.items && clipboardData.items.length) {\n              // paste img file\n              var item = clipboardData.items.length > 1 ? clipboardData.items[1] : lists.head(clipboardData.items);\n              if (item.kind === 'file' && item.type.indexOf('image/') !== -1) {\n                  this.context.invoke('editor.insertImagesOrCallback', [item.getAsFile()]);\n              }\n              this.context.invoke('editor.afterCommand');\n          }\n      };\n      return Clipboard;\n  }());\n\n  var Dropzone = /** @class */ (function () {\n      function Dropzone(context) {\n          this.context = context;\n          this.$eventListener = $$1(document);\n          this.$editor = context.layoutInfo.editor;\n          this.$editable = context.layoutInfo.editable;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n          this.documentEventHandlers = {};\n          this.$dropzone = $$1([\n              '<div class=\"note-dropzone\">',\n              '  <div class=\"note-dropzone-message\"/>',\n              '</div>'\n          ].join('')).prependTo(this.$editor);\n      }\n      /**\n       * attach Drag and Drop Events\n       */\n      Dropzone.prototype.initialize = function () {\n          if (this.options.disableDragAndDrop) {\n              // prevent default drop event\n              this.documentEventHandlers.onDrop = function (e) {\n                  e.preventDefault();\n              };\n              // do not consider outside of dropzone\n              this.$eventListener = this.$dropzone;\n              this.$eventListener.on('drop', this.documentEventHandlers.onDrop);\n          }\n          else {\n              this.attachDragAndDropEvent();\n          }\n      };\n      /**\n       * attach Drag and Drop Events\n       */\n      Dropzone.prototype.attachDragAndDropEvent = function () {\n          var _this = this;\n          var collection = $$1();\n          var $dropzoneMessage = this.$dropzone.find('.note-dropzone-message');\n          this.documentEventHandlers.onDragenter = function (e) {\n              var isCodeview = _this.context.invoke('codeview.isActivated');\n              var hasEditorSize = _this.$editor.width() > 0 && _this.$editor.height() > 0;\n              if (!isCodeview && !collection.length && hasEditorSize) {\n                  _this.$editor.addClass('dragover');\n                  _this.$dropzone.width(_this.$editor.width());\n                  _this.$dropzone.height(_this.$editor.height());\n                  $dropzoneMessage.text(_this.lang.image.dragImageHere);\n              }\n              collection = collection.add(e.target);\n          };\n          this.documentEventHandlers.onDragleave = function (e) {\n              collection = collection.not(e.target);\n              if (!collection.length) {\n                  _this.$editor.removeClass('dragover');\n              }\n          };\n          this.documentEventHandlers.onDrop = function () {\n              collection = $$1();\n              _this.$editor.removeClass('dragover');\n          };\n          // show dropzone on dragenter when dragging a object to document\n          // -but only if the editor is visible, i.e. has a positive width and height\n          this.$eventListener.on('dragenter', this.documentEventHandlers.onDragenter)\n              .on('dragleave', this.documentEventHandlers.onDragleave)\n              .on('drop', this.documentEventHandlers.onDrop);\n          // change dropzone's message on hover.\n          this.$dropzone.on('dragenter', function () {\n              _this.$dropzone.addClass('hover');\n              $dropzoneMessage.text(_this.lang.image.dropImage);\n          }).on('dragleave', function () {\n              _this.$dropzone.removeClass('hover');\n              $dropzoneMessage.text(_this.lang.image.dragImageHere);\n          });\n          // attach dropImage\n          this.$dropzone.on('drop', function (event) {\n              var dataTransfer = event.originalEvent.dataTransfer;\n              // stop the browser from opening the dropped content\n              event.preventDefault();\n              if (dataTransfer && dataTransfer.files && dataTransfer.files.length) {\n                  _this.$editable.focus();\n                  _this.context.invoke('editor.insertImagesOrCallback', dataTransfer.files);\n              }\n              else {\n                  $$1.each(dataTransfer.types, function (idx, type) {\n                      var content = dataTransfer.getData(type);\n                      if (type.toLowerCase().indexOf('text') > -1) {\n                          _this.context.invoke('editor.pasteHTML', content);\n                      }\n                      else {\n                          $$1(content).each(function (idx, item) {\n                              _this.context.invoke('editor.insertNode', item);\n                          });\n                      }\n                  });\n              }\n          }).on('dragover', false); // prevent default dragover event\n      };\n      Dropzone.prototype.destroy = function () {\n          var _this = this;\n          Object.keys(this.documentEventHandlers).forEach(function (key) {\n              _this.$eventListener.off(key.substr(2).toLowerCase(), _this.documentEventHandlers[key]);\n          });\n          this.documentEventHandlers = {};\n      };\n      return Dropzone;\n  }());\n\n  var CodeMirror;\n  if (env.hasCodeMirror) {\n      if (env.isSupportAmd) {\n          require(['codemirror'], function (cm) {\n              CodeMirror = cm;\n          });\n      }\n      else {\n          CodeMirror = window.CodeMirror;\n      }\n  }\n  /**\n   * @class Codeview\n   */\n  var CodeView = /** @class */ (function () {\n      function CodeView(context) {\n          this.context = context;\n          this.$editor = context.layoutInfo.editor;\n          this.$editable = context.layoutInfo.editable;\n          this.$codable = context.layoutInfo.codable;\n          this.options = context.options;\n      }\n      CodeView.prototype.sync = function () {\n          var isCodeview = this.isActivated();\n          if (isCodeview && env.hasCodeMirror) {\n              this.$codable.data('cmEditor').save();\n          }\n      };\n      /**\n       * @return {Boolean}\n       */\n      CodeView.prototype.isActivated = function () {\n          return this.$editor.hasClass('codeview');\n      };\n      /**\n       * toggle codeview\n       */\n      CodeView.prototype.toggle = function () {\n          if (this.isActivated()) {\n              this.deactivate();\n          }\n          else {\n              this.activate();\n          }\n          this.context.triggerEvent('codeview.toggled');\n      };\n      /**\n       * activate code view\n       */\n      CodeView.prototype.activate = function () {\n          var _this = this;\n          this.$codable.val(dom.html(this.$editable, this.options.prettifyHtml));\n          this.$codable.height(this.$editable.height());\n          this.context.invoke('toolbar.updateCodeview', true);\n          this.$editor.addClass('codeview');\n          this.$codable.focus();\n          // activate CodeMirror as codable\n          if (env.hasCodeMirror) {\n              var cmEditor_1 = CodeMirror.fromTextArea(this.$codable[0], this.options.codemirror);\n              // CodeMirror TernServer\n              if (this.options.codemirror.tern) {\n                  var server_1 = new CodeMirror.TernServer(this.options.codemirror.tern);\n                  cmEditor_1.ternServer = server_1;\n                  cmEditor_1.on('cursorActivity', function (cm) {\n                      server_1.updateArgHints(cm);\n                  });\n              }\n              cmEditor_1.on('blur', function (event) {\n                  _this.context.triggerEvent('blur.codeview', cmEditor_1.getValue(), event);\n              });\n              // CodeMirror hasn't Padding.\n              cmEditor_1.setSize(null, this.$editable.outerHeight());\n              this.$codable.data('cmEditor', cmEditor_1);\n          }\n          else {\n              this.$codable.on('blur', function (event) {\n                  _this.context.triggerEvent('blur.codeview', _this.$codable.val(), event);\n              });\n          }\n      };\n      /**\n       * deactivate code view\n       */\n      CodeView.prototype.deactivate = function () {\n          // deactivate CodeMirror as codable\n          if (env.hasCodeMirror) {\n              var cmEditor = this.$codable.data('cmEditor');\n              this.$codable.val(cmEditor.getValue());\n              cmEditor.toTextArea();\n          }\n          var value = dom.value(this.$codable, this.options.prettifyHtml) || dom.emptyPara;\n          var isChange = this.$editable.html() !== value;\n          this.$editable.html(value);\n          this.$editable.height(this.options.height ? this.$codable.height() : 'auto');\n          this.$editor.removeClass('codeview');\n          if (isChange) {\n              this.context.triggerEvent('change', this.$editable.html(), this.$editable);\n          }\n          this.$editable.focus();\n          this.context.invoke('toolbar.updateCodeview', false);\n      };\n      CodeView.prototype.destroy = function () {\n          if (this.isActivated()) {\n              this.deactivate();\n          }\n      };\n      return CodeView;\n  }());\n\n  var EDITABLE_PADDING = 24;\n  var Statusbar = /** @class */ (function () {\n      function Statusbar(context) {\n          this.$document = $$1(document);\n          this.$statusbar = context.layoutInfo.statusbar;\n          this.$editable = context.layoutInfo.editable;\n          this.options = context.options;\n      }\n      Statusbar.prototype.initialize = function () {\n          var _this = this;\n          if (this.options.airMode || this.options.disableResizeEditor) {\n              this.destroy();\n              return;\n          }\n          this.$statusbar.on('mousedown', function (event) {\n              event.preventDefault();\n              event.stopPropagation();\n              var editableTop = _this.$editable.offset().top - _this.$document.scrollTop();\n              var onMouseMove = function (event) {\n                  var height = event.clientY - (editableTop + EDITABLE_PADDING);\n                  height = (_this.options.minheight > 0) ? Math.max(height, _this.options.minheight) : height;\n                  height = (_this.options.maxHeight > 0) ? Math.min(height, _this.options.maxHeight) : height;\n                  _this.$editable.height(height);\n              };\n              _this.$document.on('mousemove', onMouseMove).one('mouseup', function () {\n                  _this.$document.off('mousemove', onMouseMove);\n              });\n          });\n      };\n      Statusbar.prototype.destroy = function () {\n          this.$statusbar.off();\n          this.$statusbar.addClass('locked');\n      };\n      return Statusbar;\n  }());\n\n  var Fullscreen = /** @class */ (function () {\n      function Fullscreen(context) {\n          var _this = this;\n          this.context = context;\n          this.$editor = context.layoutInfo.editor;\n          this.$toolbar = context.layoutInfo.toolbar;\n          this.$editable = context.layoutInfo.editable;\n          this.$codable = context.layoutInfo.codable;\n          this.$window = $$1(window);\n          this.$scrollbar = $$1('html, body');\n          this.onResize = function () {\n              _this.resizeTo({\n                  h: _this.$window.height() - _this.$toolbar.outerHeight()\n              });\n          };\n      }\n      Fullscreen.prototype.resizeTo = function (size) {\n          this.$editable.css('height', size.h);\n          this.$codable.css('height', size.h);\n          if (this.$codable.data('cmeditor')) {\n              this.$codable.data('cmeditor').setsize(null, size.h);\n          }\n      };\n      /**\n       * toggle fullscreen\n       */\n      Fullscreen.prototype.toggle = function () {\n          this.$editor.toggleClass('fullscreen');\n          if (this.isFullscreen()) {\n              this.$editable.data('orgHeight', this.$editable.css('height'));\n              this.$editable.data('orgMaxHeight', this.$editable.css('maxHeight'));\n              this.$editable.css('maxHeight', '');\n              this.$window.on('resize', this.onResize).trigger('resize');\n              this.$scrollbar.css('overflow', 'hidden');\n          }\n          else {\n              this.$window.off('resize', this.onResize);\n              this.resizeTo({ h: this.$editable.data('orgHeight') });\n              this.$editable.css('maxHeight', this.$editable.css('orgMaxHeight'));\n              this.$scrollbar.css('overflow', 'visible');\n          }\n          this.context.invoke('toolbar.updateFullscreen', this.isFullscreen());\n      };\n      Fullscreen.prototype.isFullscreen = function () {\n          return this.$editor.hasClass('fullscreen');\n      };\n      return Fullscreen;\n  }());\n\n  var Handle = /** @class */ (function () {\n      function Handle(context) {\n          var _this = this;\n          this.context = context;\n          this.$document = $$1(document);\n          this.$editingArea = context.layoutInfo.editingArea;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n          this.events = {\n              'summernote.mousedown': function (we, e) {\n                  if (_this.update(e.target)) {\n                      e.preventDefault();\n                  }\n              },\n              'summernote.keyup summernote.scroll summernote.change summernote.dialog.shown': function () {\n                  _this.update();\n              },\n              'summernote.disable': function () {\n                  _this.hide();\n              },\n              'summernote.codeview.toggled': function () {\n                  _this.update();\n              }\n          };\n      }\n      Handle.prototype.initialize = function () {\n          var _this = this;\n          this.$handle = $$1([\n              '<div class=\"note-handle\">',\n              '<div class=\"note-control-selection\">',\n              '<div class=\"note-control-selection-bg\"></div>',\n              '<div class=\"note-control-holder note-control-nw\"></div>',\n              '<div class=\"note-control-holder note-control-ne\"></div>',\n              '<div class=\"note-control-holder note-control-sw\"></div>',\n              '<div class=\"',\n              (this.options.disableResizeImage ? 'note-control-holder' : 'note-control-sizing'),\n              ' note-control-se\"></div>',\n              (this.options.disableResizeImage ? '' : '<div class=\"note-control-selection-info\"></div>'),\n              '</div>',\n              '</div>'\n          ].join('')).prependTo(this.$editingArea);\n          this.$handle.on('mousedown', function (event) {\n              if (dom.isControlSizing(event.target)) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  var $target_1 = _this.$handle.find('.note-control-selection').data('target');\n                  var posStart_1 = $target_1.offset();\n                  var scrollTop_1 = _this.$document.scrollTop();\n                  var onMouseMove_1 = function (event) {\n                      _this.context.invoke('editor.resizeTo', {\n                          x: event.clientX - posStart_1.left,\n                          y: event.clientY - (posStart_1.top - scrollTop_1)\n                      }, $target_1, !event.shiftKey);\n                      _this.update($target_1[0]);\n                  };\n                  _this.$document\n                      .on('mousemove', onMouseMove_1)\n                      .one('mouseup', function (e) {\n                      e.preventDefault();\n                      _this.$document.off('mousemove', onMouseMove_1);\n                      _this.context.invoke('editor.afterCommand');\n                  });\n                  if (!$target_1.data('ratio')) { // original ratio.\n                      $target_1.data('ratio', $target_1.height() / $target_1.width());\n                  }\n              }\n          });\n          // Listen for scrolling on the handle overlay.\n          this.$handle.on('wheel', function (e) {\n              e.preventDefault();\n              _this.update();\n          });\n      };\n      Handle.prototype.destroy = function () {\n          this.$handle.remove();\n      };\n      Handle.prototype.update = function (target) {\n          if (this.context.isDisabled()) {\n              return false;\n          }\n          var isImage = dom.isImg(target);\n          var $selection = this.$handle.find('.note-control-selection');\n          this.context.invoke('imagePopover.update', target);\n          if (isImage) {\n              var $image = $$1(target);\n              var position = $image.position();\n              var pos = {\n                  left: position.left + parseInt($image.css('marginLeft'), 10),\n                  top: position.top + parseInt($image.css('marginTop'), 10)\n              };\n              // exclude margin\n              var imageSize = {\n                  w: $image.outerWidth(false),\n                  h: $image.outerHeight(false)\n              };\n              $selection.css({\n                  display: 'block',\n                  left: pos.left,\n                  top: pos.top,\n                  width: imageSize.w,\n                  height: imageSize.h\n              }).data('target', $image); // save current image element.\n              var origImageObj = new Image();\n              origImageObj.src = $image.attr('src');\n              var sizingText = imageSize.w + 'x' + imageSize.h + ' (' + this.lang.image.original + ': ' + origImageObj.width + 'x' + origImageObj.height + ')';\n              $selection.find('.note-control-selection-info').text(sizingText);\n              this.context.invoke('editor.saveTarget', target);\n          }\n          else {\n              this.hide();\n          }\n          return isImage;\n      };\n      /**\n       * hide\n       *\n       * @param {jQuery} $handle\n       */\n      Handle.prototype.hide = function () {\n          this.context.invoke('editor.clearTarget');\n          this.$handle.children().hide();\n      };\n      return Handle;\n  }());\n\n  var defaultScheme = 'http://';\n  var linkPattern = /^([A-Za-z][A-Za-z0-9+-.]*\\:[\\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\\.)?(.+)$/i;\n  var AutoLink = /** @class */ (function () {\n      function AutoLink(context) {\n          var _this = this;\n          this.context = context;\n          this.events = {\n              'summernote.keyup': function (we, e) {\n                  if (!e.isDefaultPrevented()) {\n                      _this.handleKeyup(e);\n                  }\n              },\n              'summernote.keydown': function (we, e) {\n                  _this.handleKeydown(e);\n              }\n          };\n      }\n      AutoLink.prototype.initialize = function () {\n          this.lastWordRange = null;\n      };\n      AutoLink.prototype.destroy = function () {\n          this.lastWordRange = null;\n      };\n      AutoLink.prototype.replace = function () {\n          if (!this.lastWordRange) {\n              return;\n          }\n          var keyword = this.lastWordRange.toString();\n          var match = keyword.match(linkPattern);\n          if (match && (match[1] || match[2])) {\n              var link = match[1] ? keyword : defaultScheme + keyword;\n              var node = $$1('<a />').html(keyword).attr('href', link)[0];\n              if (this.context.options.linkTargetBlank) {\n                  $$1(node).attr('target', '_blank');\n              }\n              this.lastWordRange.insertNode(node);\n              this.lastWordRange = null;\n              this.context.invoke('editor.focus');\n          }\n      };\n      AutoLink.prototype.handleKeydown = function (e) {\n          if (lists.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n              var wordRange = this.context.invoke('editor.createRange').getWordRange();\n              this.lastWordRange = wordRange;\n          }\n      };\n      AutoLink.prototype.handleKeyup = function (e) {\n          if (lists.contains([key.code.ENTER, key.code.SPACE], e.keyCode)) {\n              this.replace();\n          }\n      };\n      return AutoLink;\n  }());\n\n  /**\n   * textarea auto sync.\n   */\n  var AutoSync = /** @class */ (function () {\n      function AutoSync(context) {\n          var _this = this;\n          this.$note = context.layoutInfo.note;\n          this.events = {\n              'summernote.change': function () {\n                  _this.$note.val(context.invoke('code'));\n              }\n          };\n      }\n      AutoSync.prototype.shouldInitialize = function () {\n          return dom.isTextarea(this.$note[0]);\n      };\n      return AutoSync;\n  }());\n\n  var Placeholder = /** @class */ (function () {\n      function Placeholder(context) {\n          var _this = this;\n          this.context = context;\n          this.$editingArea = context.layoutInfo.editingArea;\n          this.options = context.options;\n          this.events = {\n              'summernote.init summernote.change': function () {\n                  _this.update();\n              },\n              'summernote.codeview.toggled': function () {\n                  _this.update();\n              }\n          };\n      }\n      Placeholder.prototype.shouldInitialize = function () {\n          return !!this.options.placeholder;\n      };\n      Placeholder.prototype.initialize = function () {\n          var _this = this;\n          this.$placeholder = $$1('<div class=\"note-placeholder\">');\n          this.$placeholder.on('click', function () {\n              _this.context.invoke('focus');\n          }).html(this.options.placeholder).prependTo(this.$editingArea);\n          this.update();\n      };\n      Placeholder.prototype.destroy = function () {\n          this.$placeholder.remove();\n      };\n      Placeholder.prototype.update = function () {\n          var isShow = !this.context.invoke('codeview.isActivated') && this.context.invoke('editor.isEmpty');\n          this.$placeholder.toggle(isShow);\n      };\n      return Placeholder;\n  }());\n\n  var Buttons = /** @class */ (function () {\n      function Buttons(context) {\n          this.ui = $$1.summernote.ui;\n          this.context = context;\n          this.$toolbar = context.layoutInfo.toolbar;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n          this.invertedKeyMap = func.invertObject(this.options.keyMap[env.isMac ? 'mac' : 'pc']);\n      }\n      Buttons.prototype.representShortcut = function (editorMethod) {\n          var shortcut = this.invertedKeyMap[editorMethod];\n          if (!this.options.shortcuts || !shortcut) {\n              return '';\n          }\n          if (env.isMac) {\n              shortcut = shortcut.replace('CMD', '⌘').replace('SHIFT', '⇧');\n          }\n          shortcut = shortcut.replace('BACKSLASH', '\\\\')\n              .replace('SLASH', '/')\n              .replace('LEFTBRACKET', '[')\n              .replace('RIGHTBRACKET', ']');\n          return ' (' + shortcut + ')';\n      };\n      Buttons.prototype.button = function (o) {\n          if (!this.options.tooltip && o.tooltip) {\n              delete o.tooltip;\n          }\n          o.container = this.options.container;\n          return this.ui.button(o);\n      };\n      Buttons.prototype.initialize = function () {\n          this.addToolbarButtons();\n          this.addImagePopoverButtons();\n          this.addLinkPopoverButtons();\n          this.addTablePopoverButtons();\n          this.fontInstalledMap = {};\n      };\n      Buttons.prototype.destroy = function () {\n          delete this.fontInstalledMap;\n      };\n      Buttons.prototype.isFontInstalled = function (name) {\n          if (!this.fontInstalledMap.hasOwnProperty(name)) {\n              this.fontInstalledMap[name] = env.isFontInstalled(name) ||\n                  lists.contains(this.options.fontNamesIgnoreCheck, name);\n          }\n          return this.fontInstalledMap[name];\n      };\n      Buttons.prototype.isFontDeservedToAdd = function (name) {\n          var genericFamilies = ['sans-serif', 'serif', 'monospace', 'cursive', 'fantasy'];\n          name = name.toLowerCase();\n          return ((name !== '') && this.isFontInstalled(name) && ($$1.inArray(name, genericFamilies) === -1));\n      };\n      Buttons.prototype.colorPalette = function (className, tooltip, backColor, foreColor) {\n          var _this = this;\n          return this.ui.buttonGroup({\n              className: 'note-color ' + className,\n              children: [\n                  this.button({\n                      className: 'note-current-color-button',\n                      contents: this.ui.icon(this.options.icons.font + ' note-recent-color'),\n                      tooltip: tooltip,\n                      click: function (e) {\n                          var $button = $$1(e.currentTarget);\n                          if (backColor && foreColor) {\n                              _this.context.invoke('editor.color', {\n                                  backColor: $button.attr('data-backColor'),\n                                  foreColor: $button.attr('data-foreColor')\n                              });\n                          }\n                          else if (backColor) {\n                              _this.context.invoke('editor.color', {\n                                  backColor: $button.attr('data-backColor')\n                              });\n                          }\n                          else if (foreColor) {\n                              _this.context.invoke('editor.color', {\n                                  foreColor: $button.attr('data-foreColor')\n                              });\n                          }\n                      },\n                      callback: function ($button) {\n                          var $recentColor = $button.find('.note-recent-color');\n                          if (backColor) {\n                              $recentColor.css('background-color', '#FFFF00');\n                              $button.attr('data-backColor', '#FFFF00');\n                          }\n                          if (!foreColor) {\n                              $recentColor.css('color', 'transparent');\n                          }\n                      }\n                  }),\n                  this.button({\n                      className: 'dropdown-toggle',\n                      contents: this.ui.dropdownButtonContents('', this.options),\n                      tooltip: this.lang.color.more,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  this.ui.dropdown({\n                      items: (backColor ? [\n                          '<div class=\"note-palette\">',\n                          '  <div class=\"note-palette-title\">' + this.lang.color.background + '</div>',\n                          '  <div>',\n                          '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"backColor\" data-value=\"inherit\">',\n                          this.lang.color.transparent,\n                          '    </button>',\n                          '  </div>',\n                          '  <div class=\"note-holder\" data-event=\"backColor\"/>',\n                          '  <div>',\n                          '    <button type=\"button\" class=\"note-color-select btn\" data-event=\"openPalette\" data-value=\"backColorPicker\">',\n                          this.lang.color.cpSelect,\n                          '    </button>',\n                          '    <input type=\"color\" id=\"backColorPicker\" class=\"note-btn note-color-select-btn\" value=\"#FFFF00\" data-event=\"backColorPalette\">',\n                          '  </div>',\n                          '  <div class=\"note-holder-custom\" id=\"backColorPalette\" data-event=\"backColor\"/>',\n                          '</div>'\n                      ].join('') : '') +\n                          (foreColor ? [\n                              '<div class=\"note-palette\">',\n                              '  <div class=\"note-palette-title\">' + this.lang.color.foreground + '</div>',\n                              '  <div>',\n                              '    <button type=\"button\" class=\"note-color-reset btn btn-light\" data-event=\"removeFormat\" data-value=\"foreColor\">',\n                              this.lang.color.resetToDefault,\n                              '    </button>',\n                              '  </div>',\n                              '  <div class=\"note-holder\" data-event=\"foreColor\"/>',\n                              '  <div>',\n                              '    <button type=\"button\" class=\"note-color-select btn\" data-event=\"openPalette\" data-value=\"foreColorPicker\">',\n                              this.lang.color.cpSelect,\n                              '    </button>',\n                              '    <input type=\"color\" id=\"foreColorPicker\" class=\"note-btn note-color-select-btn\" value=\"#000000\" data-event=\"foreColorPalette\">',\n                              '  <div class=\"note-holder-custom\" id=\"foreColorPalette\" data-event=\"foreColor\"/>',\n                              '</div>'\n                          ].join('') : ''),\n                      callback: function ($dropdown) {\n                          $dropdown.find('.note-holder').each(function (idx, item) {\n                              var $holder = $$1(item);\n                              $holder.append(_this.ui.palette({\n                                  colors: _this.options.colors,\n                                  colorsName: _this.options.colorsName,\n                                  eventName: $holder.data('event'),\n                                  container: _this.options.container,\n                                  tooltip: _this.options.tooltip\n                              }).render());\n                          });\n                          /* TODO: do we have to record recent custom colors within cookies? */\n                          var customColors = [\n                              ['#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF', '#FFFFFF']\n                          ];\n                          $dropdown.find('.note-holder-custom').each(function (idx, item) {\n                              var $holder = $$1(item);\n                              $holder.append(_this.ui.palette({\n                                  colors: customColors,\n                                  colorsName: customColors,\n                                  eventName: $holder.data('event'),\n                                  container: _this.options.container,\n                                  tooltip: _this.options.tooltip\n                              }).render());\n                          });\n                          $dropdown.find('input[type=color]').each(function (idx, item) {\n                              $$1(item).change(function () {\n                                  var $chip = $dropdown.find('#' + $$1(this).data('event')).find('.note-color-btn').first();\n                                  var color = this.value.toUpperCase();\n                                  $chip.css('background-color', color)\n                                      .attr('aria-label', color)\n                                      .attr('data-value', color)\n                                      .attr('data-original-title', color);\n                                  $chip.click();\n                              });\n                          });\n                      },\n                      click: function (event) {\n                          event.stopPropagation();\n                          var $parent = $$1('.' + className);\n                          var $button = $$1(event.target);\n                          var eventName = $button.data('event');\n                          var value = $button.attr('data-value');\n                          if (eventName === 'openPalette') {\n                              var $picker = $parent.find('#' + value);\n                              var $palette = $$1($parent.find('#' + $picker.data('event')).find('.note-color-row')[0]);\n                              // Shift palette chips\n                              var $chip = $palette.find('.note-color-btn').last().detach();\n                              // Set chip attributes\n                              var color = $picker.val();\n                              $chip.css('background-color', color)\n                                  .attr('aria-label', color)\n                                  .attr('data-value', color)\n                                  .attr('data-original-title', color);\n                              $palette.prepend($chip);\n                              $picker.click();\n                          }\n                          else if (lists.contains(['backColor', 'foreColor'], eventName)) {\n                              var key = eventName === 'backColor' ? 'background-color' : 'color';\n                              var $color = $button.closest('.note-color').find('.note-recent-color');\n                              var $currentButton = $button.closest('.note-color').find('.note-current-color-button');\n                              $color.css(key, value);\n                              $currentButton.attr('data-' + eventName, value);\n                              _this.context.invoke('editor.' + eventName, value);\n                          }\n                      }\n                  })\n              ]\n          }).render();\n      };\n      Buttons.prototype.addToolbarButtons = function () {\n          var _this = this;\n          this.context.memo('button.style', function () {\n              return _this.ui.buttonGroup([\n                  _this.button({\n                      className: 'dropdown-toggle',\n                      contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.magic), _this.options),\n                      tooltip: _this.lang.style.style,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  _this.ui.dropdown({\n                      className: 'dropdown-style',\n                      items: _this.options.styleTags,\n                      title: _this.lang.style.style,\n                      template: function (item) {\n                          if (typeof item === 'string') {\n                              item = { tag: item, title: (_this.lang.style.hasOwnProperty(item) ? _this.lang.style[item] : item) };\n                          }\n                          var tag = item.tag;\n                          var title = item.title;\n                          var style = item.style ? ' style=\"' + item.style + '\" ' : '';\n                          var className = item.className ? ' class=\"' + item.className + '\"' : '';\n                          return '<' + tag + style + className + '>' + title + '</' + tag + '>';\n                      },\n                      click: _this.context.createInvokeHandler('editor.formatBlock')\n                  })\n              ]).render();\n          });\n          var _loop_1 = function (styleIdx, styleLen) {\n              var item = this_1.options.styleTags[styleIdx];\n              this_1.context.memo('button.style.' + item, function () {\n                  return _this.button({\n                      className: 'note-btn-style-' + item,\n                      contents: '<div data-value=\"' + item + '\">' + item.toUpperCase() + '</div>',\n                      tooltip: _this.lang.style[item],\n                      click: _this.context.createInvokeHandler('editor.formatBlock')\n                  }).render();\n              });\n          };\n          var this_1 = this;\n          for (var styleIdx = 0, styleLen = this.options.styleTags.length; styleIdx < styleLen; styleIdx++) {\n              _loop_1(styleIdx, styleLen);\n          }\n          this.context.memo('button.bold', function () {\n              return _this.button({\n                  className: 'note-btn-bold',\n                  contents: _this.ui.icon(_this.options.icons.bold),\n                  tooltip: _this.lang.font.bold + _this.representShortcut('bold'),\n                  click: _this.context.createInvokeHandlerAndUpdateState('editor.bold')\n              }).render();\n          });\n          this.context.memo('button.italic', function () {\n              return _this.button({\n                  className: 'note-btn-italic',\n                  contents: _this.ui.icon(_this.options.icons.italic),\n                  tooltip: _this.lang.font.italic + _this.representShortcut('italic'),\n                  click: _this.context.createInvokeHandlerAndUpdateState('editor.italic')\n              }).render();\n          });\n          this.context.memo('button.underline', function () {\n              return _this.button({\n                  className: 'note-btn-underline',\n                  contents: _this.ui.icon(_this.options.icons.underline),\n                  tooltip: _this.lang.font.underline + _this.representShortcut('underline'),\n                  click: _this.context.createInvokeHandlerAndUpdateState('editor.underline')\n              }).render();\n          });\n          this.context.memo('button.clear', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.eraser),\n                  tooltip: _this.lang.font.clear + _this.representShortcut('removeFormat'),\n                  click: _this.context.createInvokeHandler('editor.removeFormat')\n              }).render();\n          });\n          this.context.memo('button.strikethrough', function () {\n              return _this.button({\n                  className: 'note-btn-strikethrough',\n                  contents: _this.ui.icon(_this.options.icons.strikethrough),\n                  tooltip: _this.lang.font.strikethrough + _this.representShortcut('strikethrough'),\n                  click: _this.context.createInvokeHandlerAndUpdateState('editor.strikethrough')\n              }).render();\n          });\n          this.context.memo('button.superscript', function () {\n              return _this.button({\n                  className: 'note-btn-superscript',\n                  contents: _this.ui.icon(_this.options.icons.superscript),\n                  tooltip: _this.lang.font.superscript,\n                  click: _this.context.createInvokeHandlerAndUpdateState('editor.superscript')\n              }).render();\n          });\n          this.context.memo('button.subscript', function () {\n              return _this.button({\n                  className: 'note-btn-subscript',\n                  contents: _this.ui.icon(_this.options.icons.subscript),\n                  tooltip: _this.lang.font.subscript,\n                  click: _this.context.createInvokeHandlerAndUpdateState('editor.subscript')\n              }).render();\n          });\n          this.context.memo('button.fontname', function () {\n              var styleInfo = _this.context.invoke('editor.currentStyle');\n              // Add 'default' fonts into the fontnames array if not exist\n              $$1.each(styleInfo['font-family'].split(','), function (idx, fontname) {\n                  fontname = fontname.trim().replace(/['\"]+/g, '');\n                  if (_this.isFontDeservedToAdd(fontname)) {\n                      if ($$1.inArray(fontname, _this.options.fontNames) === -1) {\n                          _this.options.fontNames.push(fontname);\n                      }\n                  }\n              });\n              return _this.ui.buttonGroup([\n                  _this.button({\n                      className: 'dropdown-toggle',\n                      contents: _this.ui.dropdownButtonContents('<span class=\"note-current-fontname\"/>', _this.options),\n                      tooltip: _this.lang.font.name,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  _this.ui.dropdownCheck({\n                      className: 'dropdown-fontname',\n                      checkClassName: _this.options.icons.menuCheck,\n                      items: _this.options.fontNames.filter(_this.isFontInstalled.bind(_this)),\n                      title: _this.lang.font.name,\n                      template: function (item) {\n                          return '<span style=\"font-family: \\'' + item + '\\'\">' + item + '</span>';\n                      },\n                      click: _this.context.createInvokeHandlerAndUpdateState('editor.fontName')\n                  })\n              ]).render();\n          });\n          this.context.memo('button.fontsize', function () {\n              return _this.ui.buttonGroup([\n                  _this.button({\n                      className: 'dropdown-toggle',\n                      contents: _this.ui.dropdownButtonContents('<span class=\"note-current-fontsize\"/>', _this.options),\n                      tooltip: _this.lang.font.size,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  _this.ui.dropdownCheck({\n                      className: 'dropdown-fontsize',\n                      checkClassName: _this.options.icons.menuCheck,\n                      items: _this.options.fontSizes,\n                      title: _this.lang.font.size,\n                      click: _this.context.createInvokeHandlerAndUpdateState('editor.fontSize')\n                  })\n              ]).render();\n          });\n          this.context.memo('button.color', function () {\n              return _this.colorPalette('note-color-all', _this.lang.color.recent, true, true);\n          });\n          this.context.memo('button.forecolor', function () {\n              return _this.colorPalette('note-color-fore', _this.lang.color.foreground, false, true);\n          });\n          this.context.memo('button.backcolor', function () {\n              return _this.colorPalette('note-color-back', _this.lang.color.background, true, false);\n          });\n          this.context.memo('button.ul', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.unorderedlist),\n                  tooltip: _this.lang.lists.unordered + _this.representShortcut('insertUnorderedList'),\n                  click: _this.context.createInvokeHandler('editor.insertUnorderedList')\n              }).render();\n          });\n          this.context.memo('button.ol', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.orderedlist),\n                  tooltip: _this.lang.lists.ordered + _this.representShortcut('insertOrderedList'),\n                  click: _this.context.createInvokeHandler('editor.insertOrderedList')\n              }).render();\n          });\n          var justifyLeft = this.button({\n              contents: this.ui.icon(this.options.icons.alignLeft),\n              tooltip: this.lang.paragraph.left + this.representShortcut('justifyLeft'),\n              click: this.context.createInvokeHandler('editor.justifyLeft')\n          });\n          var justifyCenter = this.button({\n              contents: this.ui.icon(this.options.icons.alignCenter),\n              tooltip: this.lang.paragraph.center + this.representShortcut('justifyCenter'),\n              click: this.context.createInvokeHandler('editor.justifyCenter')\n          });\n          var justifyRight = this.button({\n              contents: this.ui.icon(this.options.icons.alignRight),\n              tooltip: this.lang.paragraph.right + this.representShortcut('justifyRight'),\n              click: this.context.createInvokeHandler('editor.justifyRight')\n          });\n          var justifyFull = this.button({\n              contents: this.ui.icon(this.options.icons.alignJustify),\n              tooltip: this.lang.paragraph.justify + this.representShortcut('justifyFull'),\n              click: this.context.createInvokeHandler('editor.justifyFull')\n          });\n          var outdent = this.button({\n              contents: this.ui.icon(this.options.icons.outdent),\n              tooltip: this.lang.paragraph.outdent + this.representShortcut('outdent'),\n              click: this.context.createInvokeHandler('editor.outdent')\n          });\n          var indent = this.button({\n              contents: this.ui.icon(this.options.icons.indent),\n              tooltip: this.lang.paragraph.indent + this.representShortcut('indent'),\n              click: this.context.createInvokeHandler('editor.indent')\n          });\n          this.context.memo('button.justifyLeft', func.invoke(justifyLeft, 'render'));\n          this.context.memo('button.justifyCenter', func.invoke(justifyCenter, 'render'));\n          this.context.memo('button.justifyRight', func.invoke(justifyRight, 'render'));\n          this.context.memo('button.justifyFull', func.invoke(justifyFull, 'render'));\n          this.context.memo('button.outdent', func.invoke(outdent, 'render'));\n          this.context.memo('button.indent', func.invoke(indent, 'render'));\n          this.context.memo('button.paragraph', function () {\n              return _this.ui.buttonGroup([\n                  _this.button({\n                      className: 'dropdown-toggle',\n                      contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.alignLeft), _this.options),\n                      tooltip: _this.lang.paragraph.paragraph,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  _this.ui.dropdown([\n                      _this.ui.buttonGroup({\n                          className: 'note-align',\n                          children: [justifyLeft, justifyCenter, justifyRight, justifyFull]\n                      }),\n                      _this.ui.buttonGroup({\n                          className: 'note-list',\n                          children: [outdent, indent]\n                      })\n                  ])\n              ]).render();\n          });\n          this.context.memo('button.height', function () {\n              return _this.ui.buttonGroup([\n                  _this.button({\n                      className: 'dropdown-toggle',\n                      contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.textHeight), _this.options),\n                      tooltip: _this.lang.font.height,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  _this.ui.dropdownCheck({\n                      items: _this.options.lineHeights,\n                      checkClassName: _this.options.icons.menuCheck,\n                      className: 'dropdown-line-height',\n                      title: _this.lang.font.height,\n                      click: _this.context.createInvokeHandler('editor.lineHeight')\n                  })\n              ]).render();\n          });\n          this.context.memo('button.table', function () {\n              return _this.ui.buttonGroup([\n                  _this.button({\n                      className: 'dropdown-toggle',\n                      contents: _this.ui.dropdownButtonContents(_this.ui.icon(_this.options.icons.table), _this.options),\n                      tooltip: _this.lang.table.table,\n                      data: {\n                          toggle: 'dropdown'\n                      }\n                  }),\n                  _this.ui.dropdown({\n                      title: _this.lang.table.table,\n                      className: 'note-table',\n                      items: [\n                          '<div class=\"note-dimension-picker\">',\n                          '  <div class=\"note-dimension-picker-mousecatcher\" data-event=\"insertTable\" data-value=\"1x1\"/>',\n                          '  <div class=\"note-dimension-picker-highlighted\"/>',\n                          '  <div class=\"note-dimension-picker-unhighlighted\"/>',\n                          '</div>',\n                          '<div class=\"note-dimension-display\">1 x 1</div>'\n                      ].join('')\n                  })\n              ], {\n                  callback: function ($node) {\n                      var $catcher = $node.find('.note-dimension-picker-mousecatcher');\n                      $catcher.css({\n                          width: _this.options.insertTableMaxSize.col + 'em',\n                          height: _this.options.insertTableMaxSize.row + 'em'\n                      }).mousedown(_this.context.createInvokeHandler('editor.insertTable'))\n                          .on('mousemove', _this.tableMoveHandler.bind(_this));\n                  }\n              }).render();\n          });\n          this.context.memo('button.link', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.link),\n                  tooltip: _this.lang.link.link + _this.representShortcut('linkDialog.show'),\n                  click: _this.context.createInvokeHandler('linkDialog.show')\n              }).render();\n          });\n          this.context.memo('button.picture', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.picture),\n                  tooltip: _this.lang.image.image,\n                  click: _this.context.createInvokeHandler('imageDialog.show')\n              }).render();\n          });\n          this.context.memo('button.video', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.video),\n                  tooltip: _this.lang.video.video,\n                  click: _this.context.createInvokeHandler('videoDialog.show')\n              }).render();\n          });\n          this.context.memo('button.hr', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.minus),\n                  tooltip: _this.lang.hr.insert + _this.representShortcut('insertHorizontalRule'),\n                  click: _this.context.createInvokeHandler('editor.insertHorizontalRule')\n              }).render();\n          });\n          this.context.memo('button.fullscreen', function () {\n              return _this.button({\n                  className: 'btn-fullscreen',\n                  contents: _this.ui.icon(_this.options.icons.arrowsAlt),\n                  tooltip: _this.lang.options.fullscreen,\n                  click: _this.context.createInvokeHandler('fullscreen.toggle')\n              }).render();\n          });\n          this.context.memo('button.codeview', function () {\n              return _this.button({\n                  className: 'btn-codeview',\n                  contents: _this.ui.icon(_this.options.icons.code),\n                  tooltip: _this.lang.options.codeview,\n                  click: _this.context.createInvokeHandler('codeview.toggle')\n              }).render();\n          });\n          this.context.memo('button.redo', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.redo),\n                  tooltip: _this.lang.history.redo + _this.representShortcut('redo'),\n                  click: _this.context.createInvokeHandler('editor.redo')\n              }).render();\n          });\n          this.context.memo('button.undo', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.undo),\n                  tooltip: _this.lang.history.undo + _this.representShortcut('undo'),\n                  click: _this.context.createInvokeHandler('editor.undo')\n              }).render();\n          });\n          this.context.memo('button.help', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.question),\n                  tooltip: _this.lang.options.help,\n                  click: _this.context.createInvokeHandler('helpDialog.show')\n              }).render();\n          });\n      };\n      /**\n       * image : [\n       *   ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\n       *   ['float', ['floatLeft', 'floatRight', 'floatNone' ]],\n       *   ['remove', ['removeMedia']]\n       * ],\n       */\n      Buttons.prototype.addImagePopoverButtons = function () {\n          var _this = this;\n          // Image Size Buttons\n          this.context.memo('button.imageSize100', function () {\n              return _this.button({\n                  contents: '<span class=\"note-fontsize-10\">100%</span>',\n                  tooltip: _this.lang.image.resizeFull,\n                  click: _this.context.createInvokeHandler('editor.resize', '1')\n              }).render();\n          });\n          this.context.memo('button.imageSize50', function () {\n              return _this.button({\n                  contents: '<span class=\"note-fontsize-10\">50%</span>',\n                  tooltip: _this.lang.image.resizeHalf,\n                  click: _this.context.createInvokeHandler('editor.resize', '0.5')\n              }).render();\n          });\n          this.context.memo('button.imageSize25', function () {\n              return _this.button({\n                  contents: '<span class=\"note-fontsize-10\">25%</span>',\n                  tooltip: _this.lang.image.resizeQuarter,\n                  click: _this.context.createInvokeHandler('editor.resize', '0.25')\n              }).render();\n          });\n          // Float Buttons\n          this.context.memo('button.floatLeft', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.alignLeft),\n                  tooltip: _this.lang.image.floatLeft,\n                  click: _this.context.createInvokeHandler('editor.floatMe', 'left')\n              }).render();\n          });\n          this.context.memo('button.floatRight', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.alignRight),\n                  tooltip: _this.lang.image.floatRight,\n                  click: _this.context.createInvokeHandler('editor.floatMe', 'right')\n              }).render();\n          });\n          this.context.memo('button.floatNone', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.alignJustify),\n                  tooltip: _this.lang.image.floatNone,\n                  click: _this.context.createInvokeHandler('editor.floatMe', 'none')\n              }).render();\n          });\n          // Remove Buttons\n          this.context.memo('button.removeMedia', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.trash),\n                  tooltip: _this.lang.image.remove,\n                  click: _this.context.createInvokeHandler('editor.removeMedia')\n              }).render();\n          });\n      };\n      Buttons.prototype.addLinkPopoverButtons = function () {\n          var _this = this;\n          this.context.memo('button.linkDialogShow', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.link),\n                  tooltip: _this.lang.link.edit,\n                  click: _this.context.createInvokeHandler('linkDialog.show')\n              }).render();\n          });\n          this.context.memo('button.unlink', function () {\n              return _this.button({\n                  contents: _this.ui.icon(_this.options.icons.unlink),\n                  tooltip: _this.lang.link.unlink,\n                  click: _this.context.createInvokeHandler('editor.unlink')\n              }).render();\n          });\n      };\n      /**\n       * table : [\n       *  ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\n       *  ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]\n       * ],\n       */\n      Buttons.prototype.addTablePopoverButtons = function () {\n          var _this = this;\n          this.context.memo('button.addRowUp', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.rowAbove),\n                  tooltip: _this.lang.table.addRowAbove,\n                  click: _this.context.createInvokeHandler('editor.addRow', 'top')\n              }).render();\n          });\n          this.context.memo('button.addRowDown', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.rowBelow),\n                  tooltip: _this.lang.table.addRowBelow,\n                  click: _this.context.createInvokeHandler('editor.addRow', 'bottom')\n              }).render();\n          });\n          this.context.memo('button.addColLeft', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.colBefore),\n                  tooltip: _this.lang.table.addColLeft,\n                  click: _this.context.createInvokeHandler('editor.addCol', 'left')\n              }).render();\n          });\n          this.context.memo('button.addColRight', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.colAfter),\n                  tooltip: _this.lang.table.addColRight,\n                  click: _this.context.createInvokeHandler('editor.addCol', 'right')\n              }).render();\n          });\n          this.context.memo('button.deleteRow', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.rowRemove),\n                  tooltip: _this.lang.table.delRow,\n                  click: _this.context.createInvokeHandler('editor.deleteRow')\n              }).render();\n          });\n          this.context.memo('button.deleteCol', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.colRemove),\n                  tooltip: _this.lang.table.delCol,\n                  click: _this.context.createInvokeHandler('editor.deleteCol')\n              }).render();\n          });\n          this.context.memo('button.deleteTable', function () {\n              return _this.button({\n                  className: 'btn-md',\n                  contents: _this.ui.icon(_this.options.icons.trash),\n                  tooltip: _this.lang.table.delTable,\n                  click: _this.context.createInvokeHandler('editor.deleteTable')\n              }).render();\n          });\n      };\n      Buttons.prototype.build = function ($container, groups) {\n          for (var groupIdx = 0, groupLen = groups.length; groupIdx < groupLen; groupIdx++) {\n              var group = groups[groupIdx];\n              var groupName = $$1.isArray(group) ? group[0] : group;\n              var buttons = $$1.isArray(group) ? ((group.length === 1) ? [group[0]] : group[1]) : [group];\n              var $group = this.ui.buttonGroup({\n                  className: 'note-' + groupName\n              }).render();\n              for (var idx = 0, len = buttons.length; idx < len; idx++) {\n                  var btn = this.context.memo('button.' + buttons[idx]);\n                  if (btn) {\n                      $group.append(typeof btn === 'function' ? btn(this.context) : btn);\n                  }\n              }\n              $group.appendTo($container);\n          }\n      };\n      /**\n       * @param {jQuery} [$container]\n       */\n      Buttons.prototype.updateCurrentStyle = function ($container) {\n          var _this = this;\n          var $cont = $container || this.$toolbar;\n          var styleInfo = this.context.invoke('editor.currentStyle');\n          this.updateBtnStates($cont, {\n              '.note-btn-bold': function () {\n                  return styleInfo['font-bold'] === 'bold';\n              },\n              '.note-btn-italic': function () {\n                  return styleInfo['font-italic'] === 'italic';\n              },\n              '.note-btn-underline': function () {\n                  return styleInfo['font-underline'] === 'underline';\n              },\n              '.note-btn-subscript': function () {\n                  return styleInfo['font-subscript'] === 'subscript';\n              },\n              '.note-btn-superscript': function () {\n                  return styleInfo['font-superscript'] === 'superscript';\n              },\n              '.note-btn-strikethrough': function () {\n                  return styleInfo['font-strikethrough'] === 'strikethrough';\n              }\n          });\n          if (styleInfo['font-family']) {\n              var fontNames = styleInfo['font-family'].split(',').map(function (name) {\n                  return name.replace(/[\\'\\\"]/g, '')\n                      .replace(/\\s+$/, '')\n                      .replace(/^\\s+/, '');\n              });\n              var fontName_1 = lists.find(fontNames, this.isFontInstalled.bind(this));\n              $cont.find('.dropdown-fontname a').each(function (idx, item) {\n                  var $item = $$1(item);\n                  // always compare string to avoid creating another func.\n                  var isChecked = ($item.data('value') + '') === (fontName_1 + '');\n                  $item.toggleClass('checked', isChecked);\n              });\n              $cont.find('.note-current-fontname').text(fontName_1).css('font-family', fontName_1);\n          }\n          if (styleInfo['font-size']) {\n              var fontSize_1 = styleInfo['font-size'];\n              $cont.find('.dropdown-fontsize a').each(function (idx, item) {\n                  var $item = $$1(item);\n                  // always compare with string to avoid creating another func.\n                  var isChecked = ($item.data('value') + '') === (fontSize_1 + '');\n                  $item.toggleClass('checked', isChecked);\n              });\n              $cont.find('.note-current-fontsize').text(fontSize_1);\n          }\n          if (styleInfo['line-height']) {\n              var lineHeight_1 = styleInfo['line-height'];\n              $cont.find('.dropdown-line-height li a').each(function (idx, item) {\n                  // always compare with string to avoid creating another func.\n                  var isChecked = ($$1(item).data('value') + '') === (lineHeight_1 + '');\n                  _this.className = isChecked ? 'checked' : '';\n              });\n          }\n      };\n      Buttons.prototype.updateBtnStates = function ($container, infos) {\n          var _this = this;\n          $$1.each(infos, function (selector, pred) {\n              _this.ui.toggleBtnActive($container.find(selector), pred());\n          });\n      };\n      Buttons.prototype.tableMoveHandler = function (event) {\n          var PX_PER_EM = 18;\n          var $picker = $$1(event.target.parentNode); // target is mousecatcher\n          var $dimensionDisplay = $picker.next();\n          var $catcher = $picker.find('.note-dimension-picker-mousecatcher');\n          var $highlighted = $picker.find('.note-dimension-picker-highlighted');\n          var $unhighlighted = $picker.find('.note-dimension-picker-unhighlighted');\n          var posOffset;\n          // HTML5 with jQuery - e.offsetX is undefined in Firefox\n          if (event.offsetX === undefined) {\n              var posCatcher = $$1(event.target).offset();\n              posOffset = {\n                  x: event.pageX - posCatcher.left,\n                  y: event.pageY - posCatcher.top\n              };\n          }\n          else {\n              posOffset = {\n                  x: event.offsetX,\n                  y: event.offsetY\n              };\n          }\n          var dim = {\n              c: Math.ceil(posOffset.x / PX_PER_EM) || 1,\n              r: Math.ceil(posOffset.y / PX_PER_EM) || 1\n          };\n          $highlighted.css({ width: dim.c + 'em', height: dim.r + 'em' });\n          $catcher.data('value', dim.c + 'x' + dim.r);\n          if (dim.c > 3 && dim.c < this.options.insertTableMaxSize.col) {\n              $unhighlighted.css({ width: dim.c + 1 + 'em' });\n          }\n          if (dim.r > 3 && dim.r < this.options.insertTableMaxSize.row) {\n              $unhighlighted.css({ height: dim.r + 1 + 'em' });\n          }\n          $dimensionDisplay.html(dim.c + ' x ' + dim.r);\n      };\n      return Buttons;\n  }());\n\n  var Toolbar = /** @class */ (function () {\n      function Toolbar(context) {\n          this.context = context;\n          this.$window = $$1(window);\n          this.$document = $$1(document);\n          this.ui = $$1.summernote.ui;\n          this.$note = context.layoutInfo.note;\n          this.$editor = context.layoutInfo.editor;\n          this.$toolbar = context.layoutInfo.toolbar;\n          this.options = context.options;\n          this.followScroll = this.followScroll.bind(this);\n      }\n      Toolbar.prototype.shouldInitialize = function () {\n          return !this.options.airMode;\n      };\n      Toolbar.prototype.initialize = function () {\n          var _this = this;\n          this.options.toolbar = this.options.toolbar || [];\n          if (!this.options.toolbar.length) {\n              this.$toolbar.hide();\n          }\n          else {\n              this.context.invoke('buttons.build', this.$toolbar, this.options.toolbar);\n          }\n          if (this.options.toolbarContainer) {\n              this.$toolbar.appendTo(this.options.toolbarContainer);\n          }\n          this.changeContainer(false);\n          this.$note.on('summernote.keyup summernote.mouseup summernote.change', function () {\n              _this.context.invoke('buttons.updateCurrentStyle');\n          });\n          this.context.invoke('buttons.updateCurrentStyle');\n          if (this.options.followingToolbar) {\n              this.$window.on('scroll resize', this.followScroll);\n          }\n      };\n      Toolbar.prototype.destroy = function () {\n          this.$toolbar.children().remove();\n          if (this.options.followingToolbar) {\n              this.$window.off('scroll resize', this.followScroll);\n          }\n      };\n      Toolbar.prototype.followScroll = function () {\n          if (this.$editor.hasClass('fullscreen')) {\n              return false;\n          }\n          var $toolbarWrapper = this.$toolbar.parent('.note-toolbar-wrapper');\n          var editorHeight = this.$editor.outerHeight();\n          var editorWidth = this.$editor.width();\n          var toolbarHeight = this.$toolbar.height();\n          $toolbarWrapper.css({\n              height: toolbarHeight\n          });\n          // check if the web app is currently using another static bar\n          var otherBarHeight = 0;\n          if (this.options.otherStaticBar) {\n              otherBarHeight = $$1(this.options.otherStaticBar).outerHeight();\n          }\n          var currentOffset = this.$document.scrollTop();\n          var editorOffsetTop = this.$editor.offset().top;\n          var editorOffsetBottom = editorOffsetTop + editorHeight;\n          var activateOffset = editorOffsetTop - otherBarHeight;\n          var deactivateOffsetBottom = editorOffsetBottom - otherBarHeight - toolbarHeight;\n          if ((currentOffset > activateOffset) && (currentOffset < deactivateOffsetBottom)) {\n              this.$toolbar.css({\n                  position: 'fixed',\n                  top: otherBarHeight,\n                  width: editorWidth\n              });\n          }\n          else {\n              this.$toolbar.css({\n                  position: 'relative',\n                  top: 0,\n                  width: '100%'\n              });\n          }\n      };\n      Toolbar.prototype.changeContainer = function (isFullscreen) {\n          if (isFullscreen) {\n              this.$toolbar.prependTo(this.$editor);\n          }\n          else {\n              if (this.options.toolbarContainer) {\n                  this.$toolbar.appendTo(this.options.toolbarContainer);\n              }\n          }\n      };\n      Toolbar.prototype.updateFullscreen = function (isFullscreen) {\n          this.ui.toggleBtnActive(this.$toolbar.find('.btn-fullscreen'), isFullscreen);\n          this.changeContainer(isFullscreen);\n      };\n      Toolbar.prototype.updateCodeview = function (isCodeview) {\n          this.ui.toggleBtnActive(this.$toolbar.find('.btn-codeview'), isCodeview);\n          if (isCodeview) {\n              this.deactivate();\n          }\n          else {\n              this.activate();\n          }\n      };\n      Toolbar.prototype.activate = function (isIncludeCodeview) {\n          var $btn = this.$toolbar.find('button');\n          if (!isIncludeCodeview) {\n              $btn = $btn.not('.btn-codeview');\n          }\n          this.ui.toggleBtn($btn, true);\n      };\n      Toolbar.prototype.deactivate = function (isIncludeCodeview) {\n          var $btn = this.$toolbar.find('button');\n          if (!isIncludeCodeview) {\n              $btn = $btn.not('.btn-codeview');\n          }\n          this.ui.toggleBtn($btn, false);\n      };\n      return Toolbar;\n  }());\n\n  var LinkDialog = /** @class */ (function () {\n      function LinkDialog(context) {\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.$body = $$1(document.body);\n          this.$editor = context.layoutInfo.editor;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n          context.memo('help.linkDialog.show', this.options.langInfo.help['linkDialog.show']);\n      }\n      LinkDialog.prototype.initialize = function () {\n          var $container = this.options.dialogsInBody ? this.$body : this.$editor;\n          var body = [\n              '<div class=\"form-group note-form-group\">',\n              \"<label class=\\\"note-form-label\\\">\" + this.lang.link.textToDisplay + \"</label>\",\n              '<input class=\"note-link-text form-control note-form-control note-input\" type=\"text\" />',\n              '</div>',\n              '<div class=\"form-group note-form-group\">',\n              \"<label class=\\\"note-form-label\\\">\" + this.lang.link.url + \"</label>\",\n              '<input class=\"note-link-url form-control note-form-control note-input\" type=\"text\" value=\"http://\" />',\n              '</div>',\n              !this.options.disableLinkTarget\n                  ? $$1('<div/>').append(this.ui.checkbox({\n                      className: 'sn-checkbox-open-in-new-window',\n                      text: this.lang.link.openInNewWindow,\n                      checked: true\n                  }).render()).html()\n                  : ''\n          ].join('');\n          var buttonClass = 'btn btn-primary note-btn note-btn-primary note-link-btn';\n          var footer = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\" + buttonClass + \"\\\" value=\\\"\" + this.lang.link.insert + \"\\\" disabled>\";\n          this.$dialog = this.ui.dialog({\n              className: 'link-dialog',\n              title: this.lang.link.insert,\n              fade: this.options.dialogsFade,\n              body: body,\n              footer: footer\n          }).render().appendTo($container);\n      };\n      LinkDialog.prototype.destroy = function () {\n          this.ui.hideDialog(this.$dialog);\n          this.$dialog.remove();\n      };\n      LinkDialog.prototype.bindEnterKey = function ($input, $btn) {\n          $input.on('keypress', function (event) {\n              if (event.keyCode === key.code.ENTER) {\n                  event.preventDefault();\n                  $btn.trigger('click');\n              }\n          });\n      };\n      /**\n       * toggle update button\n       */\n      LinkDialog.prototype.toggleLinkBtn = function ($linkBtn, $linkText, $linkUrl) {\n          this.ui.toggleBtn($linkBtn, $linkText.val() && $linkUrl.val());\n      };\n      /**\n       * Show link dialog and set event handlers on dialog controls.\n       *\n       * @param {Object} linkInfo\n       * @return {Promise}\n       */\n      LinkDialog.prototype.showLinkDialog = function (linkInfo) {\n          var _this = this;\n          return $$1.Deferred(function (deferred) {\n              var $linkText = _this.$dialog.find('.note-link-text');\n              var $linkUrl = _this.$dialog.find('.note-link-url');\n              var $linkBtn = _this.$dialog.find('.note-link-btn');\n              var $openInNewWindow = _this.$dialog\n                  .find('.sn-checkbox-open-in-new-window input[type=checkbox]');\n              _this.ui.onDialogShown(_this.$dialog, function () {\n                  _this.context.triggerEvent('dialog.shown');\n                  // if no url was given, copy text to url\n                  if (!linkInfo.url) {\n                      linkInfo.url = linkInfo.text;\n                  }\n                  $linkText.val(linkInfo.text);\n                  var handleLinkTextUpdate = function () {\n                      _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n                      // if linktext was modified by keyup,\n                      // stop cloning text from linkUrl\n                      linkInfo.text = $linkText.val();\n                  };\n                  $linkText.on('input', handleLinkTextUpdate).on('paste', function () {\n                      setTimeout(handleLinkTextUpdate, 0);\n                  });\n                  var handleLinkUrlUpdate = function () {\n                      _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n                      // display same link on `Text to display` input\n                      // when create a new link\n                      if (!linkInfo.text) {\n                          $linkText.val($linkUrl.val());\n                      }\n                  };\n                  $linkUrl.on('input', handleLinkUrlUpdate).on('paste', function () {\n                      setTimeout(handleLinkUrlUpdate, 0);\n                  }).val(linkInfo.url);\n                  if (!env.isSupportTouch) {\n                      $linkUrl.trigger('focus');\n                  }\n                  _this.toggleLinkBtn($linkBtn, $linkText, $linkUrl);\n                  _this.bindEnterKey($linkUrl, $linkBtn);\n                  _this.bindEnterKey($linkText, $linkBtn);\n                  var isNewWindowChecked = linkInfo.isNewWindow !== undefined\n                      ? linkInfo.isNewWindow : _this.context.options.linkTargetBlank;\n                  $openInNewWindow.prop('checked', isNewWindowChecked);\n                  $linkBtn.one('click', function (event) {\n                      event.preventDefault();\n                      deferred.resolve({\n                          range: linkInfo.range,\n                          url: $linkUrl.val(),\n                          text: $linkText.val(),\n                          isNewWindow: $openInNewWindow.is(':checked')\n                      });\n                      _this.ui.hideDialog(_this.$dialog);\n                  });\n              });\n              _this.ui.onDialogHidden(_this.$dialog, function () {\n                  // detach events\n                  $linkText.off('input paste keypress');\n                  $linkUrl.off('input paste keypress');\n                  $linkBtn.off('click');\n                  if (deferred.state() === 'pending') {\n                      deferred.reject();\n                  }\n              });\n              _this.ui.showDialog(_this.$dialog);\n          }).promise();\n      };\n      /**\n       * @param {Object} layoutInfo\n       */\n      LinkDialog.prototype.show = function () {\n          var _this = this;\n          var linkInfo = this.context.invoke('editor.getLinkInfo');\n          this.context.invoke('editor.saveRange');\n          this.showLinkDialog(linkInfo).then(function (linkInfo) {\n              _this.context.invoke('editor.restoreRange');\n              _this.context.invoke('editor.createLink', linkInfo);\n          }).fail(function () {\n              _this.context.invoke('editor.restoreRange');\n          });\n      };\n      return LinkDialog;\n  }());\n\n  var LinkPopover = /** @class */ (function () {\n      function LinkPopover(context) {\n          var _this = this;\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.options = context.options;\n          this.events = {\n              'summernote.keyup summernote.mouseup summernote.change summernote.scroll': function () {\n                  _this.update();\n              },\n              'summernote.disable summernote.dialog.shown': function () {\n                  _this.hide();\n              }\n          };\n      }\n      LinkPopover.prototype.shouldInitialize = function () {\n          return !lists.isEmpty(this.options.popover.link);\n      };\n      LinkPopover.prototype.initialize = function () {\n          this.$popover = this.ui.popover({\n              className: 'note-link-popover',\n              callback: function ($node) {\n                  var $content = $node.find('.popover-content,.note-popover-content');\n                  $content.prepend('<span><a target=\"_blank\"></a>&nbsp;</span>');\n              }\n          }).render().appendTo(this.options.container);\n          var $content = this.$popover.find('.popover-content,.note-popover-content');\n          this.context.invoke('buttons.build', $content, this.options.popover.link);\n      };\n      LinkPopover.prototype.destroy = function () {\n          this.$popover.remove();\n      };\n      LinkPopover.prototype.update = function () {\n          // Prevent focusing on editable when invoke('code') is executed\n          if (!this.context.invoke('editor.hasFocus')) {\n              this.hide();\n              return;\n          }\n          var rng = this.context.invoke('editor.createRange');\n          if (rng.isCollapsed() && rng.isOnAnchor()) {\n              var anchor = dom.ancestor(rng.sc, dom.isAnchor);\n              var href = $$1(anchor).attr('href');\n              this.$popover.find('a').attr('href', href).html(href);\n              var pos = dom.posFromPlaceholder(anchor);\n              this.$popover.css({\n                  display: 'block',\n                  left: pos.left,\n                  top: pos.top\n              });\n          }\n          else {\n              this.hide();\n          }\n      };\n      LinkPopover.prototype.hide = function () {\n          this.$popover.hide();\n      };\n      return LinkPopover;\n  }());\n\n  var ImageDialog = /** @class */ (function () {\n      function ImageDialog(context) {\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.$body = $$1(document.body);\n          this.$editor = context.layoutInfo.editor;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n      }\n      ImageDialog.prototype.initialize = function () {\n          var $container = this.options.dialogsInBody ? this.$body : this.$editor;\n          var imageLimitation = '';\n          if (this.options.maximumImageFileSize) {\n              var unit = Math.floor(Math.log(this.options.maximumImageFileSize) / Math.log(1024));\n              var readableSize = (this.options.maximumImageFileSize / Math.pow(1024, unit)).toFixed(2) * 1 +\n                  ' ' + ' KMGTP'[unit] + 'B';\n              imageLimitation = \"<small>\" + (this.lang.image.maximumFileSize + ' : ' + readableSize) + \"</small>\";\n          }\n          var body = [\n              '<div class=\"form-group note-form-group note-group-select-from-files\">',\n              '<label class=\"note-form-label\">' + this.lang.image.selectFromFiles + '</label>',\n              '<input class=\"note-image-input note-form-control note-input\" ',\n              ' type=\"file\" name=\"files\" accept=\"image/*\" multiple=\"multiple\" />',\n              imageLimitation,\n              '</div>',\n              '<div class=\"form-group note-group-image-url\" style=\"overflow:auto;\">',\n              '<label class=\"note-form-label\">' + this.lang.image.url + '</label>',\n              '<input class=\"note-image-url form-control note-form-control note-input ',\n              ' col-md-12\" type=\"text\" />',\n              '</div>'\n          ].join('');\n          var buttonClass = 'btn btn-primary note-btn note-btn-primary note-image-btn';\n          var footer = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\" + buttonClass + \"\\\" value=\\\"\" + this.lang.image.insert + \"\\\" disabled>\";\n          this.$dialog = this.ui.dialog({\n              title: this.lang.image.insert,\n              fade: this.options.dialogsFade,\n              body: body,\n              footer: footer\n          }).render().appendTo($container);\n      };\n      ImageDialog.prototype.destroy = function () {\n          this.ui.hideDialog(this.$dialog);\n          this.$dialog.remove();\n      };\n      ImageDialog.prototype.bindEnterKey = function ($input, $btn) {\n          $input.on('keypress', function (event) {\n              if (event.keyCode === key.code.ENTER) {\n                  event.preventDefault();\n                  $btn.trigger('click');\n              }\n          });\n      };\n      ImageDialog.prototype.show = function () {\n          var _this = this;\n          this.context.invoke('editor.saveRange');\n          this.showImageDialog().then(function (data) {\n              // [workaround] hide dialog before restore range for IE range focus\n              _this.ui.hideDialog(_this.$dialog);\n              _this.context.invoke('editor.restoreRange');\n              if (typeof data === 'string') { // image url\n                  // If onImageLinkInsert set,\n                  if (_this.options.callbacks.onImageLinkInsert) {\n                      _this.context.triggerEvent('image.link.insert', data);\n                  }\n                  else {\n                      _this.context.invoke('editor.insertImage', data);\n                  }\n              }\n              else { // array of files\n                  // If onImageUpload set,\n                  if (_this.options.callbacks.onImageUpload) {\n                      _this.context.triggerEvent('image.upload', data);\n                  }\n                  else {\n                      // else insert Image as dataURL\n                      _this.context.invoke('editor.insertImagesAsDataURL', data);\n                  }\n              }\n          }).fail(function () {\n              _this.context.invoke('editor.restoreRange');\n          });\n      };\n      /**\n       * show image dialog\n       *\n       * @param {jQuery} $dialog\n       * @return {Promise}\n       */\n      ImageDialog.prototype.showImageDialog = function () {\n          var _this = this;\n          return $$1.Deferred(function (deferred) {\n              var $imageInput = _this.$dialog.find('.note-image-input');\n              var $imageUrl = _this.$dialog.find('.note-image-url');\n              var $imageBtn = _this.$dialog.find('.note-image-btn');\n              _this.ui.onDialogShown(_this.$dialog, function () {\n                  _this.context.triggerEvent('dialog.shown');\n                  // Cloning imageInput to clear element.\n                  $imageInput.replaceWith($imageInput.clone().on('change', function (event) {\n                      deferred.resolve(event.target.files || event.target.value);\n                  }).val(''));\n                  $imageBtn.click(function (event) {\n                      event.preventDefault();\n                      deferred.resolve($imageUrl.val());\n                  });\n                  $imageUrl.on('keyup paste', function () {\n                      var url = $imageUrl.val();\n                      _this.ui.toggleBtn($imageBtn, url);\n                  }).val('');\n                  if (!env.isSupportTouch) {\n                      $imageUrl.trigger('focus');\n                  }\n                  _this.bindEnterKey($imageUrl, $imageBtn);\n              });\n              _this.ui.onDialogHidden(_this.$dialog, function () {\n                  $imageInput.off('change');\n                  $imageUrl.off('keyup paste keypress');\n                  $imageBtn.off('click');\n                  if (deferred.state() === 'pending') {\n                      deferred.reject();\n                  }\n              });\n              _this.ui.showDialog(_this.$dialog);\n          });\n      };\n      return ImageDialog;\n  }());\n\n  /**\n   * Image popover module\n   *  mouse events that show/hide popover will be handled by Handle.js.\n   *  Handle.js will receive the events and invoke 'imagePopover.update'.\n   */\n  var ImagePopover = /** @class */ (function () {\n      function ImagePopover(context) {\n          var _this = this;\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.editable = context.layoutInfo.editable[0];\n          this.options = context.options;\n          this.events = {\n              'summernote.disable': function () {\n                  _this.hide();\n              }\n          };\n      }\n      ImagePopover.prototype.shouldInitialize = function () {\n          return !lists.isEmpty(this.options.popover.image);\n      };\n      ImagePopover.prototype.initialize = function () {\n          this.$popover = this.ui.popover({\n              className: 'note-image-popover'\n          }).render().appendTo(this.options.container);\n          var $content = this.$popover.find('.popover-content,.note-popover-content');\n          this.context.invoke('buttons.build', $content, this.options.popover.image);\n      };\n      ImagePopover.prototype.destroy = function () {\n          this.$popover.remove();\n      };\n      ImagePopover.prototype.update = function (target) {\n          if (dom.isImg(target)) {\n              var pos = dom.posFromPlaceholder(target);\n              var posEditor = dom.posFromPlaceholder(this.editable);\n              this.$popover.css({\n                  display: 'block',\n                  left: this.options.popatmouse ? event.pageX - 20 : pos.left,\n                  top: this.options.popatmouse ? event.pageY : Math.min(pos.top, posEditor.top)\n              });\n          }\n          else {\n              this.hide();\n          }\n      };\n      ImagePopover.prototype.hide = function () {\n          this.$popover.hide();\n      };\n      return ImagePopover;\n  }());\n\n  var TablePopover = /** @class */ (function () {\n      function TablePopover(context) {\n          var _this = this;\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.options = context.options;\n          this.events = {\n              'summernote.mousedown': function (we, e) {\n                  _this.update(e.target);\n              },\n              'summernote.keyup summernote.scroll summernote.change': function () {\n                  _this.update();\n              },\n              'summernote.disable': function () {\n                  _this.hide();\n              }\n          };\n      }\n      TablePopover.prototype.shouldInitialize = function () {\n          return !lists.isEmpty(this.options.popover.table);\n      };\n      TablePopover.prototype.initialize = function () {\n          this.$popover = this.ui.popover({\n              className: 'note-table-popover'\n          }).render().appendTo(this.options.container);\n          var $content = this.$popover.find('.popover-content,.note-popover-content');\n          this.context.invoke('buttons.build', $content, this.options.popover.table);\n          // [workaround] Disable Firefox's default table editor\n          if (env.isFF) {\n              document.execCommand('enableInlineTableEditing', false, false);\n          }\n      };\n      TablePopover.prototype.destroy = function () {\n          this.$popover.remove();\n      };\n      TablePopover.prototype.update = function (target) {\n          if (this.context.isDisabled()) {\n              return false;\n          }\n          var isCell = dom.isCell(target);\n          if (isCell) {\n              var pos = dom.posFromPlaceholder(target);\n              this.$popover.css({\n                  display: 'block',\n                  left: pos.left,\n                  top: pos.top\n              });\n          }\n          else {\n              this.hide();\n          }\n          return isCell;\n      };\n      TablePopover.prototype.hide = function () {\n          this.$popover.hide();\n      };\n      return TablePopover;\n  }());\n\n  var VideoDialog = /** @class */ (function () {\n      function VideoDialog(context) {\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.$body = $$1(document.body);\n          this.$editor = context.layoutInfo.editor;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n      }\n      VideoDialog.prototype.initialize = function () {\n          var $container = this.options.dialogsInBody ? this.$body : this.$editor;\n          var body = [\n              '<div class=\"form-group note-form-group row-fluid\">',\n              \"<label class=\\\"note-form-label\\\">\" + this.lang.video.url + \" <small class=\\\"text-muted\\\">\" + this.lang.video.providers + \"</small></label>\",\n              '<input class=\"note-video-url form-control note-form-control note-input\" type=\"text\" />',\n              '</div>'\n          ].join('');\n          var buttonClass = 'btn btn-primary note-btn note-btn-primary note-video-btn';\n          var footer = \"<input type=\\\"button\\\" href=\\\"#\\\" class=\\\"\" + buttonClass + \"\\\" value=\\\"\" + this.lang.video.insert + \"\\\" disabled>\";\n          this.$dialog = this.ui.dialog({\n              title: this.lang.video.insert,\n              fade: this.options.dialogsFade,\n              body: body,\n              footer: footer\n          }).render().appendTo($container);\n      };\n      VideoDialog.prototype.destroy = function () {\n          this.ui.hideDialog(this.$dialog);\n          this.$dialog.remove();\n      };\n      VideoDialog.prototype.bindEnterKey = function ($input, $btn) {\n          $input.on('keypress', function (event) {\n              if (event.keyCode === key.code.ENTER) {\n                  event.preventDefault();\n                  $btn.trigger('click');\n              }\n          });\n      };\n      VideoDialog.prototype.createVideoNode = function (url) {\n          // video url patterns(youtube, instagram, vimeo, dailymotion, youku, mp4, ogg, webm)\n          var ytRegExp = /\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?$/;\n          var ytRegExpForStart = /^(?:(\\d+)h)?(?:(\\d+)m)?(?:(\\d+)s)?$/;\n          var ytMatch = url.match(ytRegExp);\n          var igRegExp = /(?:www\\.|\\/\\/)instagram\\.com\\/p\\/(.[a-zA-Z0-9_-]*)/;\n          var igMatch = url.match(igRegExp);\n          var vRegExp = /\\/\\/vine\\.co\\/v\\/([a-zA-Z0-9]+)/;\n          var vMatch = url.match(vRegExp);\n          var vimRegExp = /\\/\\/(player\\.)?vimeo\\.com\\/([a-z]*\\/)*(\\d+)[?]?.*/;\n          var vimMatch = url.match(vimRegExp);\n          var dmRegExp = /.+dailymotion.com\\/(video|hub)\\/([^_]+)[^#]*(#video=([^_&]+))?/;\n          var dmMatch = url.match(dmRegExp);\n          var youkuRegExp = /\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/;\n          var youkuMatch = url.match(youkuRegExp);\n          var qqRegExp = /\\/\\/v\\.qq\\.com.*?vid=(.+)/;\n          var qqMatch = url.match(qqRegExp);\n          var qqRegExp2 = /\\/\\/v\\.qq\\.com\\/x?\\/?(page|cover).*?\\/([^\\/]+)\\.html\\??.*/;\n          var qqMatch2 = url.match(qqRegExp2);\n          var mp4RegExp = /^.+.(mp4|m4v)$/;\n          var mp4Match = url.match(mp4RegExp);\n          var oggRegExp = /^.+.(ogg|ogv)$/;\n          var oggMatch = url.match(oggRegExp);\n          var webmRegExp = /^.+.(webm)$/;\n          var webmMatch = url.match(webmRegExp);\n          var $video;\n          if (ytMatch && ytMatch[1].length === 11) {\n              var youtubeId = ytMatch[1];\n              var start = 0;\n              if (typeof ytMatch[2] !== 'undefined') {\n                  var ytMatchForStart = ytMatch[2].match(ytRegExpForStart);\n                  if (ytMatchForStart) {\n                      for (var n = [3600, 60, 1], i = 0, r = n.length; i < r; i++) {\n                          start += (typeof ytMatchForStart[i + 1] !== 'undefined' ? n[i] * parseInt(ytMatchForStart[i + 1], 10) : 0);\n                      }\n                  }\n              }\n              $video = $$1('<iframe>')\n                  .attr('frameborder', 0)\n                  .attr('src', '//www.youtube.com/embed/' + youtubeId + (start > 0 ? '?start=' + start : ''))\n                  .attr('width', '640').attr('height', '360');\n          }\n          else if (igMatch && igMatch[0].length) {\n              $video = $$1('<iframe>')\n                  .attr('frameborder', 0)\n                  .attr('src', 'https://instagram.com/p/' + igMatch[1] + '/embed/')\n                  .attr('width', '612').attr('height', '710')\n                  .attr('scrolling', 'no')\n                  .attr('allowtransparency', 'true');\n          }\n          else if (vMatch && vMatch[0].length) {\n              $video = $$1('<iframe>')\n                  .attr('frameborder', 0)\n                  .attr('src', vMatch[0] + '/embed/simple')\n                  .attr('width', '600').attr('height', '600')\n                  .attr('class', 'vine-embed');\n          }\n          else if (vimMatch && vimMatch[3].length) {\n              $video = $$1('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n                  .attr('frameborder', 0)\n                  .attr('src', '//player.vimeo.com/video/' + vimMatch[3])\n                  .attr('width', '640').attr('height', '360');\n          }\n          else if (dmMatch && dmMatch[2].length) {\n              $video = $$1('<iframe>')\n                  .attr('frameborder', 0)\n                  .attr('src', '//www.dailymotion.com/embed/video/' + dmMatch[2])\n                  .attr('width', '640').attr('height', '360');\n          }\n          else if (youkuMatch && youkuMatch[1].length) {\n              $video = $$1('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n                  .attr('frameborder', 0)\n                  .attr('height', '498')\n                  .attr('width', '510')\n                  .attr('src', '//player.youku.com/embed/' + youkuMatch[1]);\n          }\n          else if ((qqMatch && qqMatch[1].length) || (qqMatch2 && qqMatch2[2].length)) {\n              var vid = ((qqMatch && qqMatch[1].length) ? qqMatch[1] : qqMatch2[2]);\n              $video = $$1('<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>')\n                  .attr('frameborder', 0)\n                  .attr('height', '310')\n                  .attr('width', '500')\n                  .attr('src', 'http://v.qq.com/iframe/player.html?vid=' + vid + '&amp;auto=0');\n          }\n          else if (mp4Match || oggMatch || webmMatch) {\n              $video = $$1('<video controls>')\n                  .attr('src', url)\n                  .attr('width', '640').attr('height', '360');\n          }\n          else {\n              // this is not a known video link. Now what, Cat? Now what?\n              return false;\n          }\n          $video.addClass('note-video-clip');\n          return $video[0];\n      };\n      VideoDialog.prototype.show = function () {\n          var _this = this;\n          var text = this.context.invoke('editor.getSelectedText');\n          this.context.invoke('editor.saveRange');\n          this.showVideoDialog(text).then(function (url) {\n              // [workaround] hide dialog before restore range for IE range focus\n              _this.ui.hideDialog(_this.$dialog);\n              _this.context.invoke('editor.restoreRange');\n              // build node\n              var $node = _this.createVideoNode(url);\n              if ($node) {\n                  // insert video node\n                  _this.context.invoke('editor.insertNode', $node);\n              }\n          }).fail(function () {\n              _this.context.invoke('editor.restoreRange');\n          });\n      };\n      /**\n       * show image dialog\n       *\n       * @param {jQuery} $dialog\n       * @return {Promise}\n       */\n      VideoDialog.prototype.showVideoDialog = function (text) {\n          var _this = this;\n          return $$1.Deferred(function (deferred) {\n              var $videoUrl = _this.$dialog.find('.note-video-url');\n              var $videoBtn = _this.$dialog.find('.note-video-btn');\n              _this.ui.onDialogShown(_this.$dialog, function () {\n                  _this.context.triggerEvent('dialog.shown');\n                  $videoUrl.val(text).on('input', function () {\n                      _this.ui.toggleBtn($videoBtn, $videoUrl.val());\n                  });\n                  if (!env.isSupportTouch) {\n                      $videoUrl.trigger('focus');\n                  }\n                  $videoBtn.click(function (event) {\n                      event.preventDefault();\n                      deferred.resolve($videoUrl.val());\n                  });\n                  _this.bindEnterKey($videoUrl, $videoBtn);\n              });\n              _this.ui.onDialogHidden(_this.$dialog, function () {\n                  $videoUrl.off('input');\n                  $videoBtn.off('click');\n                  if (deferred.state() === 'pending') {\n                      deferred.reject();\n                  }\n              });\n              _this.ui.showDialog(_this.$dialog);\n          });\n      };\n      return VideoDialog;\n  }());\n\n  var HelpDialog = /** @class */ (function () {\n      function HelpDialog(context) {\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.$body = $$1(document.body);\n          this.$editor = context.layoutInfo.editor;\n          this.options = context.options;\n          this.lang = this.options.langInfo;\n      }\n      HelpDialog.prototype.initialize = function () {\n          var $container = this.options.dialogsInBody ? this.$body : this.$editor;\n          var body = [\n              '<p class=\"text-center\">',\n              '<a href=\"http://summernote.org/\" target=\"_blank\">Summernote 0.8.11</a> · ',\n              '<a href=\"https://github.com/summernote/summernote\" target=\"_blank\">Project</a> · ',\n              '<a href=\"https://github.com/summernote/summernote/issues\" target=\"_blank\">Issues</a>',\n              '</p>'\n          ].join('');\n          this.$dialog = this.ui.dialog({\n              title: this.lang.options.help,\n              fade: this.options.dialogsFade,\n              body: this.createShortcutList(),\n              footer: body,\n              callback: function ($node) {\n                  $node.find('.modal-body,.note-modal-body').css({\n                      'max-height': 300,\n                      'overflow': 'scroll'\n                  });\n              }\n          }).render().appendTo($container);\n      };\n      HelpDialog.prototype.destroy = function () {\n          this.ui.hideDialog(this.$dialog);\n          this.$dialog.remove();\n      };\n      HelpDialog.prototype.createShortcutList = function () {\n          var _this = this;\n          var keyMap = this.options.keyMap[env.isMac ? 'mac' : 'pc'];\n          return Object.keys(keyMap).map(function (key) {\n              var command = keyMap[key];\n              var $row = $$1('<div><div class=\"help-list-item\"/></div>');\n              $row.append($$1('<label><kbd>' + key + '</kdb></label>').css({\n                  'width': 180,\n                  'margin-right': 10\n              })).append($$1('<span/>').html(_this.context.memo('help.' + command) || command));\n              return $row.html();\n          }).join('');\n      };\n      /**\n       * show help dialog\n       *\n       * @return {Promise}\n       */\n      HelpDialog.prototype.showHelpDialog = function () {\n          var _this = this;\n          return $$1.Deferred(function (deferred) {\n              _this.ui.onDialogShown(_this.$dialog, function () {\n                  _this.context.triggerEvent('dialog.shown');\n                  deferred.resolve();\n              });\n              _this.ui.showDialog(_this.$dialog);\n          }).promise();\n      };\n      HelpDialog.prototype.show = function () {\n          var _this = this;\n          this.context.invoke('editor.saveRange');\n          this.showHelpDialog().then(function () {\n              _this.context.invoke('editor.restoreRange');\n          });\n      };\n      return HelpDialog;\n  }());\n\n  var AIR_MODE_POPOVER_X_OFFSET = 20;\n  var AirPopover = /** @class */ (function () {\n      function AirPopover(context) {\n          var _this = this;\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.options = context.options;\n          this.events = {\n              'summernote.keyup summernote.mouseup summernote.scroll': function () {\n                  _this.update();\n              },\n              'summernote.disable summernote.change summernote.dialog.shown': function () {\n                  _this.hide();\n              },\n              'summernote.focusout': function (we, e) {\n                  // [workaround] Firefox doesn't support relatedTarget on focusout\n                  //  - Ignore hide action on focus out in FF.\n                  if (env.isFF) {\n                      return;\n                  }\n                  if (!e.relatedTarget || !dom.ancestor(e.relatedTarget, func.eq(_this.$popover[0]))) {\n                      _this.hide();\n                  }\n              }\n          };\n      }\n      AirPopover.prototype.shouldInitialize = function () {\n          return this.options.airMode && !lists.isEmpty(this.options.popover.air);\n      };\n      AirPopover.prototype.initialize = function () {\n          this.$popover = this.ui.popover({\n              className: 'note-air-popover'\n          }).render().appendTo(this.options.container);\n          var $content = this.$popover.find('.popover-content');\n          this.context.invoke('buttons.build', $content, this.options.popover.air);\n      };\n      AirPopover.prototype.destroy = function () {\n          this.$popover.remove();\n      };\n      AirPopover.prototype.update = function () {\n          var styleInfo = this.context.invoke('editor.currentStyle');\n          if (styleInfo.range && !styleInfo.range.isCollapsed()) {\n              var rect = lists.last(styleInfo.range.getClientRects());\n              if (rect) {\n                  var bnd = func.rect2bnd(rect);\n                  this.$popover.css({\n                      display: 'block',\n                      left: Math.max(bnd.left + bnd.width / 2, 0) - AIR_MODE_POPOVER_X_OFFSET,\n                      top: bnd.top + bnd.height\n                  });\n                  this.context.invoke('buttons.updateCurrentStyle', this.$popover);\n              }\n          }\n          else {\n              this.hide();\n          }\n      };\n      AirPopover.prototype.hide = function () {\n          this.$popover.hide();\n      };\n      return AirPopover;\n  }());\n\n  var POPOVER_DIST = 5;\n  var HintPopover = /** @class */ (function () {\n      function HintPopover(context) {\n          var _this = this;\n          this.context = context;\n          this.ui = $$1.summernote.ui;\n          this.$editable = context.layoutInfo.editable;\n          this.options = context.options;\n          this.hint = this.options.hint || [];\n          this.direction = this.options.hintDirection || 'bottom';\n          this.hints = $$1.isArray(this.hint) ? this.hint : [this.hint];\n          this.events = {\n              'summernote.keyup': function (we, e) {\n                  if (!e.isDefaultPrevented()) {\n                      _this.handleKeyup(e);\n                  }\n              },\n              'summernote.keydown': function (we, e) {\n                  _this.handleKeydown(e);\n              },\n              'summernote.disable summernote.dialog.shown': function () {\n                  _this.hide();\n              }\n          };\n      }\n      HintPopover.prototype.shouldInitialize = function () {\n          return this.hints.length > 0;\n      };\n      HintPopover.prototype.initialize = function () {\n          var _this = this;\n          this.lastWordRange = null;\n          this.$popover = this.ui.popover({\n              className: 'note-hint-popover',\n              hideArrow: true,\n              direction: ''\n          }).render().appendTo(this.options.container);\n          this.$popover.hide();\n          this.$content = this.$popover.find('.popover-content,.note-popover-content');\n          this.$content.on('click', '.note-hint-item', function (e) {\n              _this.$content.find('.active').removeClass('active');\n              $$1(e.currentTarget).addClass('active');\n              _this.replace();\n          });\n      };\n      HintPopover.prototype.destroy = function () {\n          this.$popover.remove();\n      };\n      HintPopover.prototype.selectItem = function ($item) {\n          this.$content.find('.active').removeClass('active');\n          $item.addClass('active');\n          this.$content[0].scrollTop = $item[0].offsetTop - (this.$content.innerHeight() / 2);\n      };\n      HintPopover.prototype.moveDown = function () {\n          var $current = this.$content.find('.note-hint-item.active');\n          var $next = $current.next();\n          if ($next.length) {\n              this.selectItem($next);\n          }\n          else {\n              var $nextGroup = $current.parent().next();\n              if (!$nextGroup.length) {\n                  $nextGroup = this.$content.find('.note-hint-group').first();\n              }\n              this.selectItem($nextGroup.find('.note-hint-item').first());\n          }\n      };\n      HintPopover.prototype.moveUp = function () {\n          var $current = this.$content.find('.note-hint-item.active');\n          var $prev = $current.prev();\n          if ($prev.length) {\n              this.selectItem($prev);\n          }\n          else {\n              var $prevGroup = $current.parent().prev();\n              if (!$prevGroup.length) {\n                  $prevGroup = this.$content.find('.note-hint-group').last();\n              }\n              this.selectItem($prevGroup.find('.note-hint-item').last());\n          }\n      };\n      HintPopover.prototype.replace = function () {\n          var $item = this.$content.find('.note-hint-item.active');\n          if ($item.length) {\n              var node = this.nodeFromItem($item);\n              // XXX: consider to move codes to editor for recording redo/undo.\n              this.lastWordRange.insertNode(node);\n              range.createFromNode(node).collapse().select();\n              this.lastWordRange = null;\n              this.hide();\n              this.context.triggerEvent('change', this.$editable.html(), this.$editable[0]);\n              this.context.invoke('editor.focus');\n          }\n      };\n      HintPopover.prototype.nodeFromItem = function ($item) {\n          var hint = this.hints[$item.data('index')];\n          var item = $item.data('item');\n          var node = hint.content ? hint.content(item) : item;\n          if (typeof node === 'string') {\n              node = dom.createText(node);\n          }\n          return node;\n      };\n      HintPopover.prototype.createItemTemplates = function (hintIdx, items) {\n          var hint = this.hints[hintIdx];\n          return items.map(function (item, idx) {\n              var $item = $$1('<div class=\"note-hint-item\"/>');\n              $item.append(hint.template ? hint.template(item) : item + '');\n              $item.data({\n                  'index': hintIdx,\n                  'item': item\n              });\n              return $item;\n          });\n      };\n      HintPopover.prototype.handleKeydown = function (e) {\n          if (!this.$popover.is(':visible')) {\n              return;\n          }\n          if (e.keyCode === key.code.ENTER) {\n              e.preventDefault();\n              this.replace();\n          }\n          else if (e.keyCode === key.code.UP) {\n              e.preventDefault();\n              this.moveUp();\n          }\n          else if (e.keyCode === key.code.DOWN) {\n              e.preventDefault();\n              this.moveDown();\n          }\n      };\n      HintPopover.prototype.searchKeyword = function (index, keyword, callback) {\n          var hint = this.hints[index];\n          if (hint && hint.match.test(keyword) && hint.search) {\n              var matches = hint.match.exec(keyword);\n              hint.search(matches[1], callback);\n          }\n          else {\n              callback();\n          }\n      };\n      HintPopover.prototype.createGroup = function (idx, keyword) {\n          var _this = this;\n          var $group = $$1('<div class=\"note-hint-group note-hint-group-' + idx + '\"/>');\n          this.searchKeyword(idx, keyword, function (items) {\n              items = items || [];\n              if (items.length) {\n                  $group.html(_this.createItemTemplates(idx, items));\n                  _this.show();\n              }\n          });\n          return $group;\n      };\n      HintPopover.prototype.handleKeyup = function (e) {\n          var _this = this;\n          if (!lists.contains([key.code.ENTER, key.code.UP, key.code.DOWN], e.keyCode)) {\n              var wordRange = this.context.invoke('editor.createRange').getWordRange();\n              var keyword_1 = wordRange.toString();\n              if (this.hints.length && keyword_1) {\n                  this.$content.empty();\n                  var bnd = func.rect2bnd(lists.last(wordRange.getClientRects()));\n                  if (bnd) {\n                      this.$popover.hide();\n                      this.lastWordRange = wordRange;\n                      this.hints.forEach(function (hint, idx) {\n                          if (hint.match.test(keyword_1)) {\n                              _this.createGroup(idx, keyword_1).appendTo(_this.$content);\n                          }\n                      });\n                      // select first .note-hint-item\n                      this.$content.find('.note-hint-item:first').addClass('active');\n                      // set position for popover after group is created\n                      if (this.direction === 'top') {\n                          this.$popover.css({\n                              left: bnd.left,\n                              top: bnd.top - this.$popover.outerHeight() - POPOVER_DIST\n                          });\n                      }\n                      else {\n                          this.$popover.css({\n                              left: bnd.left,\n                              top: bnd.top + bnd.height + POPOVER_DIST\n                          });\n                      }\n                  }\n              }\n              else {\n                  this.hide();\n              }\n          }\n      };\n      HintPopover.prototype.show = function () {\n          this.$popover.show();\n      };\n      HintPopover.prototype.hide = function () {\n          this.$popover.hide();\n      };\n      return HintPopover;\n  }());\n\n  var Context = /** @class */ (function () {\n      /**\n       * @param {jQuery} $note\n       * @param {Object} options\n       */\n      function Context($note, options) {\n          this.ui = $$1.summernote.ui;\n          this.$note = $note;\n          this.memos = {};\n          this.modules = {};\n          this.layoutInfo = {};\n          this.options = options;\n          this.initialize();\n      }\n      /**\n       * create layout and initialize modules and other resources\n       */\n      Context.prototype.initialize = function () {\n          this.layoutInfo = this.ui.createLayout(this.$note, this.options);\n          this._initialize();\n          this.$note.hide();\n          return this;\n      };\n      /**\n       * destroy modules and other resources and remove layout\n       */\n      Context.prototype.destroy = function () {\n          this._destroy();\n          this.$note.removeData('summernote');\n          this.ui.removeLayout(this.$note, this.layoutInfo);\n      };\n      /**\n       * destory modules and other resources and initialize it again\n       */\n      Context.prototype.reset = function () {\n          var disabled = this.isDisabled();\n          this.code(dom.emptyPara);\n          this._destroy();\n          this._initialize();\n          if (disabled) {\n              this.disable();\n          }\n      };\n      Context.prototype._initialize = function () {\n          var _this = this;\n          // add optional buttons\n          var buttons = $$1.extend({}, this.options.buttons);\n          Object.keys(buttons).forEach(function (key) {\n              _this.memo('button.' + key, buttons[key]);\n          });\n          var modules = $$1.extend({}, this.options.modules, $$1.summernote.plugins || {});\n          // add and initialize modules\n          Object.keys(modules).forEach(function (key) {\n              _this.module(key, modules[key], true);\n          });\n          Object.keys(this.modules).forEach(function (key) {\n              _this.initializeModule(key);\n          });\n      };\n      Context.prototype._destroy = function () {\n          var _this = this;\n          // destroy modules with reversed order\n          Object.keys(this.modules).reverse().forEach(function (key) {\n              _this.removeModule(key);\n          });\n          Object.keys(this.memos).forEach(function (key) {\n              _this.removeMemo(key);\n          });\n          // trigger custom onDestroy callback\n          this.triggerEvent('destroy', this);\n      };\n      Context.prototype.code = function (html) {\n          var isActivated = this.invoke('codeview.isActivated');\n          if (html === undefined) {\n              this.invoke('codeview.sync');\n              return isActivated ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html();\n          }\n          else {\n              if (isActivated) {\n                  this.layoutInfo.codable.val(html);\n              }\n              else {\n                  this.layoutInfo.editable.html(html);\n              }\n              this.$note.val(html);\n              this.triggerEvent('change', html);\n          }\n      };\n      Context.prototype.isDisabled = function () {\n          return this.layoutInfo.editable.attr('contenteditable') === 'false';\n      };\n      Context.prototype.enable = function () {\n          this.layoutInfo.editable.attr('contenteditable', true);\n          this.invoke('toolbar.activate', true);\n          this.triggerEvent('disable', false);\n      };\n      Context.prototype.disable = function () {\n          // close codeview if codeview is opend\n          if (this.invoke('codeview.isActivated')) {\n              this.invoke('codeview.deactivate');\n          }\n          this.layoutInfo.editable.attr('contenteditable', false);\n          this.invoke('toolbar.deactivate', true);\n          this.triggerEvent('disable', true);\n      };\n      Context.prototype.triggerEvent = function () {\n          var namespace = lists.head(arguments);\n          var args = lists.tail(lists.from(arguments));\n          var callback = this.options.callbacks[func.namespaceToCamel(namespace, 'on')];\n          if (callback) {\n              callback.apply(this.$note[0], args);\n          }\n          this.$note.trigger('summernote.' + namespace, args);\n      };\n      Context.prototype.initializeModule = function (key) {\n          var module = this.modules[key];\n          module.shouldInitialize = module.shouldInitialize || func.ok;\n          if (!module.shouldInitialize()) {\n              return;\n          }\n          // initialize module\n          if (module.initialize) {\n              module.initialize();\n          }\n          // attach events\n          if (module.events) {\n              dom.attachEvents(this.$note, module.events);\n          }\n      };\n      Context.prototype.module = function (key, ModuleClass, withoutIntialize) {\n          if (arguments.length === 1) {\n              return this.modules[key];\n          }\n          this.modules[key] = new ModuleClass(this);\n          if (!withoutIntialize) {\n              this.initializeModule(key);\n          }\n      };\n      Context.prototype.removeModule = function (key) {\n          var module = this.modules[key];\n          if (module.shouldInitialize()) {\n              if (module.events) {\n                  dom.detachEvents(this.$note, module.events);\n              }\n              if (module.destroy) {\n                  module.destroy();\n              }\n          }\n          delete this.modules[key];\n      };\n      Context.prototype.memo = function (key, obj) {\n          if (arguments.length === 1) {\n              return this.memos[key];\n          }\n          this.memos[key] = obj;\n      };\n      Context.prototype.removeMemo = function (key) {\n          if (this.memos[key] && this.memos[key].destroy) {\n              this.memos[key].destroy();\n          }\n          delete this.memos[key];\n      };\n      /**\n       * Some buttons need to change their visual style immediately once they get pressed\n       */\n      Context.prototype.createInvokeHandlerAndUpdateState = function (namespace, value) {\n          var _this = this;\n          return function (event) {\n              _this.createInvokeHandler(namespace, value)(event);\n              _this.invoke('buttons.updateCurrentStyle');\n          };\n      };\n      Context.prototype.createInvokeHandler = function (namespace, value) {\n          var _this = this;\n          return function (event) {\n              event.preventDefault();\n              var $target = $$1(event.target);\n              _this.invoke(namespace, value || $target.closest('[data-value]').data('value'), $target);\n          };\n      };\n      Context.prototype.invoke = function () {\n          var namespace = lists.head(arguments);\n          var args = lists.tail(lists.from(arguments));\n          var splits = namespace.split('.');\n          var hasSeparator = splits.length > 1;\n          var moduleName = hasSeparator && lists.head(splits);\n          var methodName = hasSeparator ? lists.last(splits) : lists.head(splits);\n          var module = this.modules[moduleName || 'editor'];\n          if (!moduleName && this[methodName]) {\n              return this[methodName].apply(this, args);\n          }\n          else if (module && module[methodName] && module.shouldInitialize()) {\n              return module[methodName].apply(module, args);\n          }\n      };\n      return Context;\n  }());\n\n  $$1.fn.extend({\n      /**\n       * Summernote API\n       *\n       * @param {Object|String}\n       * @return {this}\n       */\n      summernote: function () {\n          var type = $$1.type(lists.head(arguments));\n          var isExternalAPICalled = type === 'string';\n          var hasInitOptions = type === 'object';\n          var options = $$1.extend({}, $$1.summernote.options, hasInitOptions ? lists.head(arguments) : {});\n          // Update options\n          options.langInfo = $$1.extend(true, {}, $$1.summernote.lang['en-US'], $$1.summernote.lang[options.lang]);\n          options.icons = $$1.extend(true, {}, $$1.summernote.options.icons, options.icons);\n          options.tooltip = options.tooltip === 'auto' ? !env.isSupportTouch : options.tooltip;\n          this.each(function (idx, note) {\n              var $note = $$1(note);\n              if (!$note.data('summernote')) {\n                  var context = new Context($note, options);\n                  $note.data('summernote', context);\n                  $note.data('summernote').triggerEvent('init', context.layoutInfo);\n              }\n          });\n          var $note = this.first();\n          if ($note.length) {\n              var context = $note.data('summernote');\n              if (isExternalAPICalled) {\n                  return context.invoke.apply(context, lists.from(arguments));\n              }\n              else if (options.focus) {\n                  context.invoke('editor.focus');\n              }\n          }\n          return this;\n      }\n  });\n\n  $$1.summernote = $$1.extend($$1.summernote, {\n      version: '0.8.11',\n      ui: ui,\n      dom: dom,\n      range: range,\n      plugins: {},\n      options: {\n          modules: {\n              'editor': Editor,\n              'clipboard': Clipboard,\n              'dropzone': Dropzone,\n              'codeview': CodeView,\n              'statusbar': Statusbar,\n              'fullscreen': Fullscreen,\n              'handle': Handle,\n              // FIXME: HintPopover must be front of autolink\n              //  - Script error about range when Enter key is pressed on hint popover\n              'hintPopover': HintPopover,\n              'autoLink': AutoLink,\n              'autoSync': AutoSync,\n              'placeholder': Placeholder,\n              'buttons': Buttons,\n              'toolbar': Toolbar,\n              'linkDialog': LinkDialog,\n              'linkPopover': LinkPopover,\n              'imageDialog': ImageDialog,\n              'imagePopover': ImagePopover,\n              'tablePopover': TablePopover,\n              'videoDialog': VideoDialog,\n              'helpDialog': HelpDialog,\n              'airPopover': AirPopover\n          },\n          buttons: {},\n          lang: 'en-US',\n          followingToolbar: true,\n          otherStaticBar: '',\n          // toolbar\n          toolbar: [\n              ['style', ['style']],\n              ['font', ['bold', 'underline', 'clear']],\n              ['fontname', ['fontname']],\n              ['color', ['color']],\n              ['para', ['ul', 'ol', 'paragraph']],\n              ['table', ['table']],\n              ['insert', ['link', 'picture', 'video']],\n              ['view', ['fullscreen', 'codeview', 'help']]\n          ],\n          // popover\n          popatmouse: true,\n          popover: {\n              image: [\n                  ['imagesize', ['imageSize100', 'imageSize50', 'imageSize25']],\n                  ['float', ['floatLeft', 'floatRight', 'floatNone']],\n                  ['remove', ['removeMedia']]\n              ],\n              link: [\n                  ['link', ['linkDialogShow', 'unlink']]\n              ],\n              table: [\n                  ['add', ['addRowDown', 'addRowUp', 'addColLeft', 'addColRight']],\n                  ['delete', ['deleteRow', 'deleteCol', 'deleteTable']]\n              ],\n              air: [\n                  ['color', ['color']],\n                  ['font', ['bold', 'underline', 'clear']],\n                  ['para', ['ul', 'paragraph']],\n                  ['table', ['table']],\n                  ['insert', ['link', 'picture']]\n              ]\n          },\n          // air mode: inline editor\n          airMode: false,\n          width: null,\n          height: null,\n          linkTargetBlank: true,\n          focus: false,\n          tabSize: 4,\n          styleWithSpan: true,\n          shortcuts: true,\n          textareaAutoSync: true,\n          hintDirection: 'bottom',\n          tooltip: 'auto',\n          container: 'body',\n          maxTextLength: 0,\n          blockquoteBreakingLevel: 2,\n          styleTags: ['p', 'blockquote', 'pre', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n          fontNames: [\n              'Arial', 'Arial Black', 'Comic Sans MS', 'Courier New',\n              'Helvetica Neue', 'Helvetica', 'Impact', 'Lucida Grande',\n              'Tahoma', 'Times New Roman', 'Verdana'\n          ],\n          fontSizes: ['8', '9', '10', '11', '12', '14', '18', '24', '36'],\n          // pallete colors(n x n)\n          colors: [\n              ['#000000', '#424242', '#636363', '#9C9C94', '#CEC6CE', '#EFEFEF', '#F7F7F7', '#FFFFFF'],\n              ['#FF0000', '#FF9C00', '#FFFF00', '#00FF00', '#00FFFF', '#0000FF', '#9C00FF', '#FF00FF'],\n              ['#F7C6CE', '#FFE7CE', '#FFEFC6', '#D6EFD6', '#CEDEE7', '#CEE7F7', '#D6D6E7', '#E7D6DE'],\n              ['#E79C9C', '#FFC69C', '#FFE79C', '#B5D6A5', '#A5C6CE', '#9CC6EF', '#B5A5D6', '#D6A5BD'],\n              ['#E76363', '#F7AD6B', '#FFD663', '#94BD7B', '#73A5AD', '#6BADDE', '#8C7BC6', '#C67BA5'],\n              ['#CE0000', '#E79439', '#EFC631', '#6BA54A', '#4A7B8C', '#3984C6', '#634AA5', '#A54A7B'],\n              ['#9C0000', '#B56308', '#BD9400', '#397B21', '#104A5A', '#085294', '#311873', '#731842'],\n              ['#630000', '#7B3900', '#846300', '#295218', '#083139', '#003163', '#21104A', '#4A1031']\n          ],\n          // http://chir.ag/projects/name-that-color/\n          colorsName: [\n              ['Black', 'Tundora', 'Dove Gray', 'Star Dust', 'Pale Slate', 'Gallery', 'Alabaster', 'White'],\n              ['Red', 'Orange Peel', 'Yellow', 'Green', 'Cyan', 'Blue', 'Electric Violet', 'Magenta'],\n              ['Azalea', 'Karry', 'Egg White', 'Zanah', 'Botticelli', 'Tropical Blue', 'Mischka', 'Twilight'],\n              ['Tonys Pink', 'Peach Orange', 'Cream Brulee', 'Sprout', 'Casper', 'Perano', 'Cold Purple', 'Careys Pink'],\n              ['Mandy', 'Rajah', 'Dandelion', 'Olivine', 'Gulf Stream', 'Viking', 'Blue Marguerite', 'Puce'],\n              ['Guardsman Red', 'Fire Bush', 'Golden Dream', 'Chelsea Cucumber', 'Smalt Blue', 'Boston Blue', 'Butterfly Bush', 'Cadillac'],\n              ['Sangria', 'Mai Tai', 'Buddha Gold', 'Forest Green', 'Eden', 'Venice Blue', 'Meteorite', 'Claret'],\n              ['Rosewood', 'Cinnamon', 'Olive', 'Parsley', 'Tiber', 'Midnight Blue', 'Valentino', 'Loulou']\n          ],\n          lineHeights: ['1.0', '1.2', '1.4', '1.5', '1.6', '1.8', '2.0', '3.0'],\n          tableClassName: 'table table-bordered',\n          insertTableMaxSize: {\n              col: 10,\n              row: 10\n          },\n          dialogsInBody: false,\n          dialogsFade: false,\n          maximumImageFileSize: null,\n          callbacks: {\n              onInit: null,\n              onFocus: null,\n              onBlur: null,\n              onBlurCodeview: null,\n              onEnter: null,\n              onKeyup: null,\n              onKeydown: null,\n              onImageUpload: null,\n              onImageUploadError: null,\n              onImageLinkInsert: null\n          },\n          codemirror: {\n              mode: 'text/html',\n              htmlMode: true,\n              lineNumbers: true\n          },\n          keyMap: {\n              pc: {\n                  'ENTER': 'insertParagraph',\n                  'CTRL+Z': 'undo',\n                  'CTRL+Y': 'redo',\n                  'TAB': 'tab',\n                  'SHIFT+TAB': 'untab',\n                  'CTRL+B': 'bold',\n                  'CTRL+I': 'italic',\n                  'CTRL+U': 'underline',\n                  'CTRL+SHIFT+S': 'strikethrough',\n                  'CTRL+BACKSLASH': 'removeFormat',\n                  'CTRL+SHIFT+L': 'justifyLeft',\n                  'CTRL+SHIFT+E': 'justifyCenter',\n                  'CTRL+SHIFT+R': 'justifyRight',\n                  'CTRL+SHIFT+J': 'justifyFull',\n                  'CTRL+SHIFT+NUM7': 'insertUnorderedList',\n                  'CTRL+SHIFT+NUM8': 'insertOrderedList',\n                  'CTRL+LEFTBRACKET': 'outdent',\n                  'CTRL+RIGHTBRACKET': 'indent',\n                  'CTRL+NUM0': 'formatPara',\n                  'CTRL+NUM1': 'formatH1',\n                  'CTRL+NUM2': 'formatH2',\n                  'CTRL+NUM3': 'formatH3',\n                  'CTRL+NUM4': 'formatH4',\n                  'CTRL+NUM5': 'formatH5',\n                  'CTRL+NUM6': 'formatH6',\n                  'CTRL+ENTER': 'insertHorizontalRule',\n                  'CTRL+K': 'linkDialog.show'\n              },\n              mac: {\n                  'ENTER': 'insertParagraph',\n                  'CMD+Z': 'undo',\n                  'CMD+SHIFT+Z': 'redo',\n                  'TAB': 'tab',\n                  'SHIFT+TAB': 'untab',\n                  'CMD+B': 'bold',\n                  'CMD+I': 'italic',\n                  'CMD+U': 'underline',\n                  'CMD+SHIFT+S': 'strikethrough',\n                  'CMD+BACKSLASH': 'removeFormat',\n                  'CMD+SHIFT+L': 'justifyLeft',\n                  'CMD+SHIFT+E': 'justifyCenter',\n                  'CMD+SHIFT+R': 'justifyRight',\n                  'CMD+SHIFT+J': 'justifyFull',\n                  'CMD+SHIFT+NUM7': 'insertUnorderedList',\n                  'CMD+SHIFT+NUM8': 'insertOrderedList',\n                  'CMD+LEFTBRACKET': 'outdent',\n                  'CMD+RIGHTBRACKET': 'indent',\n                  'CMD+NUM0': 'formatPara',\n                  'CMD+NUM1': 'formatH1',\n                  'CMD+NUM2': 'formatH2',\n                  'CMD+NUM3': 'formatH3',\n                  'CMD+NUM4': 'formatH4',\n                  'CMD+NUM5': 'formatH5',\n                  'CMD+NUM6': 'formatH6',\n                  'CMD+ENTER': 'insertHorizontalRule',\n                  'CMD+K': 'linkDialog.show'\n              }\n          },\n          icons: {\n              'align': 'note-icon-align',\n              'alignCenter': 'note-icon-align-center',\n              'alignJustify': 'note-icon-align-justify',\n              'alignLeft': 'note-icon-align-left',\n              'alignRight': 'note-icon-align-right',\n              'rowBelow': 'note-icon-row-below',\n              'colBefore': 'note-icon-col-before',\n              'colAfter': 'note-icon-col-after',\n              'rowAbove': 'note-icon-row-above',\n              'rowRemove': 'note-icon-row-remove',\n              'colRemove': 'note-icon-col-remove',\n              'indent': 'note-icon-align-indent',\n              'outdent': 'note-icon-align-outdent',\n              'arrowsAlt': 'note-icon-arrows-alt',\n              'bold': 'note-icon-bold',\n              'caret': 'note-icon-caret',\n              'circle': 'note-icon-circle',\n              'close': 'note-icon-close',\n              'code': 'note-icon-code',\n              'eraser': 'note-icon-eraser',\n              'font': 'note-icon-font',\n              'frame': 'note-icon-frame',\n              'italic': 'note-icon-italic',\n              'link': 'note-icon-link',\n              'unlink': 'note-icon-chain-broken',\n              'magic': 'note-icon-magic',\n              'menuCheck': 'note-icon-menu-check',\n              'minus': 'note-icon-minus',\n              'orderedlist': 'note-icon-orderedlist',\n              'pencil': 'note-icon-pencil',\n              'picture': 'note-icon-picture',\n              'question': 'note-icon-question',\n              'redo': 'note-icon-redo',\n              'square': 'note-icon-square',\n              'strikethrough': 'note-icon-strikethrough',\n              'subscript': 'note-icon-subscript',\n              'superscript': 'note-icon-superscript',\n              'table': 'note-icon-table',\n              'textHeight': 'note-icon-text-height',\n              'trash': 'note-icon-trash',\n              'underline': 'note-icon-underline',\n              'undo': 'note-icon-undo',\n              'unorderedlist': 'note-icon-unorderedlist',\n              'video': 'note-icon-video'\n          }\n      }\n  });\n\n})));\n//# sourceMappingURL=summernote.js.map\n","/**\n * Russian translation for bootstrap-datepicker\n * Victor Taranenko <darwin@snowdale.com>\n */\n;(function($){\n\t$.fn.datepicker.dates['ru'] = {\n\t\tdays: [\"Воскресенье\", \"Понедельник\", \"Вторник\", \"Среда\", \"Четверг\", \"Пятница\", \"Суббота\"],\n\t\tdaysShort: [\"Вск\", \"Пнд\", \"Втр\", \"Срд\", \"Чтв\", \"Птн\", \"Суб\"],\n\t\tdaysMin: [\"Вс\", \"Пн\", \"Вт\", \"Ср\", \"Чт\", \"Пт\", \"Сб\"],\n\t\tmonths: [\"Январь\", \"Февраль\", \"Март\", \"Апрель\", \"Май\", \"Июнь\", \"Июль\", \"Август\", \"Сентябрь\", \"Октябрь\", \"Ноябрь\", \"Декабрь\"],\n\t\tmonthsShort: [\"Янв\", \"Фев\", \"Мар\", \"Апр\", \"Май\", \"Июн\", \"Июл\", \"Авг\", \"Сен\", \"Окт\", \"Ноя\", \"Дек\"],\n\t\ttoday: \"Сегодня\",\n\t\tclear: \"Очистить\",\n\t\tformat: \"dd.mm.yyyy\",\n\t\tweekStart: 1,\n    monthsTitle: 'Месяцы'\n\t};\n}(jQuery));\n","$.fn.datepicker.defaults.format = \"mm.dd.yyyy\";\r\n$.fn.datepicker.defaults.language = \"ru\";\r\n$.fn.datepicker.defaults.startDate = '-3d';\r\n\r\n\r\n$(document).ready(function () {\r\n    console.log(\"ready!\");\r\n\r\n    console.log(moment().format('MMMM Do YYYY, h:mm:ss a'));\r\n    // var $j = jQuery.noConflict();\r\n    $('.data').datepicker();\r\n\r\n});"]}